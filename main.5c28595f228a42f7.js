(self.webpackChunkjava_progress_tracker=self.webpackChunkjava_progress_tracker||[]).push([[179],{765:(nt,pe,k)=>{"use strict";function z(n){return"function"==typeof n}function se(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Oe=se(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Fe(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class M{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(z(r))try{r()}catch(o){t=o instanceof Oe?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{W(o)}catch(s){t=t??[],s instanceof Oe?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Oe(t)}}add(t){var e;if(t&&t!==this)if(this.closed)W(t);else{if(t instanceof M){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Fe(e,t)}remove(t){const{_finalizers:e}=this;e&&Fe(e,t),t instanceof M&&t._removeParent(this)}}M.EMPTY=(()=>{const n=new M;return n.closed=!0,n})();const D=M.EMPTY;function A(n){return n instanceof M||n&&"closed"in n&&z(n.remove)&&z(n.add)&&z(n.unsubscribe)}function W(n){z(n)?n():n.unsubscribe()}const te={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ge={setTimeout(n,t,...e){const{delegate:r}=ge;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=ge;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function _e(n){ge.setTimeout(()=>{const{onUnhandledError:t}=te;if(!t)throw n;t(n)})}function De(){}const Ie=T("C",void 0,void 0);function T(n,t,e){return{kind:n,value:t,error:e}}let E=null;function V(n){if(te.useDeprecatedSynchronousErrorHandling){const t=!E;if(t&&(E={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=E;if(E=null,e)throw r}}else n()}class B extends M{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,A(t)&&t.add(this)):this.destination=mi}static create(t,e,r){return new Ne(t,e,r)}next(t){this.isStopped?or(function Ue(n){return T("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?or(function me(n){return T("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?or(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Q=Function.prototype.bind;function Se(n,t){return Q.call(n,t)}class Y{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){Ge(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){Ge(r)}else Ge(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Ge(e)}}}class Ne extends B{constructor(t,e,r){let i;if(super(),z(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&te.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Se(t.next,o),error:t.error&&Se(t.error,o),complete:t.complete&&Se(t.complete,o)}):i=t}this.destination=new Y(i)}}function Ge(n){te.useDeprecatedSynchronousErrorHandling?function G(n){te.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=n)}(n):_e(n)}function or(n,t){const{onStoppedNotification:e}=te;e&&ge.setTimeout(()=>e(n,t))}const mi={closed:!0,next:De,error:function An(n){throw n},complete:De},Gr="function"==typeof Symbol&&Symbol.observable||"@@observable";function Tn(n){return n}function ct(n){return 0===n.length?Tn:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}let Le=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const o=function jt(n){return n&&n instanceof B||function Cr(n){return n&&z(n.next)&&z(n.error)&&z(n.complete)}(n)&&A(n)}(e)?e:new Ne(e,r,i);return V(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=jn(r))((i,o)=>{const s=new Ne({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[Gr](){return this}pipe(...e){return ct(e)(this)}toPromise(e){return new(e=jn(e))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function jn(n){var t;return null!==(t=n??te.Promise)&&void 0!==t?t:Promise}const Yo=se(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let y=(()=>{class n extends Le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new C(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Yo}next(e){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:o}=this;return r||i?D:(this.currentObservers=null,o.push(e),new M(()=>{this.currentObservers=null,Fe(o,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){const e=new Le;return e.source=this,e}}return n.create=(t,e)=>new C(t,e),n})();class C extends y{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:D}}function S(n){return z(n?.lift)}function w(n){return t=>{if(S(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function x(n,t,e,r,i){return new j(n,t,e,r,i)}class j extends B{constructor(t,e,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function $(n,t){return w((e,r)=>{let i=0;e.subscribe(x(r,o=>{r.next(n.call(t,o,i++))}))})}var L=k(582);const vt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ae(n){return z(n?.then)}function rt(n){return z(n[Gr])}function Tt(n){return Symbol.asyncIterator&&z(n?.[Symbol.asyncIterator])}function zr(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const $t=function Qe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function on(n){return z(n?.[$t])}function Mn(n){return(0,L.__asyncGenerator)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,L.__await)(e.read());if(i)return yield(0,L.__await)(void 0);yield yield(0,L.__await)(r)}}finally{e.releaseLock()}})}function sr(n){return z(n?.getReader)}function $n(n){if(n instanceof Le)return n;if(null!=n){if(rt(n))return function kE(n){return new Le(t=>{const e=n[Gr]();if(z(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(vt(n))return function NE(n){return new Le(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(ae(n))return function FE(n){return new Le(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,_e)})}(n);if(Tt(n))return zp(n);if(on(n))return function LE(n){return new Le(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(sr(n))return function VE(n){return zp(Mn(n))}(n)}throw zr(n)}function zp(n){return new Le(t=>{(function jE(n,t){var e,r,i,o;return(0,L.__awaiter)(this,void 0,void 0,function*(){try{for(e=(0,L.__asyncValues)(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Er(n,t,e,r=0,i=!1){const o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ft(n,t,e=1/0){return z(t)?Ft((r,i)=>$((o,s)=>t(r,o,i,s))($n(n(r,i))),e):("number"==typeof t&&(e=t),w((r,i)=>function $E(n,t,e,r,i,o,s,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&t.complete()},f=m=>u<r?p(m):l.push(m),p=m=>{o&&t.next(m),u++;let _=!1;$n(e(m,c++)).subscribe(x(t,b=>{i?.(b),o?f(b):t.next(b)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;l.length&&u<r;){const b=l.shift();s?Er(t,s,()=>p(b)):p(b)}h()}catch(b){t.error(b)}}))};return n.subscribe(x(t,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,e)))}function zi(n=1/0){return Ft(Tn,n)}const Dr=new Le(n=>n.complete());function Bu(n){return n[n.length-1]}function qp(n){return z(Bu(n))?n.pop():void 0}function Xo(n){return function BE(n){return n&&z(n.schedule)}(Bu(n))?n.pop():void 0}function Wp(n,t=0){return w((e,r)=>{e.subscribe(x(r,i=>Er(r,n,()=>r.next(i),t),()=>Er(r,n,()=>r.complete(),t),i=>Er(r,n,()=>r.error(i),t)))})}function Kp(n,t=0){return w((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Jp(n,t){if(!n)throw new Error("Iterable cannot be null");return new Le(e=>{Er(e,t,()=>{const r=n[Symbol.asyncIterator]();Er(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function wt(n,t){return t?function JE(n,t){if(null!=n){if(rt(n))return function GE(n,t){return $n(n).pipe(Kp(t),Wp(t))}(n,t);if(vt(n))return function qE(n,t){return new Le(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(ae(n))return function zE(n,t){return $n(n).pipe(Kp(t),Wp(t))}(n,t);if(Tt(n))return Jp(n,t);if(on(n))return function WE(n,t){return new Le(e=>{let r;return Er(e,t,()=>{r=n[$t](),Er(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void e.error(s)}o?e.complete():e.next(i)},0,!0)}),()=>z(r?.return)&&r.return()})}(n,t);if(sr(n))return function KE(n,t){return Jp(Mn(n),t)}(n,t)}throw zr(n)}(n,t):$n(n)}function Hu(n,t,...e){if(!0===t)return void n();if(!1===t)return;const r=new Ne({next:()=>{r.unsubscribe(),n()}});return t(...e).subscribe(r)}function Ke(n){for(let t in n)if(n[t]===Ke)return t;throw Error("Could not find renamed property on target object.")}function Gu(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Je(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Je).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function zu(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const YE=Ke({__forward_ref__:Ke});function Ye(n){return n.__forward_ref__=Ye,n.toString=function(){return Je(this())},n}function ce(n){return qu(n)?n():n}function qu(n){return"function"==typeof n&&n.hasOwnProperty(YE)&&n.__forward_ref__===Ye}class q extends Error{constructor(t,e){super(function Ca(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function we(n){return"string"==typeof n?n:null==n?"":String(n)}function Ea(n,t){throw new q(-201,!1)}function fn(n,t){null==n&&function Be(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function ye(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Un(n){return{providers:n.providers||[],imports:n.imports||[]}}function Da(n){return Zp(n,Sa)||Zp(n,Yp)}function Zp(n,t){return n.hasOwnProperty(t)?n[t]:null}function Qp(n){return n&&(n.hasOwnProperty(Wu)||n.hasOwnProperty(aD))?n[Wu]:null}const Sa=Ke({\u0275prov:Ke}),Wu=Ke({\u0275inj:Ke}),Yp=Ke({ngInjectableDef:Ke}),aD=Ke({ngInjectorDef:Ke});var oe=(()=>((oe=oe||{})[oe.Default=0]="Default",oe[oe.Host=1]="Host",oe[oe.Self=2]="Self",oe[oe.SkipSelf=4]="SkipSelf",oe[oe.Optional=8]="Optional",oe))();let Ku;function In(n){const t=Ku;return Ku=n,t}function Xp(n,t,e){const r=Da(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&oe.Optional?null:void 0!==t?t:void Ea(Je(n))}function qr(n){return{toString:n}.toString()}var Bn=(()=>((Bn=Bn||{})[Bn.OnPush=0]="OnPush",Bn[Bn.Default=1]="Default",Bn))(),ar=(()=>{return(n=ar||(ar={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ar;var n})();const Xe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),qi={},$e=[],Aa=Ke({\u0275cmp:Ke}),Ju=Ke({\u0275dir:Ke}),Zu=Ke({\u0275pipe:Ke}),eg=Ke({\u0275mod:Ke}),Ar=Ke({\u0275fac:Ke}),es=Ke({__NG_ELEMENT_ID__:Ke});let uD=0;function Wr(n){return qr(()=>{const e=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Bn.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||$e,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ar.Emulated,id:"c"+uD++,styles:n.styles||$e,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return i.inputs=rg(n.inputs,r),i.outputs=rg(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(tg).filter(ng):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(Zt).filter(ng):null,i})}function tg(n){return ze(n)||Jt(n)}function ng(n){return null!==n}function lr(n){return qr(()=>({type:n.type,bootstrap:n.bootstrap||$e,declarations:n.declarations||$e,imports:n.imports||$e,exports:n.exports||$e,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function rg(n,t){if(null==n)return qi;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,t&&(t[i]=o)}return e}const de=Wr;function sn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ze(n){return n[Aa]||null}function Jt(n){return n[Ju]||null}function Zt(n){return n[Zu]||null}function pn(n,t){const e=n[eg]||null;if(!e&&!0===t)throw new Error(`Type ${Je(n)} does not have '\u0275mod' property.`);return e}function an(n){return Array.isArray(n)&&"object"==typeof n[1]}function Gn(n){return Array.isArray(n)&&!0===n[1]}function Xu(n){return 0!=(8&n.flags)}function xa(n){return 2==(2&n.flags)}function Oa(n){return 1==(1&n.flags)}function zn(n){return null!==n.template}function gD(n){return 0!=(256&n[2])}function Ci(n,t){return n.hasOwnProperty(Ar)?n[Ar]:null}class yD{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function On(){return sg}function sg(n){return n.type.prototype.ngOnChanges&&(n.setInput=wD),vD}function vD(){const n=lg(this),t=n?.current;if(t){const e=n.previous;if(e===qi)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function wD(n,t,e,r){const i=lg(n)||function bD(n,t){return n[ag]=t}(n,{previous:qi,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[e],l=s[a];o[a]=new yD(l&&l.currentValue,t,s===qi),n[r]=t}On.ngInherit=!0;const ag="__ngSimpleChanges__";function lg(n){return n[ag]||null}function bt(n){for(;Array.isArray(n);)n=n[0];return n}function Pa(n,t){return bt(t[n])}function mn(n,t){return bt(t[n.index])}function ic(n,t){return n.data[t]}function _n(n,t){const e=t[n];return an(e)?e:e[0]}function Ra(n){return 64==(64&n[2])}function Kr(n,t){return null==t?null:n[t]}function ug(n){n[18]=0}function oc(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const ve={lFrame:vg(null),bindingsEnabled:!0};function dg(){return ve.bindingsEnabled}function P(){return ve.lFrame.lView}function Ve(){return ve.lFrame.tView}function ht(n){return ve.lFrame.contextLView=n,n[8]}function ft(n){return ve.lFrame.contextLView=null,n}function Mt(){let n=hg();for(;null!==n&&64===n.type;)n=n.parent;return n}function hg(){return ve.lFrame.currentTNode}function ur(n,t){const e=ve.lFrame;e.currentTNode=n,e.isParent=t}function sc(){return ve.lFrame.isParent}function Yi(){return ve.lFrame.bindingIndex++}function Mr(n){const t=ve.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function FD(n,t){const e=ve.lFrame;e.bindingIndex=e.bindingRootIndex=n,lc(t)}function lc(n){ve.lFrame.currentDirectiveIndex=n}function mg(){return ve.lFrame.currentQueryIndex}function cc(n){ve.lFrame.currentQueryIndex=n}function VD(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function _g(n,t,e){if(e&oe.SkipSelf){let i=t,o=n;for(;!(i=i.parent,null!==i||e&oe.Host||(i=VD(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,n=o}const r=ve.lFrame=yg();return r.currentTNode=t,r.lView=n,!0}function dc(n){const t=yg(),e=n[1];ve.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function yg(){const n=ve.lFrame,t=null===n?null:n.child;return null===t?vg(n):t}function vg(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function wg(){const n=ve.lFrame;return ve.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const bg=wg;function hc(){const n=wg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Yt(){return ve.lFrame.selectedIndex}function Jr(n){ve.lFrame.selectedIndex=n}function st(){const n=ve.lFrame;return ic(n.tView,n.selectedIndex)}function ka(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),u&&((n.viewHooks||(n.viewHooks=[])).push(e,u),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,u)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(e,c)}}function Na(n,t,e){Cg(n,t,3,e)}function Fa(n,t,e,r){(3&n[2])===e&&Cg(n,t,e,r)}function fc(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Cg(n,t,e,r){const o=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(WD(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function WD(n,t,e,r){const i=e[r]<0,o=e[r+1],a=n[i?-e[r]:e[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class ss{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function La(n,t,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const o=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,o)}else{const o=i,s=e[++r];Dg(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),r++}}return r}function Eg(n){return 3===n||4===n||6===n}function Dg(n){return 64===n.charCodeAt(0)}function Va(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||Sg(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function Sg(n,t,e,r,i){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function Ag(n){return-1!==n}function Xi(n){return 32767&n}function eo(n,t){let e=function YD(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let gc=!0;function ja(n){const t=gc;return gc=n,t}let XD=0;const cr={};function ls(n,t){const e=_c(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,mc(r.data,n),mc(t,null),mc(r.blueprint,null));const i=$a(n,t),o=n.injectorIndex;if(Ag(i)){const s=Xi(i),a=eo(i,t),l=a[1].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=i,o}function mc(n,t){n.push(0,0,0,0,0,0,0,0,t)}function _c(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function $a(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){if(r=Ng(i),null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function Ua(n,t,e){!function eS(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(es)&&(r=e[es]),null==r&&(r=e[es]=XD++);const i=255&r;t.data[n+(i>>5)]|=1<<i}(n,t,e)}function Ig(n,t,e){if(e&oe.Optional||void 0!==n)return n;Ea()}function xg(n,t,e,r){if(e&oe.Optional&&void 0===r&&(r=null),0==(e&(oe.Self|oe.Host))){const i=n[9],o=In(void 0);try{return i?i.get(t,r,e&oe.Optional):Xp(t,r,e&oe.Optional)}finally{In(o)}}return Ig(r,0,e)}function Og(n,t,e,r=oe.Default,i){if(null!==n){if(1024&t[2]){const s=function oS(n,t,e,r,i){let o=n,s=t;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=Pg(o,s,e,r|oe.Self,cr);if(a!==cr)return a;let l=o.parent;if(!l){const u=s[21];if(u){const c=u.get(e,cr,r);if(c!==cr)return c}l=Ng(s),s=s[15]}o=l}return i}(n,t,e,r,cr);if(s!==cr)return s}const o=Pg(n,t,e,r,cr);if(o!==cr)return o}return xg(t,e,r,i)}function Pg(n,t,e,r,i){const o=function rS(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(es)?n[es]:void 0;return"number"==typeof t?t>=0?255&t:iS:t}(e);if("function"==typeof o){if(!_g(t,n,r))return r&oe.Host?Ig(i,0,r):xg(t,e,r,i);try{const s=o(r);if(null!=s||r&oe.Optional)return s;Ea()}finally{bg()}}else if("number"==typeof o){let s=null,a=_c(n,t),l=-1,u=r&oe.Host?t[16][6]:null;for((-1===a||r&oe.SkipSelf)&&(l=-1===a?$a(n,t):t[a+8],-1!==l&&kg(r,!1)?(s=t[1],a=Xi(l),t=eo(l,t)):a=-1);-1!==a;){const c=t[1];if(Rg(o,a,c.data)){const d=nS(a,t,e,s,r,u);if(d!==cr)return d}l=t[a+8],-1!==l&&kg(r,t[1].data[a+8]===u)&&Rg(o,a,t)?(s=c,a=Xi(l),t=eo(l,t)):a=-1}}return i}function nS(n,t,e,r,i,o){const s=t[1],a=s.data[n+8],c=Ba(a,s,e,null==r?xa(a)&&gc:r!=s&&0!=(3&a.type),i&oe.Host&&o===a);return null!==c?us(t,s,c,a):cr}function Ba(n,t,e,r,i){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,c=o>>20,h=i?a+c:n.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=s[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(i){const f=s[l];if(f&&zn(f)&&f.type===e)return l}return null}function us(n,t,e,r){let i=n[e];const o=t.data;if(function KD(n){return n instanceof ss}(i)){const s=i;s.resolving&&function XE(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new q(-200,`Circular dependency in DI detected for ${n}${e}`)}(function je(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():we(n)}(o[e]));const a=ja(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?In(s.injectImpl):null;_g(n,r,oe.Default);try{i=n[e]=s.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&function qD(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=sg(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,i),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&In(l),ja(a),s.resolving=!1,bg()}}return i}function Rg(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function kg(n,t){return!(n&oe.Self||n&oe.Host&&t)}class to{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return Og(this._tNode,this._lView,t,r,e)}}function iS(){return new to(Mt(),P())}function Ht(n){return qr(()=>{const t=n.prototype.constructor,e=t[Ar]||yc(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Ar]||yc(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function yc(n){return qu(n)?()=>{const t=yc(ce(n));return t&&t()}:Ci(n)}function Ng(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}function cs(n){return function tS(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const o=e[i];if(Eg(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(o===t)return e[i+1];i+=2}}}return null}(Mt(),n)}const ro="__parameters__";function oo(n,t,e){return qr(()=>{const r=function vc(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,c){const d=l.hasOwnProperty(ro)?l[ro]:Object.defineProperty(l,ro,{value:[]})[ro];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class ne{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ye({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function yn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let r=n[e];Array.isArray(r)?(t===n&&(t=n.slice(0,e)),yn(r,t)):t!==n&&t.push(r)}return t}function Ir(n,t){n.forEach(e=>Array.isArray(e)?Ir(e,t):t(e))}function Lg(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Ha(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function vn(n,t,e){let r=so(n,t);return r>=0?n[1|r]=e:(r=~r,function uS(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function bc(n,t){const e=so(n,t);if(e>=0)return n[1|e]}function so(n,t){return function $g(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}(n,t,1)}const ps={},Ec="__NG_DI_FLAG__",za="ngTempTokenPath",_S=/\n/gm,Ug="__source";let gs;function ao(n){const t=gs;return gs=n,t}function vS(n,t=oe.Default){if(void 0===gs)throw new q(-203,!1);return null===gs?Xp(n,void 0,t):gs.get(n,t&oe.Optional?null:void 0,t)}function X(n,t=oe.Default){return(function lD(){return Ku}()||vS)(ce(n),t)}function mt(n,t=oe.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),X(n,t)}function Dc(n){const t=[];for(let e=0;e<n.length;e++){const r=ce(n[e]);if(Array.isArray(r)){if(0===r.length)throw new q(900,!1);let i,o=oe.Default;for(let s=0;s<r.length;s++){const a=r[s],l=wS(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}t.push(X(i,o))}else t.push(X(r))}return t}function ms(n,t){return n[Ec]=t,n.prototype[Ec]=t,n}function wS(n){return n[Ec]}const _s=ms(oo("Optional"),8),ys=ms(oo("SkipSelf"),4);var ln=(()=>((ln=ln||{})[ln.Important=1]="Important",ln[ln.DashCase=2]="DashCase",ln))();const Ic=new Map;let VS=0;const Oc="__ngContext__";function Gt(n,t){an(t)?(n[Oc]=t[20],function $S(n){Ic.set(n[20],n)}(t)):n[Oc]=t}function Rc(n,t){return undefined(n,t)}function Cs(n){const t=n[3];return Gn(t)?t[3]:t}function kc(n){return lm(n[13])}function Nc(n){return lm(n[4])}function lm(n){for(;null!==n&&!Gn(n);)n=n[4];return n}function uo(n,t,e,r,i){if(null!=r){let o,s=!1;Gn(r)?o=r:an(r)&&(s=!0,r=r[0]);const a=bt(r);0===n&&null!==e?null==i?pm(t,e,a):Ei(t,e,a,i||null,!0):1===n&&null!==e?Ei(t,e,a,i||null,!0):2===n?function Bc(n,t,e){const r=Ka(n,t);r&&function lA(n,t,e,r){n.removeChild(t,e,r)}(n,r,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function dA(n,t,e,r,i){const o=e[7];o!==bt(e)&&uo(t,n,r,o,i);for(let a=10;a<e.length;a++){const l=e[a];Es(l[1],l,n,t,r,o)}}(t,n,o,e,i)}}function Lc(n,t,e){return n.createElement(t,e)}function cm(n,t){const e=n[9],r=e.indexOf(t),i=t[3];512&t[2]&&(t[2]&=-513,oc(i,-1)),e.splice(r,1)}function Vc(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const i=r[17];null!==i&&i!==n&&cm(i,r),t>0&&(n[e-1][4]=r[4]);const o=Ha(n,10+t);!function eA(n,t){Es(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function dm(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&Es(n,t,e,3,null,null),function rA(n){let t=n[13];if(!t)return jc(n[1],n);for(;t;){let e=null;if(an(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)an(t)&&jc(t[1],t),t=t[3];null===t&&(t=n),an(t)&&jc(t[1],t),e=t&&t[4]}t=e}}(t)}}function jc(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function aA(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof ss)){const o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,t),function sA(n,t){const e=n.cleanup,r=t[7];let i=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):bt(t[s]),l=r[i=e[o+2]],u=e[o+3];"boolean"==typeof u?a.removeEventListener(e[o],l,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const s=r[i=e[o+1]];e[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&Gn(t[3])){e!==t[3]&&cm(e,t);const r=t[19];null!==r&&r.detachView(n)}!function US(n){Ic.delete(n[20])}(t)}}function hm(n,t,e){return function fm(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===ar.None||i===ar.Emulated)return null}return mn(r,e)}(n,t.parent,e)}function Ei(n,t,e,r,i){n.insertBefore(t,e,r,i)}function pm(n,t,e){n.appendChild(t,e)}function gm(n,t,e,r,i){null!==r?Ei(n,t,e,r,i):pm(n,t,e)}function Ka(n,t){return n.parentNode(t)}let qc,ym=function _m(n,t,e){return 40&n.type?mn(n,e):null};function Ja(n,t,e,r){const i=hm(n,r,t),o=t[11],a=function mm(n,t,e){return ym(n,t,e)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(e))for(let l=0;l<e.length;l++)gm(o,i,e[l],a,!1);else gm(o,i,e,a,!1)}function Za(n,t){if(null!==t){const e=t.type;if(3&e)return mn(t,n);if(4&e)return Uc(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return Za(n,r);{const i=n[t.index];return Gn(i)?Uc(-1,i):bt(i)}}if(32&e)return Rc(t,n)()||bt(n[t.index]);{const r=wm(n,t);return null!==r?Array.isArray(r)?r[0]:Za(Cs(n[16]),r):Za(n,t.next)}}return null}function wm(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Uc(n,t){const e=10+n+1;if(e<t.length){const r=t[e],i=r[1].firstChild;if(null!==i)return Za(r,i)}return t[7]}function Hc(n,t,e,r,i,o,s){for(;null!=e;){const a=r[e.index],l=e.type;if(s&&0===t&&(a&&Gt(bt(a),r),e.flags|=4),64!=(64&e.flags))if(8&l)Hc(n,t,e.child,r,i,o,!1),uo(t,n,i,a,o);else if(32&l){const u=Rc(e,r);let c;for(;c=u();)uo(t,n,i,c,o);uo(t,n,i,a,o)}else 16&l?bm(n,t,r,e,i,o):uo(t,n,i,a,o);e=s?e.projectionNext:e.next}}function Es(n,t,e,r,i,o){Hc(e,r,n.firstChild,t,i,o,!1)}function bm(n,t,e,r,i,o){const s=e[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)uo(t,n,i,l[u],o);else Hc(n,t,l,s[3],i,o,!0)}function Cm(n,t,e){n.setAttribute(t,"style",e)}function Gc(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}class Tm{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Qr(n){return n instanceof Tm?n.changingThisBreaksApplicationSecurity:n}const AA=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Ct=(()=>((Ct=Ct||{})[Ct.NONE=0]="NONE",Ct[Ct.HTML=1]="HTML",Ct[Ct.STYLE=2]="STYLE",Ct[Ct.SCRIPT=3]="SCRIPT",Ct[Ct.URL=4]="URL",Ct[Ct.RESOURCE_URL=5]="RESOURCE_URL",Ct))();function Yc(n){const t=function As(){const n=P();return n&&n[12]}();return t?t.sanitize(Ct.URL,n)||"":function Ds(n,t){const e=function CA(n){return n instanceof Tm&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}(n,"URL")?Qr(n):function Kc(n){return(n=String(n)).match(AA)?n:"unsafe:"+n}(we(n))}const Xc=new ne("ENVIRONMENT_INITIALIZER"),Nm=new ne("INJECTOR",-1),Fm=new ne("INJECTOR_DEF_TYPES");class Lm{get(t,e=ps){if(e===ps){const r=new Error(`NullInjectorError: No provider for ${Je(t)}!`);throw r.name="NullInjectorError",r}return e}}function $A(...n){return{\u0275providers:Vm(0,n)}}function Vm(n,...t){const e=[],r=new Set;let i;return Ir(t,o=>{const s=o;ed(s,e,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&jm(i,e),e}function jm(n,t){for(let e=0;e<n.length;e++){const{providers:i}=n[e];Ir(i,o=>{t.push(o)})}}function ed(n,t,e,r){if(!(n=ce(n)))return!1;let i=null,o=Qp(n);const s=!o&&ze(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const l=n.ngModule;if(o=Qp(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)ed(u,t,e,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Ir(o.imports,c=>{ed(c,t,e,r)&&(u||(u=[]),u.push(c))})}finally{}void 0!==u&&jm(u,t)}if(!a){const u=Ci(i)||(()=>new i);t.push({provide:i,useFactory:u,deps:$e},{provide:Fm,useValue:i,multi:!0},{provide:Xc,useValue:()=>X(i),multi:!0})}const l=o.providers;null==l||a||Ir(l,c=>{t.push(c)})}}return i!==n&&void 0!==n.providers}const UA=Ke({provide:String,useValue:Ke});function td(n){return null!==n&&"object"==typeof n&&UA in n}function Si(n){return"function"==typeof n}const nd=new ne("Set Injector scope."),el={},HA={};let rd;function tl(){return void 0===rd&&(rd=new Lm),rd}class Yr{}class Bm extends Yr{constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,od(t,s=>this.processProvider(s)),this.records.set(Nm,co(void 0,this)),i.has("environment")&&this.records.set(Yr,co(void 0,this));const o=this.records.get(nd);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Fm.multi,$e,oe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=ao(this),r=In(void 0);try{return t()}finally{ao(e),In(r)}}get(t,e=ps,r=oe.Default){this.assertNotDestroyed();const i=ao(this),o=In(void 0);try{if(!(r&oe.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function KA(n){return"function"==typeof n||"object"==typeof n&&n instanceof ne}(t)&&Da(t);a=l&&this.injectableDefInScope(l)?co(id(t),el):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&oe.Self?tl():this.parent).get(t,e=r&oe.Optional&&e===ps?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[za]=s[za]||[]).unshift(Je(t)),i)throw s;return function bS(n,t,e,r){const i=n[za];throw t[Ug]&&i.unshift(t[Ug]),n.message=function CS(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Je(t);if(Array.isArray(t))i=t.map(Je).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Je(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(_S,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[za]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{In(o),ao(i)}}resolveInjectorInitializers(){const t=ao(this),e=In(void 0);try{const r=this.get(Xc.multi,$e,oe.Self);for(const i of r)i()}finally{ao(t),In(e)}}toString(){const t=[],e=this.records;for(const r of e.keys())t.push(Je(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(t){let e=Si(t=ce(t))?t:ce(t&&t.provide);const r=function zA(n){return td(n)?co(void 0,n.useValue):co(Hm(n),el)}(t);if(Si(t)||!0!==t.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=co(void 0,el,!0),i.factory=()=>Dc(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){return e.value===el&&(e.value=HA,e.value=e.factory()),"object"==typeof e.value&&e.value&&function WA(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ce(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function id(n){const t=Da(n),e=null!==t?t.factory:Ci(n);if(null!==e)return e;if(n instanceof ne)throw new q(204,!1);if(n instanceof Function)return function GA(n){const t=n.length;if(t>0)throw function fs(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}(t,"?"),new q(204,!1);const e=function oD(n){const t=n&&(n[Sa]||n[Yp]);if(t){const e=function sD(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new q(204,!1)}function Hm(n,t,e){let r;if(Si(n)){const i=ce(n);return Ci(i)||id(i)}if(td(n))r=()=>ce(n.useValue);else if(function Um(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Dc(n.deps||[]));else if(function $m(n){return!(!n||!n.useExisting)}(n))r=()=>X(ce(n.useExisting));else{const i=ce(n&&(n.useClass||n.provide));if(!function qA(n){return!!n.deps}(n))return Ci(i)||id(i);r=()=>new i(...Dc(n.deps))}return r}function co(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function JA(n){return!!n.\u0275providers}function od(n,t){for(const e of n)Array.isArray(e)?od(e,t):JA(e)?od(e.\u0275providers,t):t(e)}class Gm{}class YA{resolveComponentFactory(t){throw function QA(n){const t=Error(`No component factory found for ${Je(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Ts=(()=>{class n{}return n.NULL=new YA,n})();function XA(){return ho(Mt(),P())}function ho(n,t){return new wn(mn(n,t))}let wn=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=XA,n})();function eT(n){return n instanceof wn?n.nativeElement:n}class qm{}let Or=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function tT(){const n=P(),e=_n(Mt().index,n);return(an(e)?e:n)[11]}(),n})(),nT=(()=>{class n{}return n.\u0275prov=ye({token:n,providedIn:"root",factory:()=>null}),n})();class Ms{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const rT=new Ms("14.3.0"),sd={};function ld(n){return n.ngOriginalError}class fo{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&ld(t);for(;e&&ld(e);)e=ld(e);return e||null}}function Pr(n){return n instanceof Function?n():n}function Km(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}const Jm="ng-template";function pT(n,t,e){let r=0;for(;r<n.length;){let i=n[r++];if(e&&"class"===i){if(i=n[r],-1!==Km(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Zm(n){return 4===n.type&&n.value!==Jm}function gT(n,t,e){return t===(4!==n.type||e?n.value:Jm)}function mT(n,t,e){let r=4;const i=n.attrs||[],o=function vT(n){for(let t=0;t<n.length;t++)if(Eg(n[t]))return t;return n.length}(i);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!gT(n,l,e)||""===l&&1===t.length){if(qn(r))return!1;s=!0}}else{const u=8&r?l:t[++a];if(8&r&&null!==n.attrs){if(!pT(n.attrs,u,e)){if(qn(r))return!1;s=!0}continue}const d=_T(8&r?"class":l,i,Zm(n),e);if(-1===d){if(qn(r))return!1;s=!0;continue}if(""!==u){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Km(f,u,0)||2&r&&u!==h){if(qn(r))return!1;s=!0}}}}else{if(!s&&!qn(r)&&!qn(l))return!1;if(s&&qn(l))continue;s=!1,r=l|1&r}}return qn(r)||s}function qn(n){return 0==(1&n)}function _T(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){const s=t[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function wT(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function Qm(n,t,e=!1){for(let r=0;r<t.length;r++)if(mT(n,t[r],e))return!0;return!1}function Ym(n,t){return n?":not("+t.trim()+")":t}function CT(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&r){const a=n[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!qn(s)&&(t+=Ym(o,i),i=""),r=s,o=o||!qn(r);e++}return""!==i&&(t+=Ym(o,i)),t}const be={};function Z(n){Xm(Ve(),P(),Yt()+n,!1)}function Xm(n,t,e,r){if(!r)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&Na(t,o,e)}else{const o=n.preOrderHooks;null!==o&&Fa(t,o,0,e)}Jr(e)}function r_(n,t=null,e=null,r){const i=i_(n,t,e,r);return i.resolveInjectorInitializers(),i}function i_(n,t=null,e=null,r,i=new Set){const o=[e||$e,$A(n)];return r=r||("object"==typeof n?void 0:Je(n)),new Bm(o,t||tl(),r||null,i)}let Rn=(()=>{class n{static create(e,r){if(Array.isArray(e))return r_({name:""},r,e,"");{const i=e.name??"";return r_({name:i},e.parent,e.providers,i)}}}return n.THROW_IF_NOT_FOUND=ps,n.NULL=new Lm,n.\u0275prov=ye({token:n,providedIn:"any",factory:()=>X(Nm)}),n.__NG_ELEMENT_ID__=-1,n})();function N(n,t=oe.Default){const e=P();return null===e?X(n,t):Og(Mt(),e,ce(n),t)}function fd(){throw new Error("invalid")}function rl(n,t){return n<<17|t<<2}function Wn(n){return n>>17&32767}function pd(n){return 2|n}function Rr(n){return(131068&n)>>2}function gd(n,t){return-131069&n|t<<2}function md(n){return 1|n}function b_(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];if(-1!==o){const s=n.data[o];cc(i),s.contentQueries(2,t[o],o)}}}function sl(n,t,e,r,i,o,s,a,l,u,c){const d=t.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==c||n&&1024&n[2])&&(d[2]|=1024),ug(d),d[3]=d[15]=n,d[8]=e,d[10]=s||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=u||n&&n[9]||null,d[6]=o,d[20]=function jS(){return VS++}(),d[21]=c,d[16]=2==t.type?n[16]:d,d}function mo(n,t,e,r,i){let o=n.data[t];if(null===o)o=function Dd(n,t,e,r,i){const o=hg(),s=sc(),l=n.data[t]=function iM(n,t,e,r,i,o){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,r,i),function ND(){return ve.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const s=function os(){const n=ve.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ur(o,!0),o}function _o(n,t,e,r){if(0===e)return-1;const i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function Sd(n,t,e){dc(t);try{const r=n.viewQuery;null!==r&&Rd(1,r,e);const i=n.template;null!==i&&C_(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&b_(n,t),n.staticViewQueries&&Rd(2,n.viewQuery,e);const o=n.components;null!==o&&function tM(n,t){for(let e=0;e<t.length;e++)wM(n,t[e])}(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,hc()}}function al(n,t,e,r){const i=t[2];if(128!=(128&i)){dc(t);try{ug(t),function pg(n){return ve.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&C_(n,t,e,2,r);const s=3==(3&i);if(s){const u=n.preOrderCheckHooks;null!==u&&Na(t,u,null)}else{const u=n.preOrderHooks;null!==u&&Fa(t,u,0,null),fc(t,0)}if(function yM(n){for(let t=kc(n);null!==t;t=Nc(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const i=e[r],o=i[3];0==(512&i[2])&&oc(o,1),i[2]|=512}}}(t),function _M(n){for(let t=kc(n);null!==t;t=Nc(t))for(let e=10;e<t.length;e++){const r=t[e],i=r[1];Ra(r)&&al(i,r,i.template,r[8])}}(t),null!==n.contentQueries&&b_(n,t),s){const u=n.contentCheckHooks;null!==u&&Na(t,u)}else{const u=n.contentHooks;null!==u&&Fa(t,u,1),fc(t,1)}!function XT(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)Jr(~i);else{const o=i,s=e[++r],a=e[++r];FD(s,o),a(2,t[o])}}}finally{Jr(-1)}}(n,t);const a=n.components;null!==a&&function eM(n,t){for(let e=0;e<t.length;e++)vM(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&Rd(2,l,r),s){const u=n.viewCheckHooks;null!==u&&Na(t,u)}else{const u=n.viewHooks;null!==u&&Fa(t,u,2),fc(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,oc(t[3],-1))}finally{hc()}}}function C_(n,t,e,r,i){const o=Yt(),s=2&r;try{Jr(-1),s&&t.length>22&&Xm(n,t,22,!1),e(r,i)}finally{Jr(o)}}function Ad(n,t,e){!dg()||(function uM(n,t,e,r){const i=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||ls(e,t),Gt(r,t);const s=e.initialInputs;for(let a=i;a<o;a++){const l=n.data[a],u=zn(l);u&&pM(t,e,l);const c=us(t,n,a,e);Gt(c,t),null!==s&&gM(0,a-i,c,l,0,s),u&&(_n(e.index,t)[8]=c)}}(n,t,e,mn(e,t)),128==(128&e.flags)&&function cM(n,t,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,s=function LD(){return ve.lFrame.currentDirectiveIndex}();try{Jr(o);for(let a=r;a<i;a++){const l=n.data[a],u=t[a];lc(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&x_(l,u)}}finally{Jr(-1),lc(s)}}(n,t,e))}function Td(n,t,e=mn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?e(t,n):n[s];n[i++]=a}}}function D_(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Md(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Md(n,t,e,r,i,o,s,a,l,u){const c=22+r,d=c+i,h=function nM(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:be);return e}(c,d),f="function"==typeof u?u():u;return h[1]={type:n,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function S_(n,t,e,r){const i=N_(t);null===e?i.push(r):(i.push(e),n.firstCreatePass&&F_(n).push(r,i.length-1))}function A_(n,t,e){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,i):e[r]=[t,i]}return e}function T_(n,t){const r=t.directiveEnd,i=n.data,o=t.attrs,s=[];let a=null,l=null;for(let u=t.directiveStart;u<r;u++){const c=i[u],d=c.inputs,h=null===o||Zm(t)?null:mM(d,o);s.push(h),a=A_(d,u,a),l=A_(c.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}function M_(n,t){const e=_n(t,n);16&e[2]||(e[2]|=32)}function Id(n,t,e,r){let i=!1;if(dg()){const o=function dM(n,t,e){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Qm(e,s.selectors,!1)&&(i||(i=[]),Ua(ls(e,t),n,s.type),zn(s)?(O_(n,e),i.unshift(s)):i.push(s))}return i}(n,t,e),s=null===r?null:{"":-1};if(null!==o){i=!0,P_(e,n.data.length,o.length);for(let c=0;c<o.length;c++){const d=o[c];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,u=_o(n,t,o.length,null);for(let c=0;c<o.length;c++){const d=o[c];e.mergedAttrs=Va(e.mergedAttrs,d.hostAttrs),R_(n,e,t,u,d),fM(u,d,s),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),u++}T_(n,e)}s&&function hM(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const o=e[t[i+1]];if(null==o)throw new q(-301,!1);r.push(t[i],o)}}}(e,r,s)}return e.mergedAttrs=Va(e.mergedAttrs,e.attrs),i}function I_(n,t,e,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function lM(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(r,i,s)}}function x_(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function O_(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function fM(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;zn(t)&&(e[""]=n)}}function P_(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function R_(n,t,e,r,i){n.data[r]=i;const o=i.factory||(i.factory=Ci(i.type)),s=new ss(o,zn(i),N);n.blueprint[r]=s,e[r]=s,I_(n,t,0,r,_o(n,e,i.hostVars,be),i)}function pM(n,t,e){const r=mn(t,n),i=D_(e),o=n[10],s=ll(n,sl(n,i,null,e.onPush?32:16,r,t,o,o.createRenderer(r,e),null,null,null));n[t.index]=s}function dr(n,t,e,r,i,o){const s=mn(n,t);!function xd(n,t,e,r,i,o,s){if(null==o)n.removeAttribute(t,i,e);else{const a=null==s?we(o):s(o,r||"",i);n.setAttribute(t,i,a,e)}}(t[11],s,o,n.value,e,r,i)}function gM(n,t,e,r,i,o){const s=o[t];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const u=s[l++],c=s[l++],d=s[l++];null!==a?r.setInput(e,d,u,c):e[c]=d}}}function mM(n,t){let e=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,n[i],t[r+1])),r+=2}else r+=2;else r+=4}return e}function k_(n,t,e,r){return new Array(n,!0,!1,t,null,0,r,e,null,null)}function vM(n,t){const e=_n(t,n);if(Ra(e)){const r=e[1];48&e[2]?al(r,e,r.template,e[8]):e[5]>0&&Od(e)}}function Od(n){for(let r=kc(n);null!==r;r=Nc(r))for(let i=10;i<r.length;i++){const o=r[i];if(Ra(o))if(512&o[2]){const s=o[1];al(s,o,s.template,o[8])}else o[5]>0&&Od(o)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=_n(e[r],n);Ra(i)&&i[5]>0&&Od(i)}}function wM(n,t){const e=_n(t,n),r=e[1];(function bM(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),Sd(r,e,e[8])}function ll(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Pd(n){for(;n;){n[2]|=32;const t=Cs(n);if(gD(n)&&!t)return n;n=t}return null}function ul(n,t,e,r=!0){const i=t[10];i.begin&&i.begin();try{al(n,t,n.template,e)}catch(s){throw r&&V_(t,s),s}finally{i.end&&i.end()}}function Rd(n,t,e){cc(0),t(n,e)}function N_(n){return n[7]||(n[7]=[])}function F_(n){return n.cleanup||(n.cleanup=[])}function V_(n,t){const e=n[9],r=e?e.get(fo,null):null;r&&r.handleError(t)}function kd(n,t,e,r,i){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],u=n.data[s];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function kr(n,t,e){const r=Pa(t,n);!function um(n,t,e){n.setValue(t,e)}(n[11],r,e)}function cl(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=zu(i,a):2==o&&(r=zu(r,a+": "+t[++s]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}function dl(n,t,e,r,i=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&r.push(bt(o)),Gn(o))for(let a=10;a<o.length;a++){const l=o[a],u=l[1].firstChild;null!==u&&dl(l[1],l,u,r)}const s=e.type;if(8&s)dl(n,t,e.child,r);else if(32&s){const a=Rc(e,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=wm(t,e);if(Array.isArray(a))r.push(...a);else{const l=Cs(t[16]);dl(l[1],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}class Is{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return dl(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Gn(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(Vc(t,r),Ha(e,r))}this._attachedToViewContainer=!1}dm(this._lView[1],this._lView)}onDestroy(t){S_(this._lView[1],this._lView,null,t)}markForCheck(){Pd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ul(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function nA(n,t){Es(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=t}}class CM extends Is{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;ul(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class Nd extends Ts{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ze(t);return new xs(e,this.ngModule)}}function j_(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class DM{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){const i=this.injector.get(t,sd,r);return i!==sd||e===sd?i:this.parentInjector.get(t,e,r)}}class xs extends Gm{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function ET(n){return n.map(CT).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return j_(this.componentDef.inputs)}get outputs(){return j_(this.componentDef.outputs)}create(t,e,r,i){let o=(i=i||this.ngModule)instanceof Yr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new DM(t,o):t,a=s.get(qm,null);if(null===a)throw new q(407,!1);const l=s.get(nT,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function rM(n,t,e){return n.selectRootElement(t,e===ar.ShadowDom)}(u,r,this.componentDef.encapsulation):Lc(u,c,function EM(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(c)),h=this.componentDef.onPush?288:272,f=Md(0,null,null,1,0,null,null,null,null,null),p=sl(null,f,null,h,null,null,a,u,l,s,null);let m,_;dc(p);try{const b=function TM(n,t,e,r,i,o){const s=e[1];e[22]=n;const l=mo(s,22,2,"#host",null),u=l.mergedAttrs=t.hostAttrs;null!==u&&(cl(l,u,!0),null!==n&&(La(i,n,u),null!==l.classes&&Gc(i,n,l.classes),null!==l.styles&&Cm(i,n,l.styles)));const c=r.createRenderer(n,t),d=sl(e,D_(t),null,t.onPush?32:16,e[22],l,r,c,o||null,null,null);return s.firstCreatePass&&(Ua(ls(l,e),s,t.type),O_(s,l),P_(l,e.length,1)),ll(e,d),e[22]=d}(d,this.componentDef,p,a,u);if(d)if(r)La(u,d,["ng-version",rT.full]);else{const{attrs:I,classes:v}=function DT(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&t.push(o,n[++r]):8===i&&e.push(o);else{if(!qn(i))break;i=o}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);I&&La(u,d,I),v&&v.length>0&&Gc(u,d,v.join(" "))}if(_=ic(f,22),void 0!==e){const I=_.projection=[];for(let v=0;v<this.ngContentSelectors.length;v++){const O=e[v];I.push(null!=O?Array.from(O):null)}}m=function MM(n,t,e,r){const i=e[1],o=function aM(n,t,e){const r=Mt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),R_(n,r,t,_o(n,t,1,null),e),T_(n,r));const i=us(t,n,r.directiveStart,r);Gt(i,t);const o=mn(r,t);return o&&Gt(o,t),i}(i,e,t);if(n[8]=e[8]=o,null!==r)for(const a of r)a(o,t);if(t.contentQueries){const a=Mt();t.contentQueries(1,o,a.directiveStart)}const s=Mt();return!i.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Jr(s.index),I_(e[1],s,0,s.directiveStart,s.directiveEnd,t),x_(t,o)),o}(b,this.componentDef,p,[IM]),Sd(f,p,null)}finally{hc()}return new AM(this.componentType,m,ho(_,p),p,_)}}class AM extends class ZA{}{constructor(t,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new CM(i),this.componentType=t}setInput(t,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const o=this._rootLView;kd(o[1],o,i,t,e),M_(o,this._tNode.index)}}get injector(){return new to(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function IM(){const n=Mt();ka(P()[1],n)}function qe(n){let t=function $_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(zn(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new q(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);const s=n;s.inputs=Fd(n.inputs),s.declaredInputs=Fd(n.declaredInputs),s.outputs=Fd(n.outputs);const a=i.hostBindings;a&&RM(n,a);const l=i.viewQuery,u=i.contentQueries;if(l&&OM(n,l),u&&PM(n,u),Gu(n.inputs,i.inputs),Gu(n.declaredInputs,i.declaredInputs),Gu(n.outputs,i.outputs),zn(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===qe&&(e=!1)}}t=Object.getPrototypeOf(t)}!function xM(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Va(i.hostAttrs,e=Va(e,i.hostAttrs))}}(r)}function Fd(n){return n===qi?{}:n===$e?[]:n}function OM(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function PM(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,o)=>{t(r,i,o),e(r,i,o)}:t}function RM(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}let hl=null;function Ai(){if(!hl){const n=Xe.Symbol;if(n&&n.iterator)hl=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(hl=r)}}}return hl}function Os(n){return!!Ld(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ai()in n)}function Ld(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function zt(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function fr(n,t,e,r){const i=P();return zt(i,Yi(),t)&&(Ve(),dr(st(),i,n,t,e,r)),fr}function wo(n,t,e,r,i,o){const a=function Ti(n,t,e,r){const i=zt(n,t,e);return zt(n,t+1,r)||i}(n,function Tr(){return ve.lFrame.bindingIndex}(),e,i);return Mr(2),a?t+we(e)+r+we(i)+o:be}function We(n,t,e,r,i,o,s,a){const l=P(),u=Ve(),c=n+22,d=u.firstCreatePass?function UM(n,t,e,r,i,o,s,a,l){const u=t.consts,c=mo(t,n,4,s||null,Kr(u,a));Id(t,e,c,Kr(u,l)),ka(t,c);const d=c.tViews=Md(2,c,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,c),d.queries=t.queries.embeddedTView(c)),c}(c,u,l,t,e,r,i,o,s):u.data[c];ur(d,!1);const h=l[11].createComment("");Ja(u,l,h,d),Gt(h,l),ll(l,l[c]=k_(h,l,h,d)),Oa(d)&&Ad(u,l,d),null!=s&&Td(l,d,a)}function Ce(n,t,e){const r=P();return zt(r,Yi(),t)&&function bn(n,t,e,r,i,o,s,a){const l=mn(t,e);let c,u=t.inputs;!a&&null!=u&&(c=u[r])?(kd(n,e,c,r,i),xa(t)&&M_(e,t.index)):3&t.type&&(r=function oM(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(l,r,i))}(Ve(),st(),r,n,t,r[11],e,!1),Ce}function Vd(n,t,e,r,i){const s=i?"class":"style";kd(n,e,t.inputs[s],s,r)}function F(n,t,e,r){const i=P(),o=Ve(),s=22+n,a=i[11],l=i[s]=Lc(a,t,function zD(){return ve.lFrame.currentNamespace}()),u=o.firstCreatePass?function GM(n,t,e,r,i,o,s){const a=t.consts,u=mo(t,n,2,i,Kr(a,o));return Id(t,e,u,Kr(a,s)),null!==u.attrs&&cl(u,u.attrs,!1),null!==u.mergedAttrs&&cl(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(s,o,i,0,t,e,r):o.data[s];ur(u,!0);const c=u.mergedAttrs;null!==c&&La(a,l,c);const d=u.classes;null!==d&&Gc(a,l,d);const h=u.styles;return null!==h&&Cm(a,l,h),64!=(64&u.flags)&&Ja(o,i,l,u),0===function ID(){return ve.lFrame.elementDepthCount}()&&Gt(l,i),function xD(){ve.lFrame.elementDepthCount++}(),Oa(u)&&(Ad(o,i,u),function E_(n,t,e){if(Xu(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}(o,u,i)),null!==r&&Td(i,u),F}function R(){let n=Mt();sc()?function ac(){ve.lFrame.isParent=!1}():(n=n.parent,ur(n,!1));const t=n;!function OD(){ve.lFrame.elementDepthCount--}();const e=Ve();return e.firstCreatePass&&(ka(e,n),Xu(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function ZD(n){return 0!=(16&n.flags)}(t)&&Vd(e,t,P(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function QD(n){return 0!=(32&n.flags)}(t)&&Vd(e,t,P(),t.stylesWithoutHost,!1),R}function ti(n,t,e,r){return F(n,t,e,r),R(),ti}function pr(){return P()}function Rs(n){return!!n&&"function"==typeof n.then}function Q_(n){return!!n&&"function"==typeof n.subscribe}const Ud=Q_;function Te(n,t,e,r){const i=P(),o=Ve(),s=Mt();return function X_(n,t,e,r,i,o,s,a){const l=Oa(r),c=n.firstCreatePass&&F_(n),d=t[8],h=N_(t);let f=!0;if(3&r.type||a){const _=mn(r,t),b=a?a(_):_,I=h.length,v=a?U=>a(bt(U[r.index])):r.index;let O=null;if(!a&&l&&(O=function qM(n,t,e,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===e&&i[o+1]===r){const a=t[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,i,r.index)),null!==O)(O.__ngLastListenerFn__||O).__ngNextListenerFn__=o,O.__ngLastListenerFn__=o,f=!1;else{o=ty(r,t,d,o,!1);const U=e.listen(b,i,o);h.push(o,U),c&&c.push(i,v,I,I+1)}}else o=ty(r,t,d,o,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const _=m.length;if(_)for(let b=0;b<_;b+=2){const fe=t[m[b]][m[b+1]].subscribe(o),Nt=h.length;h.push(o,fe),c&&c.push(i,r.index,Nt,-(Nt+1))}}}(o,i,i[11],s,n,t,0,r),Te}function ey(n,t,e,r){try{return!1!==e(r)}catch(i){return V_(n,i),!1}}function ty(n,t,e,r,i){return function o(s){if(s===Function)return r;Pd(2&n.flags?_n(n.index,t):t);let l=ey(t,0,r,s),u=o.__ngNextListenerFn__;for(;u;)l=ey(t,0,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function Pe(n=1){return function jD(n){return(ve.lFrame.contextLView=function $D(n,t){for(;n>0;)t=t[15],n--;return t}(n,ve.lFrame.contextLView))[8]}(n)}function dy(n,t,e,r,i){const o=n[e+1],s=null===t;let a=r?Wn(o):Rr(o),l=!1;for(;0!==a&&(!1===l||s);){const c=n[a+1];YM(n[a],t)&&(l=!0,n[a+1]=r?md(c):pd(c)),a=r?Wn(c):Rr(c)}l&&(n[e+1]=r?pd(o):md(o))}function YM(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&so(n,t)>=0}const xt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hy(n){return n.substring(xt.key,xt.keyEnd)}function fy(n,t){const e=xt.textEnd;return e===t?-1:(t=xt.keyEnd=function nI(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,xt.key=t,e),To(n,t,e))}function To(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Nr(n,t){return function Kn(n,t,e,r){const i=P(),o=Ve(),s=Mr(2);o.firstUpdatePass&&by(o,n,s,r),t!==be&&zt(i,s,t)&&Ey(o,o.data[Yt()],i,i[11],n,i[s+1]=function hI(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Je(Qr(n)))),n}(t,e),r,s)}(n,t,null,!0),Nr}function vy(n){!function Jn(n,t,e,r){const i=Ve(),o=Mr(2);i.firstUpdatePass&&by(i,null,o,r);const s=P();if(e!==be&&zt(s,o,e)){const a=i.data[Yt()];if(Sy(a,r)&&!wy(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=zu(l,e||"")),Vd(i,a,s,e,r)}else!function dI(n,t,e,r,i,o,s,a){i===be&&(i=$e);let l=0,u=0,c=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==c||null!==d;){const h=l<i.length?i[l+1]:void 0,f=u<o.length?o[u+1]:void 0;let m,p=null;c===d?(l+=2,u+=2,h!==f&&(p=d,m=f)):null===d||null!==c&&c<d?(l+=2,p=c):(u+=2,p=d,m=f),null!==p&&Ey(n,t,e,r,p,m,s,a),c=l<i.length?i[l]:null,d=u<o.length?o[u]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function cI(n,t,e){if(null==e||""===e)return $e;const r=[],i=Qr(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(n,t,e),r,o)}}(vn,mr,n,!0)}function mr(n,t){for(let e=function eI(n){return function gy(n){xt.key=0,xt.keyEnd=0,xt.value=0,xt.valueEnd=0,xt.textEnd=n.length}(n),fy(n,To(n,0,xt.textEnd))}(t);e>=0;e=fy(t,e))vn(n,hy(t),!0)}function wy(n,t){return t>=n.expandoStartIndex}function by(n,t,e,r){const i=n.data;if(null===i[e+1]){const o=i[Yt()],s=wy(n,e);Sy(o,r)&&null===t&&!s&&(t=!1),t=function sI(n,t,e,r){const i=function uc(n){const t=ve.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=ks(e=Hd(null,n,t,e,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==i)if(e=Hd(i,n,t,e,r),null===o){let l=function aI(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==Rr(r))return n[Wn(r)]}(n,t,r);void 0!==l&&Array.isArray(l)&&(l=Hd(null,n,t,l[1],r),l=ks(l,t.attrs,r),function lI(n,t,e,r){n[Wn(e?t.classBindings:t.styleBindings)]=r}(n,t,r,l))}else o=function uI(n,t,e){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=ks(r,n[o].hostAttrs,e);return ks(r,t.attrs,e)}(n,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),e}(i,o,t,r),function ZM(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Wn(s),l=Rr(s);n[r]=e;let c,u=!1;if(Array.isArray(e)){const d=e;c=d[1],(null===c||so(d,c)>0)&&(u=!0)}else c=e;if(i)if(0!==l){const h=Wn(n[a+1]);n[r+1]=rl(h,a),0!==h&&(n[h+1]=gd(n[h+1],r)),n[a+1]=function HT(n,t){return 131071&n|t<<17}(n[a+1],r)}else n[r+1]=rl(a,0),0!==a&&(n[a+1]=gd(n[a+1],r)),a=r;else n[r+1]=rl(l,0),0===a?a=r:n[l+1]=gd(n[l+1],r),l=r;u&&(n[r+1]=pd(n[r+1])),dy(n,c,r,!0),dy(n,c,r,!1),function QM(n,t,e,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&so(o,t)>=0&&(e[r+1]=md(e[r+1]))}(t,c,n,r,o),s=rl(a,l),o?t.classBindings=s:t.styleBindings=s}(i,o,t,e,s,r)}}function Hd(n,t,e,r,i){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],r=ks(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),r}function ks(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),vn(n,s,!!e||t[++o]))}return void 0===n?null:n}function Ey(n,t,e,r,i,o,s,a){if(!(3&t.type))return;const l=n.data,u=l[a+1];pl(function f_(n){return 1==(1&n)}(u)?Dy(l,t,e,i,Rr(u),s):void 0)||(pl(o)||function h_(n){return 2==(2&n)}(u)&&(o=Dy(l,null,e,i,a,s)),function hA(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=-1===r.indexOf("-")?void 0:ln.DashCase;null==i?n.removeStyle(e,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ln.Important),n.setStyle(e,r,i,o))}}(r,s,Pa(Yt(),e),i,o))}function Dy(n,t,e,r,i,o){const s=null===t;let a;for(;i>0;){const l=n[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let h=e[i+1];h===be&&(h=d?$e:void 0);let f=d?bc(h,r):c===r?h:void 0;if(u&&!pl(f)&&(f=bc(l,r)),pl(f)&&(a=f,s))return a;const p=n[i+1];i=s?Wn(p):Rr(p)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=bc(l,r))}return a}function pl(n){return void 0!==n}function Sy(n,t){return 0!=(n.flags&(t?16:32))}function H(n,t=""){const e=P(),r=Ve(),i=n+22,o=r.firstCreatePass?mo(r,i,1,t,null):r.data[i],s=e[i]=function Fc(n,t){return n.createText(t)}(e[11],t);Ja(r,e,s,o),ur(o,!1)}function un(n){return en("",n,""),un}function en(n,t,e){const r=P(),i=function vo(n,t,e,r){return zt(n,Yi(),e)?t+we(e)+r:be}(r,n,t,e);return i!==be&&kr(r,Yt(),i),en}function Gd(n,t,e,r,i){const o=P(),s=wo(o,n,t,e,r,i);return s!==be&&kr(o,Yt(),s),Gd}const Io="en-US";let qy=Io;function Wd(n,t,e,r,i){if(n=ce(n),Array.isArray(n))for(let o=0;o<n.length;o++)Wd(n[o],t,e,r,i);else{const o=Ve(),s=P();let a=Si(n)?n:ce(n.provide),l=Hm(n);const u=Mt(),c=1048575&u.providerIndexes,d=u.directiveStart,h=u.providerIndexes>>20;if(Si(n)||!n.multi){const f=new ss(l,i,N),p=Jd(a,t,i?c:c+h,d);-1===p?(Ua(ls(u,s),o,a),Kd(o,n,t.length),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),e.push(f),s.push(f)):(e[p]=f,s[p]=f)}else{const f=Jd(a,t,c+h,d),p=Jd(a,t,c,c+h),m=f>=0&&e[f],_=p>=0&&e[p];if(i&&!_||!i&&!m){Ua(ls(u,s),o,a);const b=function xx(n,t,e,r,i){const o=new ss(n,e,N);return o.multi=[],o.index=t,o.componentProviders=0,_v(o,i,r&&!e),o}(i?Ix:Mx,e.length,i,r,l);!i&&_&&(e[p].providerFactory=b),Kd(o,n,t.length,0),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),e.push(b),s.push(b)}else Kd(o,n,f>-1?f:p,_v(e[i?p:f],l,!i&&r));!i&&r&&_&&e[p].componentProviders++}}}function Kd(n,t,e,r){const i=Si(t),o=function BA(n){return!!n.useClass}(t);if(i||o){const l=(o?ce(t.useClass):t).prototype.ngOnDestroy;if(l){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const c=u.indexOf(e);-1===c?u.push(e,[r,l]):u[c+1].push(r,l)}else u.push(e,l)}}}function _v(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Jd(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function Mx(n,t,e,r){return Zd(this.multi,[])}function Ix(n,t,e,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=us(e,e[1],this.providerFactory.index,r);o=a.slice(0,s),Zd(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Zd(i,o);return o}function Zd(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function ot(n,t=[]){return e=>{e.providersResolver=(r,i)=>function Tx(n,t,e){const r=Ve();if(r.firstCreatePass){const i=zn(n);Wd(e,r.data,r.blueprint,i,!0),Wd(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class Ii{}class yv{}class vv extends Ii{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nd(this);const r=pn(t);this._bootstrapComponents=Pr(r.bootstrap),this._r3Injector=i_(t,e,[{provide:Ii,useValue:this},{provide:Ts,useValue:this.componentFactoryResolver}],Je(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Qd extends yv{constructor(t){super(),this.moduleType=t}create(t){return new vv(this.moduleType,t)}}class Px extends Ii{constructor(t,e,r){super(),this.componentFactoryResolver=new Nd(this),this.instance=null;const i=new Bm([...t,{provide:Ii,useValue:this},{provide:Ts,useValue:this.componentFactoryResolver}],e||tl(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function vl(n,t,e=null){return new Px(n,t,e).injector}let Rx=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=Vm(0,e.type),i=r.length>0?vl([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=ye({token:n,providedIn:"environment",factory:()=>new n(X(Yr))}),n})();function wv(n){n.getStandaloneInjector=t=>t.get(Rx).getOrCreateStandaloneInjector(n)}function Tv(n,t,e,r,i,o){const s=t+e;return zt(n,s,i)?function hr(n,t,e){return n[t]=e}(n,s+1,o?r.call(o,i):r(i)):function $s(n,t){const e=n[t];return e===be?void 0:e}(n,s+1)}function Zn(n,t){const e=Ve();let r;const i=n+22;e.firstCreatePass?(r=function Yx(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}}(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,r.onDestroy)):r=e.data[i];const o=r.factory||(r.factory=Ci(r.type)),s=In(N);try{const a=ja(!1),l=o();return ja(a),function BM(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,P(),i,l),l}finally{In(s)}}function Qn(n,t,e){const r=n+22,i=P(),o=function Qi(n,t){return n[t]}(i,r);return function Us(n,t){return n[1].data[t].pure}(i,r)?Tv(i,function Qt(){const n=ve.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}(),t,o.transform,e,o):o.transform(e)}function Xd(n){return t=>{setTimeout(n,void 0,t)}}const gt=class rO extends y{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){let i=t,o=e||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Xd(o),i&&(i=Xd(i)),s&&(s=Xd(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof M&&t.add(a),a}};function iO(){return this._results[Ai()]()}class eh{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ai(),r=eh.prototype;r[e]||(r[e]=iO)}get changes(){return this._changes||(this._changes=new gt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=yn(t);(this._changesDetected=!function aS(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Fr=(()=>{class n{}return n.__NG_ELEMENT_ID__=aO,n})();const oO=Fr,sO=class extends oO{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t,e){const r=this._declarationTContainer.tViews,i=sl(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,e||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),Sd(r,i,t),new Is(i)}};function aO(){return wl(Mt(),P())}function wl(n,t){return 4&n.type?new sO(t,n,ho(n,t)):null}let Yn=(()=>{class n{}return n.__NG_ELEMENT_ID__=lO,n})();function lO(){return kv(Mt(),P())}const uO=Yn,Pv=class extends uO{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return ho(this._hostTNode,this._hostLView)}get injector(){return new to(this._hostTNode,this._hostLView)}get parentInjector(){const t=$a(this._hostTNode,this._hostLView);if(Ag(t)){const e=eo(t,this._hostLView),r=Xi(t);return new to(e[1].data[r+8],e)}return new to(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Rv(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=t.createEmbeddedView(e||{},o);return this.insert(s,i),s}createComponent(t,e,r,i,o){const s=t&&!function hs(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const d=e||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=s?t:new xs(ze(t)),u=r||this.parentInjector;if(!o&&null==l.ngModule){const h=(s?u:this.parentInjector).get(Yr,null);h&&(o=h)}const c=l.create(u,i,void 0,o);return this.insert(c.hostView,a),c}insert(t,e){const r=t._lView,i=r[1];if(function MD(n){return Gn(n[3])}(r)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const d=r[3],h=new Pv(d,d[6],d[3]);h.detach(h.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function iA(n,t,e,r){const i=10+r,o=e.length;r>0&&(e[i-1][4]=t),r<o-10?(t[4]=e[i],Lg(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function oA(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=64}(i,r,s,o);const a=Uc(o,s),l=r[11],u=Ka(l,s[7]);return null!==u&&function tA(n,t,e,r,i,o){r[0]=i,r[6]=t,Es(n,r,e,1,i,o)}(i,s[6],l,r,u,a),t.attachToViewContainerRef(),Lg(th(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Rv(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=Vc(this._lContainer,e);r&&(Ha(th(this._lContainer),e),dm(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=Vc(this._lContainer,e);return r&&null!=Ha(th(this._lContainer),e)?new Is(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function Rv(n){return n[8]}function th(n){return n[8]||(n[8]=[])}function kv(n,t){let e;const r=t[n.index];if(Gn(r))e=r;else{let i;if(8&n.type)i=bt(r);else{const o=t[11];i=o.createComment("");const s=mn(n,t);Ei(o,Ka(o,s),i,function uA(n,t){return n.nextSibling(t)}(o,s),!1)}t[n.index]=e=k_(r,t,i,n),ll(t,e)}return new Pv(e,n,t)}class nh{constructor(t){this.queryList=t,this.matches=null}clone(){return new nh(this.queryList)}setDirty(){this.queryList.setDirty()}}class rh{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){const s=e.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new rh(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==jv(t,e).matches&&this.queries[e].setDirty()}}class Nv{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class ih{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new ih(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class oh{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new oh(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,e,hO(e,o)),this.matchTNodeWithReadOption(t,e,Ba(e,t,o,!1,!1))}else r===Fr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ba(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===wn||i===Yn||i===Fr&&4&e.type)this.addMatch(e.index,-2);else{const o=Ba(e,t,i,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function hO(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function pO(n,t,e,r){return-1===e?function fO(n,t){return 11&n.type?ho(n,t):4&n.type?wl(n,t):null}(t,n):-2===e?function gO(n,t,e){return e===wn?ho(t,n):e===Fr?wl(t,n):e===Yn?kv(t,n):void 0}(n,t,r):us(n,n[1],e,t)}function Fv(n,t,e,r){const i=t[19].queries[r];if(null===i.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const u=s[l];a.push(u<0?null:pO(t,o[u],s[l+1],e.metadata.read))}i.matches=a}return i.matches}function sh(n,t,e,r){const i=n.queries.getByIndex(e),o=i.matches;if(null!==o){const s=Fv(n,t,i,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const u=o[a+1],c=t[-l];for(let d=10;d<c.length;d++){const h=c[d];h[17]===h[3]&&sh(h[1],h,u,r)}if(null!==c[9]){const d=c[9];for(let h=0;h<d.length;h++){const f=d[h];sh(f[1],f,u,r)}}}}}return r}function ah(n){const t=P(),e=Ve(),r=mg();cc(r+1);const i=jv(e,r);if(n.dirty&&function TD(n){return 4==(4&n[2])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?sh(e,t,r,[]):Fv(e,t,i,r);n.reset(o,eT),n.notifyOnChanges()}return!0}return!1}function lh(n,t,e,r){const i=Ve();if(i.firstCreatePass){const o=Mt();(function Vv(n,t,e){null===n.queries&&(n.queries=new ih),n.queries.track(new oh(t,e))})(i,new Nv(t,e,r),o.index),function yO(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(i,n),2==(2&e)&&(i.staticContentQueries=!0)}!function Lv(n,t,e){const r=new eh(4==(4&e));S_(n,t,r,r.destroy),null===t[19]&&(t[19]=new rh),t[19].queries.push(new nh(r))}(i,P(),e)}function uh(){return function _O(n,t){return n[19].queries[t].queryList}(P(),mg())}function jv(n,t){return n.queries.getByIndex(t)}function Cl(...n){}const El=new ne("Application Initializer");let Dl=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Cl,this.reject=Cl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Rs(o))e.push(o);else if(Ud(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(X(El,8))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hs=new ne("AppId",{providedIn:"root",factory:function iw(){return`${ph()}${ph()}${ph()}`}});function ph(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ow=new ne("Platform Initializer"),sw=new ne("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),aw=new ne("appBootstrapListener");let jO=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Lr=new ne("LocaleId",{providedIn:"root",factory:()=>mt(Lr,oe.Optional|oe.SkipSelf)||function $O(){return typeof $localize<"u"&&$localize.locale||Io}()});class BO{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let gh=(()=>{class n{compileModuleSync(e){return new Qd(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=Pr(pn(e).declarations).reduce((s,a)=>{const l=ze(a);return l&&s.push(new xs(l)),s},[]);return new BO(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zO=(()=>Promise.resolve(0))();function mh(n){typeof Zone>"u"?zO.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ot{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gt(!1),this.onMicrotaskEmpty=new gt(!1),this.onStable=new gt(!1),this.onError=new gt(!1),typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function qO(){let n=Xe.requestAnimationFrame,t=Xe.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function JO(n){const t=()=>{!function KO(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Xe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,yh(n),n.isCheckStableRunning=!0,_h(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),yh(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,s,a)=>{try{return cw(n),e.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),dw(n)}},onInvoke:(e,r,i,o,s,a,l)=>{try{return cw(n),e.invoke(i,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),dw(n)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,yh(n),_h(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ot.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(Ot.isInAngularZone())throw new q(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,WO,Cl,Cl);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const WO={};function _h(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function yh(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function cw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function dw(n){n._nesting--,_h(n)}class ZO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gt,this.onMicrotaskEmpty=new gt,this.onStable=new gt,this.onError=new gt}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}const hw=new ne(""),Sl=new ne("");let bh,vh=(()=>{class n{constructor(e,r,i){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,bh||(function QO(n){bh=n}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ot.assertNotInAngularZone(),mh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mh(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}}return n.\u0275fac=function(e){return new(e||n)(X(Ot),X(wh),X(Sl))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})(),wh=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return bh?.findTestabilityInTree(this,e,r)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),ni=null;const fw=new ne("AllowMultipleToken"),Ch=new ne("PlatformDestroyListeners");class pw{constructor(t,e){this.name=t,this.token=e}}function mw(n,t,e=[]){const r=`Platform: ${t}`,i=new ne(r);return(o=[])=>{let s=Eh();if(!s||s.injector.get(fw,!1)){const a=[...e,...o,{provide:i,useValue:!0}];n?n(a):function eP(n){if(ni&&!ni.get(fw,!1))throw new q(400,!1);ni=n;const t=n.get(yw);(function gw(n){const t=n.get(ow,null);t&&t.forEach(e=>e())})(n)}(function _w(n=[],t){return Rn.create({name:t,providers:[{provide:nd,useValue:"platform"},{provide:Ch,useValue:new Set([()=>ni=null])},...n]})}(a,r))}return function nP(n){const t=Eh();if(!t)throw new q(401,!1);return t}()}}function Eh(){return ni?.get(yw)??null}let yw=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=function ww(n,t){let e;return e="noop"===n?new ZO:("zone.js"===n?void 0:n)||new Ot(t),e}(r?.ngZone,function vw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Ot,useValue:i}];return i.run(()=>{const s=Rn.create({providers:o,parent:this.injector,name:e.moduleType.name}),a=e.create(s),l=a.injector.get(fo,null);if(!l)throw new q(402,!1);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:c=>{l.handleError(c)}});a.onDestroy(()=>{Tl(this._modules,a),u.unsubscribe()})}),function bw(n,t,e){try{const r=e();return Rs(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const u=a.injector.get(Dl);return u.runInitializers(),u.donePromise.then(()=>(function Wy(n){fn(n,"Expected localeId to be defined"),"string"==typeof n&&(qy=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Lr,Io)||Io),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,r=[]){const i=Cw({},r);return function YO(n,t,e){const r=new Qd(e);return Promise.resolve(r)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(e){const r=e.injector.get(Al);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new q(403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new q(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(Ch,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(X(Rn))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Cw(n,t){return Array.isArray(t)?t.reduce(Cw,n):{...n,...t}}let Al=(()=>{class n{constructor(e,r,i){this._zone=e,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Le(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Le(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Ot.assertNotInAngularZone(),mh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{Ot.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=function ZE(...n){const t=Xo(n),e=function HE(n,t){return"number"==typeof Bu(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?$n(r[0]):zi(e)(wt(r,t)):Dr}(o,s.pipe(function QE(n={}){const{connector:t=(()=>new y),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,u=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,c=d=!1},p=()=>{const m=s;f(),m?.unsubscribe()};return w((m,_)=>{u++,!d&&!c&&h();const b=l=l??t();_.add(()=>{u--,0===u&&!d&&!c&&(a=Hu(p,i))}),b.subscribe(_),!s&&u>0&&(s=new Ne({next:I=>b.next(I),error:I=>{d=!0,h(),a=Hu(f,e,I),b.error(I)},complete:()=>{c=!0,h(),a=Hu(f,r),b.complete()}}),$n(m).subscribe(s))})(o)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof Gm;if(!this._injector.get(Dl).done)throw!i&&function Wi(n){const t=ze(n)||Jt(n)||Zt(n);return null!==t&&t.standalone}(e),new q(405,false);let s;s=i?e:this._injector.get(Ts).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function XO(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Ii),u=s.create(Rn.NULL,[],r||s.selector,a),c=u.location.nativeElement,d=u.injector.get(hw,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),Tl(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new q(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;Tl(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(aw,[]).concat(this._bootstrapListeners).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Tl(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new q(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(X(Ot),X(Yr),X(fo))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Tl(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let Dw=!0,Ml=(()=>{class n{}return n.__NG_ELEMENT_ID__=oP,n})();function oP(n){return function sP(n,t,e){if(xa(n)&&!e){const r=_n(n.index,t);return new Is(r,r)}return 47&n.type?new Is(t[16],t):null}(Mt(),P(),16==(16&n))}class Iw{constructor(){}supports(t){return Os(t)}create(t){return new hP(t)}}const dP=(n,t)=>t;class hP{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||dP}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const s=!r||e&&e.currentIndex<Ow(r,i,o)?e:r,a=Ow(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,c=l-i;if(u!=c){for(let h=0;h<u;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;c<=p&&p<u&&(o[h]=f+1)}o[s.previousIndex]=c-u}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Os(t))throw new q(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),r=!0),e=e._next}else i=0,function VM(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Ai()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new fP(e,r),o,i),t}_verifyReinsertion(t,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new xw),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class fP{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pP{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class xw{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new pP,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ow(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}class Pw{constructor(){}supports(t){return t instanceof Map||Ld(t)}create(){return new gP}}class gP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ld(t)))throw new q(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new mP(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class mP{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Rw(){return new Ol([new Iw])}let Ol=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||Rw()),deps:[[n,new ys,new _s]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new q(901,!1)}}return n.\u0275prov=ye({token:n,providedIn:"root",factory:Rw}),n})();function kw(){return new Gs([new Pw])}let Gs=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||kw()),deps:[[n,new ys,new _s]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new q(901,!1)}}return n.\u0275prov=ye({token:n,providedIn:"root",factory:kw}),n})();const vP=mw(null,"core",[]);let wP=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(X(Al))},n.\u0275mod=lr({type:n}),n.\u0275inj=Un({}),n})();function jr(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Pl=null;function _r(){return Pl}const cn=new ne("DocumentToken");let Mh=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:function(){return function DP(){return X(Nw)}()},providedIn:"platform"}),n})();const SP=new ne("Location Initialized");let Nw=(()=>{class n extends Mh{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _r().getBaseHref(this._doc)}onPopState(e){const r=_r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=_r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){Fw()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){Fw()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(X(cn))},n.\u0275prov=ye({token:n,factory:function(){return function AP(){return new Nw(X(cn))}()},providedIn:"platform"}),n})();function Fw(){return!!window.history.pushState}function Ih(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Lw(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function $r(n){return n&&"?"!==n[0]?"?"+n:n}let Oi=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:function(){return mt(jw)},providedIn:"root"}),n})();const Vw=new ne("appBaseHref");let jw=(()=>{class n extends Oi{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??mt(cn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ih(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+$r(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const s=this.prepareExternalUrl(i+$r(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){const s=this.prepareExternalUrl(i+$r(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(X(Mh),X(Vw,8))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TP=(()=>{class n extends Oi{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Ih(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+$r(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+$r(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(X(Mh),X(Vw,8))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})(),xh=(()=>{class n{constructor(e){this._subject=new gt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=Lw($w(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+$r(r))}normalize(e){return n.stripTrailingSlash(function IP(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,$w(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$r(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$r(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=$r,n.joinWithSlash=Ih,n.stripTrailingSlash=Lw,n.\u0275fac=function(e){return new(e||n)(X(Oi))},n.\u0275prov=ye({token:n,factory:function(){return function MP(){return new xh(X(Oi))}()},providedIn:"root"}),n})();function $w(n){return n.replace(/\/index.html$/,"")}let Jw=(()=>{class n{constructor(e,r,i,o){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Os(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Je(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(N(Ol),N(Gs),N(wn),N(Or))},n.\u0275dir=de({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class pR{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bl=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new pR(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),Yw(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{Yw(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(N(Yn),N(Fr),N(Ol))},n.\u0275dir=de({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Yw(n,t){n.context.$implicit=t.item}let Po=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new mR,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Xw("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Xw("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(N(Yn),N(Fr))},n.\u0275dir=de({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class mR{constructor(){this.$implicit=null,this.ngIf=null}}function Xw(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Je(t)}'.`)}class CR{createSubscription(t,e){return t.subscribe({next:e,error:r=>{throw r}})}dispose(t){t.unsubscribe()}}class ER{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}}const DR=new ER,SR=new CR;let Ws=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(Rs(e))return DR;if(Q_(e))return SR;throw function tr(n,t){return new q(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(N(Ml,16))},n.\u0275pipe=sn({name:"async",type:n,pure:!1,standalone:!0}),n})(),BR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lr({type:n}),n.\u0275inj=Un({}),n})();let qR=(()=>{class n{}return n.\u0275prov=ye({token:n,providedIn:"root",factory:()=>new WR(X(cn),window)}),n})();class WR{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function KR(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=rb(this.window.history)||rb(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function rb(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class qh extends class C1 extends class EP{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function CP(n){Pl||(Pl=n)}(new qh)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function E1(){return Js=Js||document.querySelector("base"),Js?Js.getAttribute("href"):null}();return null==e?null:function D1(n){zl=zl||document.createElement("a"),zl.setAttribute("href",n);const t=zl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Js=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function hR(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let zl,Js=null;const lb=new ne("TRANSITION_ID"),A1=[{provide:El,useFactory:function S1(n,t,e){return()=>{e.get(Dl).donePromise.then(()=>{const r=_r(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[lb,cn,Rn],multi:!0}];let M1=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const ql=new ne("EventManagerPlugins");let Wl=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(X(ql),X(Ot))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();class ub{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=_r().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let cb=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})(),Zs=(()=>{class n extends cb{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(db),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(db))}}return n.\u0275fac=function(e){return new(e||n)(X(cn))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();function db(n){_r().remove(n)}const Wh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Kh=/%COMP%/g;function Kl(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Kl(n,i,e):(i=i.replace(Kh,n),e.push(i))}return e}function pb(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Jh=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Zh(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case ar.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new k1(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case ar.ShadowDom:return new N1(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=Kl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(X(Wl),X(Zs),X(Hs))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();class Zh{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Wh[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(mb(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(mb(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const o=Wh[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=Wh[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(ln.DashCase|ln.Important)?t.style.setProperty(e,r,i&ln.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&ln.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,pb(r)):this.eventManager.addEventListener(t,e,pb(r))}}function mb(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class k1 extends Zh{constructor(t,e,r,i){super(t),this.component=r;const o=Kl(i+"-"+r.id,r.styles,[]);e.addStyles(o),this.contentAttr=function O1(n){return"_ngcontent-%COMP%".replace(Kh,n)}(i+"-"+r.id),this.hostAttr=function P1(n){return"_nghost-%COMP%".replace(Kh,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class N1 extends Zh{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Kl(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let F1=(()=>{class n extends ub{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(X(cn))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const _b=["alt","control","meta","shift"],L1={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},V1={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let j1=(()=>{class n extends ub{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_r().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),_b.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=L1[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),_b.forEach(s=>{s!==i&&(0,V1[s])(e)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(X(cn))},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();const H1=mw(vP,"browser",[{provide:sw,useValue:"browser"},{provide:ow,useValue:function $1(){qh.makeCurrent()},multi:!0},{provide:cn,useFactory:function B1(){return function mA(n){qc=n}(document),document},deps:[]}]),wb=new ne(""),bb=[{provide:Sl,useClass:class T1{addToWindow(t){Xe.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Xe.getAllAngularTestabilities=()=>t.getAllTestabilities(),Xe.getAllAngularRootElements=()=>t.getAllRootElements(),Xe.frameworkStabilizers||(Xe.frameworkStabilizers=[]),Xe.frameworkStabilizers.push(r=>{const i=Xe.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?_r().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:hw,useClass:vh,deps:[Ot,wh,Sl]},{provide:vh,useClass:vh,deps:[Ot,wh,Sl]}],Cb=[{provide:nd,useValue:"root"},{provide:fo,useFactory:function U1(){return new fo},deps:[]},{provide:ql,useClass:F1,multi:!0,deps:[cn,Ot,sw]},{provide:ql,useClass:j1,multi:!0,deps:[cn]},{provide:Jh,useClass:Jh,deps:[Wl,Zs,Hs]},{provide:qm,useExisting:Jh},{provide:cb,useExisting:Zs},{provide:Zs,useClass:Zs,deps:[cn]},{provide:Wl,useClass:Wl,deps:[ql,Ot]},{provide:class JR{},useClass:M1,deps:[]},[]];let G1=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:Hs,useValue:e.appId},{provide:lb,useExisting:Hs},A1]}}}return n.\u0275fac=function(e){return new(e||n)(X(wb,12))},n.\u0275mod=lr({type:n}),n.\u0275inj=Un({providers:[...Cb,...bb],imports:[BR,wP]}),n})(),Eb=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(X(cn))},n.\u0275prov=ye({token:n,factory:function(e){let r=null;return r=e?new e:function q1(){return new Eb(X(cn))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const{isArray:ek}=Array,{getPrototypeOf:tk,prototype:nk,keys:rk}=Object;function Ab(n){if(1===n.length){const t=n[0];if(ek(t))return{args:t,keys:null};if(function ik(n){return n&&"object"==typeof n&&tk(n)===nk}(t)){const e=rk(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:ok}=Array;function Tb(n){return $(t=>function sk(n,t){return ok(t)?n(...t):n(t)}(n,t))}function Mb(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}let Ib=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(N(Or),N(wn))},n.\u0275dir=de({type:n}),n})(),Pi=(()=>{class n extends Ib{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ht(n)))(r||n)}}(),n.\u0275dir=de({type:n,features:[qe]}),n})();const yr=new ne("NgValueAccessor"),uk={provide:yr,useExisting:Ye(()=>Ro),multi:!0},dk=new ne("CompositionEventMode");let Ro=(()=>{class n extends Ib{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ck(){const n=_r()?_r().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(N(Or),N(wn),N(dk,8))},n.\u0275dir=de({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&Te("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[ot([uk]),qe]}),n})();function ii(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const qt=new ne("NgValidators"),oi=new ne("NgAsyncValidators");function kb(n){return ii(n.value)?{required:!0}:null}function Jl(n){return null}function $b(n){return null!=n}function Ub(n){return Rs(n)?wt(n):n}function Bb(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Hb(n,t){return t.map(e=>e(n))}function Gb(n){return n.map(t=>function pk(n){return!n.validate}(t)?t:e=>t.validate(e))}function Xh(n){return null!=n?function zb(n){if(!n)return null;const t=n.filter($b);return 0==t.length?null:function(e){return Bb(Hb(e,t))}}(Gb(n)):null}function ef(n){return null!=n?function qb(n){if(!n)return null;const t=n.filter($b);return 0==t.length?null:function(e){return function ak(...n){const t=qp(n),{args:e,keys:r}=Ab(n),i=new Le(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let c=0;c<s;c++){let d=!1;$n(e[c]).subscribe(x(o,h=>{d||(d=!0,u--),a[c]=h},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(r?Mb(r,a):a),o.complete())}))}});return t?i.pipe(Tb(t)):i}(Hb(e,t).map(Ub)).pipe($(Bb))}}(Gb(n)):null}function Wb(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function tf(n){return n?Array.isArray(n)?n:[n]:[]}function Zl(n,t){return Array.isArray(n)?n.includes(t):n===t}function Zb(n,t){const e=tf(t);return tf(n).forEach(i=>{Zl(e,i)||e.push(i)}),e}function Qb(n,t){return tf(t).filter(e=>!Zl(n,e))}class Yb{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Xh(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ef(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class rn extends Yb{get formDirective(){return null}get path(){return null}}class si extends Yb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xb{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ql=(()=>{class n extends Xb{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(N(si,2))},n.\u0275dir=de({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Nr("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[qe]}),n})(),eC=(()=>{class n extends Xb{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(N(rn,10))},n.\u0275dir=de({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&Nr("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[qe]}),n})();const Qs="VALID",Xl="INVALID",ko="PENDING",Ys="DISABLED";function af(n){return(eu(n)?n.validators:n)||null}function nC(n){return Array.isArray(n)?Xh(n):n||null}function lf(n,t){return(eu(t)?t.asyncValidators:n)||null}function rC(n){return Array.isArray(n)?ef(n):n||null}function eu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class sC{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=nC(this._rawValidators),this._composedAsyncValidatorFn=rC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Qs}get invalid(){return this.status===Xl}get pending(){return this.status==ko}get disabled(){return this.status===Ys}get enabled(){return this.status!==Ys}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=nC(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=rC(t)}addValidators(t){this.setValidators(Zb(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Zb(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Qb(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Qb(t,this._rawAsyncValidators))}hasValidator(t){return Zl(this._rawValidators,t)}hasAsyncValidator(t){return Zl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ko,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ys,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Qs,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qs||this.status===ko)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ys:Qs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ko,this._hasOwnPendingAsyncValidator=!0;const e=Ub(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new gt,this.statusChanges=new gt}_calculateStatus(){return this._allControlsDisabled()?Ys:this.errors?Xl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ko)?ko:this._anyControlsHaveStatus(Xl)?Xl:Qs}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){eu(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class uf extends sC{constructor(t,e,r){super(af(e),lf(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function oC(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new q(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function iC(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new q(1e3,"");if(!r[e])throw new q(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function Xs(n,t){cf(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function Ek(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&aC(n,t)})}(n,t),function Sk(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Dk(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&aC(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Ck(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function ru(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function cf(n,t){const e=function Kb(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(Wb(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=function Jb(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(Wb(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();ru(t._rawValidators,i),ru(t._rawAsyncValidators,i)}function aC(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const xk={provide:rn,useExisting:Ye(()=>ou)},ea=(()=>Promise.resolve())();let ou=(()=>{class n extends rn{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new gt,this.form=new uf({},Xh(e),ef(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ea.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Xs(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ea.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ea.then(()=>{const r=this._findContainer(e.path),i=new uf({});(function lC(n,t){cf(n,t)})(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ea.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){ea.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function cC(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(N(qt,10),N(oi,10))},n.\u0275dir=de({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&Te("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ot([xk]),qe]}),n})();function dC(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function hC(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const fC=class extends sC{constructor(t=null,e,r){super(af(e),lf(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),eu(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=hC(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){dC(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){dC(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){hC(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Rk={provide:si,useExisting:Ye(()=>ta)},mC=(()=>Promise.resolve())();let ta=(()=>{class n extends si{constructor(e,r,i,o,s){super(),this._changeDetectorRef=s,this.control=new fC,this._registered=!1,this.update=new gt,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function hf(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===Ro?e=o:function Mk(n){return Object.getPrototypeOf(n.constructor)===Pi}(o)?r=o:i=o}),i||r||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function df(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xs(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){mC.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&jr(r);mC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function tu(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(N(rn,9),N(qt,10),N(oi,10),N(yr,10),N(Ml,8))},n.\u0275dir=de({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ot([Rk]),qe,On]}),n})(),_C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const kk={provide:yr,useExisting:Ye(()=>ff),multi:!0};let ff=(()=>{class n extends Pi{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ht(n)))(r||n)}}(),n.\u0275dir=de({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&Te("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[ot([kk]),qe]}),n})(),yC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lr({type:n}),n.\u0275inj=Un({}),n})();const Hk={provide:yr,useExisting:Ye(()=>su),multi:!0};function SC(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let su=(()=>{class n extends Pi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=SC(this._getOptionId(e),e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function Gk(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ht(n)))(r||n)}}(),n.\u0275dir=de({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&Te("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ot([Hk]),qe]}),n})(),AC=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(SC(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(N(wn),N(Or),N(su,9))},n.\u0275dir=de({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const zk={provide:yr,useExisting:Ye(()=>_f),multi:!0};function TC(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let _f=(()=>{class n extends Pi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);i.push(u)}}else{const s=r.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,e(i)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function qk(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ht(n)))(r||n)}}(),n.\u0275dir=de({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&Te("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ot([zk]),qe]}),n})(),MC=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(TC(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(TC(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(N(wn),N(Or),N(_f,9))},n.\u0275dir=de({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();function xC(n){return"number"==typeof n?n:parseFloat(n)}let Ri=(()=>{class n{constructor(){this._validator=Jl}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Jl,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n,features:[On]}),n})();const Wk={provide:qt,useExisting:Ye(()=>yf),multi:!0};let yf=(()=>{class n extends Ri{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>xC(e),this.createValidator=e=>function Rb(n){return t=>{if(ii(t.value)||ii(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ht(n)))(r||n)}}(),n.\u0275dir=de({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&fr("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[ot([Wk]),qe]}),n})();const Kk={provide:qt,useExisting:Ye(()=>vf),multi:!0};let vf=(()=>{class n extends Ri{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>xC(e),this.createValidator=e=>function Pb(n){return t=>{if(ii(t.value)||ii(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ht(n)))(r||n)}}(),n.\u0275dir=de({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&fr("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[ot([Kk]),qe]}),n})();const Jk={provide:qt,useExisting:Ye(()=>No),multi:!0};let No=(()=>{class n extends Ri{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=jr,this.createValidator=e=>kb}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ht(n)))(r||n)}}(),n.\u0275dir=de({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&fr("required",r._enabled?"":null)},inputs:{required:"required"},features:[ot([Jk]),qe]}),n})();const Yk={provide:qt,useExisting:Ye(()=>wf),multi:!0};let wf=(()=>{class n extends Ri{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>function IC(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>function Lb(n){return t=>ii(t.value)||!function Ob(n){return null!=n&&"number"==typeof n.length}(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ht(n)))(r||n)}}(),n.\u0275dir=de({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&fr("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[ot([Yk]),qe]}),n})(),tN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lr({type:n}),n.\u0275inj=Un({imports:[yC]}),n})(),nN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lr({type:n}),n.\u0275inj=Un({imports:[tN]}),n})();function re(...n){return wt(n,Xo(n))}class Wt extends y{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const au=se(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function bf(...n){const t=Xo(n),e=qp(n),{args:r,keys:i}=Ab(n);if(0===r.length)return wt([],t);const o=new Le(function iN(n,t,e=Tn){return r=>{NC(t,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)NC(t,()=>{const u=wt(n[l],t);let c=!1;u.subscribe(x(r,d=>{o[l]=d,c||(c=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>Mb(i,s):Tn));return e?o.pipe(Tb(e)):o}function NC(n,t,e){n?Er(e,n,t):t()}function Cf(...n){return function oN(){return zi(1)}()(wt(n,Xo(n)))}function FC(n){return new Le(t=>{$n(n()).subscribe(t)})}function na(n,t){const e=z(n)?n:()=>n,r=i=>i.error(e());return new Le(t?i=>t.schedule(r,0,i):r)}function Ef(){return w((n,t)=>{let e=null;n._refCount++;const r=x(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class LC extends Le{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,S(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new M;const e=this.getSubject();t.add(this.source.subscribe(x(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=M.EMPTY)}return t}refCount(){return Ef()(this)}}function vr(n,t){return w((e,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();e.subscribe(x(r,l=>{i?.unsubscribe();let u=0;const c=o++;$n(n(l,c)).subscribe(i=x(r,d=>r.next(t?t(l,d,c,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ra(n){return n<=0?()=>Dr:w((t,e)=>{let r=0;t.subscribe(x(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function ai(n,t){return w((e,r)=>{let i=0;e.subscribe(x(r,o=>n.call(t,o,i++)&&r.next(o)))})}function lu(n){return w((t,e)=>{let r=!1;t.subscribe(x(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function VC(n=aN){return w((t,e)=>{let r=!1;t.subscribe(x(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function aN(){return new au}function li(n,t){const e=arguments.length>=2;return r=>r.pipe(n?ai((i,o)=>n(i,o,r)):Tn,ra(1),e?lu(t):VC(()=>new au))}function ki(n,t){return z(t)?Ft(n,t,1):Ft(n,1)}function Kt(n,t,e){const r=z(n)||t||e?{next:n,error:t,complete:e}:n;return r?w((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(x(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Tn}function ui(n){return w((t,e)=>{let o,r=null,i=!1;r=t.subscribe(x(e,void 0,void 0,s=>{o=$n(n(s,ui(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function lN(n,t,e,r,i){return(o,s)=>{let a=e,l=t,u=0;o.subscribe(x(s,c=>{const d=u++;l=a?n(l,c,d):(a=!0,c),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function jC(n,t){return w(lN(n,t,arguments.length>=2,!0))}function Df(n){return n<=0?()=>Dr:w((t,e)=>{let r=[];t.subscribe(x(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function $C(n,t){const e=arguments.length>=2;return r=>r.pipe(n?ai((i,o)=>n(i,o,r)):Tn,Df(1),e?lu(t):VC(()=>new au))}function Sf(n){return w((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const xe="primary",ia=Symbol("RouteTitle");class dN{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Fo(n){return new dN(n)}function hN(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function wr(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!UC(n[i],t[i]))return!1;return!0}function UC(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}return n===t}function BC(n){return Array.prototype.concat.apply([],n)}function HC(n){return n.length>0?n[n.length-1]:null}function Lt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ci(n){return Ud(n)?n:Rs(n)?wt(Promise.resolve(n)):re(n)}const gN={exact:function qC(n,t,e){if(!Fi(n.segments,t.segments)||!uu(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!qC(n.children[r],t.children[r],e))return!1;return!0},subset:WC},GC={exact:function mN(n,t){return wr(n,t)},subset:function _N(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>UC(n[e],t[e]))},ignored:()=>!0};function zC(n,t,e){return gN[e.paths](n.root,t.root,e.matrixParams)&&GC[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function WC(n,t,e){return KC(n,t,t.segments,e)}function KC(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!Fi(i,e)||t.hasChildren()||!uu(i,e,r))}if(n.segments.length===e.length){if(!Fi(n.segments,e)||!uu(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!WC(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Fi(n.segments,i)&&uu(n.segments,i,r)&&n.children[xe])&&KC(n.children[xe],t,o,r)}}function uu(n,t,e){return t.every((r,i)=>GC[e](n[i].parameters,r.parameters))}class Ni{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fo(this.queryParams)),this._queryParamMap}toString(){return wN.serialize(this)}}class Re{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Lt(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cu(this)}}class oa{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Fo(this.parameters)),this._parameterMap}toString(){return YC(this)}}function Fi(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let JC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:function(){return new Tf},providedIn:"root"}),n})();class Tf{parse(t){const e=new IN(t);return new Ni(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${sa(t.root,!0)}`,r=function EN(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${du(e)}=${du(i)}`).join("&"):`${du(e)}=${du(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function bN(n){return encodeURI(n)}(t.fragment)}`:""}`}}const wN=new Tf;function cu(n){return n.segments.map(t=>YC(t)).join("/")}function sa(n,t){if(!n.hasChildren())return cu(n);if(t){const e=n.children[xe]?sa(n.children[xe],!1):"",r=[];return Lt(n.children,(i,o)=>{o!==xe&&r.push(`${o}:${sa(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function vN(n,t){let e=[];return Lt(n.children,(r,i)=>{i===xe&&(e=e.concat(t(r,i)))}),Lt(n.children,(r,i)=>{i!==xe&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===xe?[sa(n.children[xe],!1)]:[`${i}:${sa(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[xe]?`${cu(n)}/${e[0]}`:`${cu(n)}/(${e.join("//")})`}}function ZC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function du(n){return ZC(n).replace(/%3B/gi,";")}function Mf(n){return ZC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hu(n){return decodeURIComponent(n)}function QC(n){return hu(n.replace(/\+/g,"%20"))}function YC(n){return`${Mf(n.path)}${function CN(n){return Object.keys(n).map(t=>`;${Mf(t)}=${Mf(n[t])}`).join("")}(n.parameters)}`}const DN=/^[^\/()?;=#]+/;function fu(n){const t=n.match(DN);return t?t[0]:""}const SN=/^[^=?&#]+/,TN=/^[^&#]+/;class IN{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[xe]=new Re(t,e)),r}parseSegment(){const t=fu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(t),new oa(hu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=fu(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=fu(this.remaining);i&&(r=i,this.capture(r))}t[hu(e)]=hu(r)}parseQueryParam(t){const e=function AN(n){const t=n.match(SN);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function MN(n){const t=n.match(TN);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=QC(e),o=QC(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=xe);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[xe]:new Re([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new q(4011,!1)}}function If(n){return n.segments.length>0?new Re([],{[xe]:n}):n}function pu(n){const t={};for(const r of Object.keys(n.children)){const o=pu(n.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function xN(n){if(1===n.numberOfChildren&&n.children[xe]){const t=n.children[xe];return new Re(n.segments.concat(t.segments),t.children)}return n}(new Re(n.segments,t))}function Li(n){return n instanceof Ni}function RN(n,t,e,r,i){if(0===e.length)return Lo(t.root,t.root,t.root,r,i);const o=function t0(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new e0(!0,0,n);let t=0,e=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Lt(o.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new e0(e,t,r)}(e);return o.toRoot()?Lo(t.root,t.root,new Re([],{}),r,i):function s(l){const u=function NN(n,t,e,r){if(n.isAbsolute)return new Vo(t.root,!0,0);if(-1===r)return new Vo(e,e===t.root,0);return function n0(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new Vo(r,!1,i-o)}(e,r+(aa(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,l),c=u.processChildren?ua(u.segmentGroup,u.index,o.commands):Of(u.segmentGroup,u.index,o.commands);return Lo(t.root,u.segmentGroup,c,r,i)}(n.snapshot?._lastPathIndex)}function aa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function la(n){return"object"==typeof n&&null!=n&&n.outlets}function Lo(n,t,e,r,i){let s,o={};r&&Lt(r,(l,u)=>{o[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),s=n===t?e:XC(n,t,e);const a=If(pu(s));return new Ni(a,o,i)}function XC(n,t,e){const r={};return Lt(n.children,(i,o)=>{r[o]=i===t?e:XC(i,t,e)}),new Re(n.segments,r)}class e0{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&aa(r[0]))throw new q(4003,!1);const i=r.find(la);if(i&&i!==HC(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vo{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function Of(n,t,e){if(n||(n=new Re([],{})),0===n.segments.length&&n.hasChildren())return ua(n,t,e);const r=function LN(n,t,e){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;const s=n.segments[i],a=e[r];if(la(a))break;const l=`${a}`,u=r<e.length-1?e[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!o0(l,u,s))return o;r+=2}else{if(!o0(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Re(n.segments.slice(0,r.pathIndex),{});return o.children[xe]=new Re(n.segments.slice(r.pathIndex),n.children),ua(o,0,i)}return r.match&&0===i.length?new Re(n.segments,{}):r.match&&!n.hasChildren()?Pf(n,t,e):r.match?ua(n,0,i):Pf(n,t,e)}function ua(n,t,e){if(0===e.length)return new Re(n.segments,{});{const r=function FN(n){return la(n[0])?n[0].outlets:{[xe]:n}}(e),i={};return Lt(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=Of(n.children[s],t,o))}),Lt(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new Re(n.segments,i)}}function Pf(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const o=e[i];if(la(o)){const l=VN(o.outlets);return new Re(r,l)}if(0===i&&aa(e[0])){r.push(new oa(n.segments[t].path,r0(e[0]))),i++;continue}const s=la(o)?o.outlets[xe]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&aa(a)?(r.push(new oa(s,r0(a))),i+=2):(r.push(new oa(s,{})),i++)}return new Re(r,{})}function VN(n){const t={};return Lt(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Pf(new Re([],{}),0,e))}),t}function r0(n){const t={};return Lt(n,(e,r)=>t[r]=`${e}`),t}function o0(n,t,e){return n==e.path&&wr(t,e.parameters)}class Br{constructor(t,e){this.id=t,this.url=e}}class Rf extends Br{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vi extends Br{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gu extends Br{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class s0 extends Br{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jN extends Br{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $N extends Br{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UN extends Br{constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class BN extends Br{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HN extends Br{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GN{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zN{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qN{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WN{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KN{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JN{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a0{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class l0{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=kf(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=kf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Nf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Nf(t,this._root).map(e=>e.value)}}function kf(n,t){if(n===t.value)return t;for(const e of t.children){const r=kf(n,e);if(r)return r}return null}function Nf(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Nf(n,e);if(r.length)return r.unshift(t),r}return[]}class Hr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function jo(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class u0 extends l0{constructor(t,e){super(t),this.snapshot=e,Ff(this,t)}toString(){return this.snapshot.toString()}}function c0(n,t){const e=function QN(n,t){const s=new mu([],{},{},"",{},xe,t,null,n.root,-1,{});return new h0("",new Hr(s,[]))}(n,t),r=new Wt([new oa("",{})]),i=new Wt({}),o=new Wt({}),s=new Wt({}),a=new Wt(""),l=new ji(r,i,s,a,o,xe,t,e.root);return l.snapshot=e.root,new u0(new Hr(l,[]),e)}class ji{constructor(t,e,r,i,o,s,a,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe($(u=>u[ia]))??re(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe($(t=>Fo(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe($(t=>Fo(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function d0(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function YN(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class mu{constructor(t,e,r,i,o,s,a,l,u,c,d,h){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.[ia],this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._correctedLastPathIndex=h??c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class h0 extends l0{constructor(t,e){super(e),this.url=t,Ff(this,e)}toString(){return f0(this._root)}}function Ff(n,t){t.value._routerState=n,t.children.forEach(e=>Ff(n,e))}function f0(n){const t=n.children.length>0?` { ${n.children.map(f0).join(", ")} } `:"";return`${n.value}${t}`}function Lf(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,wr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),wr(t.params,e.params)||n.params.next(e.params),function fN(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!wr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),wr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Vf(n,t){const e=wr(n.params,t.params)&&function yN(n,t){return Fi(n,t)&&n.every((e,r)=>wr(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Vf(n.parent,t.parent))}function ca(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function eF(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ca(n,r,i);return ca(n,r)})}(n,t,e);return new Hr(r,i)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ca(n,a)),s}}const r=function tF(n){return new ji(new Wt(n.url),new Wt(n.params),new Wt(n.queryParams),new Wt(n.fragment),new Wt(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(o=>ca(n,o));return new Hr(r,i)}}const jf="ngNavigationCancelingError";function p0(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=Li(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=g0(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function g0(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[jf]=!0,r.cancellationCode=t,e&&(r.url=e),r}function m0(n){return _0(n)&&Li(n.url)}function _0(n){return n&&n[jf]}class nF{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new da,this.attachRef=null}}let da=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new nF,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _u=!1;let $f=(()=>{class n{constructor(e,r,i,o,s){this.parentContexts=e,this.location=r,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new gt,this.deactivateEvents=new gt,this.attachEvents=new gt,this.detachEvents=new gt,this.name=i||xe,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,_u);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,_u);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,_u);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new q(4013,_u);this._activatedRoute=e;const i=this.location,s=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new rF(e,a,i.injector);if(r&&function iF(n){return!!n.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(s);this.activated=i.createComponent(u,i.length,l)}else this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(N(da),N(Yn),cs("name"),N(Ml),N(Yr))},n.\u0275dir=de({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class rF{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===ji?this.route:t===da?this.childContexts:this.parent.get(t,e)}}let Uf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Wr({type:n,selectors:[["ng-component"]],standalone:!0,features:[wv],decls:1,vars:0,template:function(e,r){1&e&&ti(0,"router-outlet")},dependencies:[$f],encapsulation:2}),n})();function y0(n,t){return n.providers&&!n._injector&&(n._injector=vl(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Hf(n){const t=n.children&&n.children.map(Hf),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==xe&&(e.component=Uf),e}function Ln(n){return n.outlet||xe}function v0(n,t){const e=n.filter(r=>Ln(r)===t);return e.push(...n.filter(r=>Ln(r)!==t)),e}function ha(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class uF{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Lf(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=jo(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Lt(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=jo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=jo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=jo(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new JN(o.value.snapshot))}),t.children.length&&this.forwardEvent(new WN(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(Lf(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Lf(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=ha(i.snapshot),l=a?.get(Ts)??null;s.attachRef=null,s.route=i,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class w0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class yu{constructor(t,e){this.component=t,this.route=e}}function cF(n,t,e){const r=n._root;return fa(r,t?t._root:null,e,[r.value])}function $o(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||function iD(n){return null!==Da(n)}(n)?t.get(n):n:r}function fa(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=jo(t);return n.children.forEach(s=>{(function hF(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function fF(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Fi(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Fi(n.url,t.url)||!wr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vf(n,t)||!wr(n.queryParams,t.queryParams);default:return!Vf(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new w0(r)):(o.data=s.data,o._resolvedData=s._resolvedData),fa(n,t,o.component?a?a.children:null:e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new yu(a.outlet.component,s))}else s&&pa(t,a,i),i.canActivateChecks.push(new w0(r)),fa(n,null,o.component?a?a.children:null:e,r,i)})(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Lt(o,(s,a)=>pa(s,e.getContext(a),i)),i}function pa(n,t,e){const r=jo(n),i=n.value;Lt(r,(o,s)=>{pa(o,i.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new yu(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function ga(n){return"function"==typeof n}function Gf(n){return n instanceof au||"EmptyError"===n?.name}const vu=Symbol("INITIAL_VALUE");function Uo(){return vr(n=>bf(n.map(t=>t.pipe(ra(1),function sN(...n){const t=Xo(n);return w((e,r)=>{(t?Cf(n,e,t):Cf(n,e)).subscribe(r)})}(vu)))).pipe($(t=>{for(const e of t)if(!0!==e){if(e===vu)return vu;if(!1===e||e instanceof Ni)return e}return!0}),ai(t=>t!==vu),ra(1)))}function b0(n){return function _i(...n){return ct(n)}(Kt(t=>{if(Li(t))throw p0(0,t)}),$(t=>!0===t))}const zf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function C0(n,t,e,r,i){const o=qf(n,t,e);return o.matched?function xF(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?re(i.map(s=>{const a=$o(s,n);return ci(function vF(n){return n&&ga(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(Uo(),b0()):re(!0)}(r=y0(t,r),t,e).pipe($(s=>!0===s?o:{...zf})):re(o)}function qf(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...zf}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||hN)(e,n,t);if(!i)return{...zf};const o={};Lt(i.posParams,(a,l)=>{o[l]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function wu(n,t,e,r,i="corrected"){if(e.length>0&&function RF(n,t,e){return e.some(r=>bu(n,t,r)&&Ln(r)!==xe)}(n,e,r)){const s=new Re(t,function PF(n,t,e,r){const i={};i[xe]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Ln(o)!==xe){const s=new Re([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,i[Ln(o)]=s}return i}(n,t,r,new Re(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function kF(n,t,e){return e.some(r=>bu(n,t,r))}(n,e,r)){const s=new Re(n.segments,function OF(n,t,e,r,i,o){const s={};for(const a of r)if(bu(n,e,a)&&!i[Ln(a)]){const l=new Re([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[Ln(a)]=l}return{...i,...s}}(n,t,e,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new Re(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function bu(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function E0(n,t,e,r){return!!(Ln(n)===r||r!==xe&&bu(t,e,n))&&("**"===n.path||qf(t,n,e).matched)}function D0(n,t,e){return 0===t.length&&!n.children[e]}const Cu=!1;class Eu{constructor(t){this.segmentGroup=t||null}}class S0{constructor(t){this.urlTree=t}}function ma(n){return na(new Eu(n))}function A0(n){return na(new S0(n))}class VF{constructor(t,e,r,i,o){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const t=wu(this.urlTree.root,[],[],this.config).segmentGroup,e=new Re(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,xe).pipe($(o=>this.createUrlTree(pu(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ui(o=>{if(o instanceof S0)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Eu?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,xe).pipe($(i=>this.createUrlTree(pu(i),t.queryParams,t.fragment))).pipe(ui(i=>{throw i instanceof Eu?this.noMatchError(i):i}))}noMatchError(t){return new q(4002,Cu)}createUrlTree(t,e,r){const i=If(t);return new Ni(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe($(o=>new Re([],o))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return wt(i).pipe(ki(o=>{const s=r.children[o],a=v0(e,o);return this.expandSegmentGroup(t,a,s,o).pipe($(l=>({segment:l,outlet:o})))}),jC((o,s)=>(o[s.outlet]=s.segment,o),{}),$C())}expandSegment(t,e,r,i,o,s){return wt(r).pipe(ki(a=>this.expandSegmentAgainstRoute(t,e,r,a,i,o,s).pipe(ui(u=>{if(u instanceof Eu)return re(null);throw u}))),li(a=>!!a),ui((a,l)=>{if(Gf(a))return D0(e,i,o)?re(new Re([],{})):ma(e);throw a}))}expandSegmentAgainstRoute(t,e,r,i,o,s,a){return E0(i,e,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s):ma(e):ma(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?A0(o):this.lineralizeSegments(r,o).pipe(Ft(s=>{const a=new Re(s,{});return this.expandSegment(t,a,e,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=qf(e,i,o);if(!a)return ma(e);const d=this.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?A0(d):this.lineralizeSegments(i,d).pipe(Ft(h=>this.expandSegment(t,e,r,h.concat(u),s,!1)))}matchSegmentAgainstRoute(t,e,r,i,o){return"**"===r.path?(t=y0(r,t),r.loadChildren?(r._loadedRoutes?re({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe($(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Re(i,{})))):re(new Re(i,{}))):C0(e,r,i,t).pipe(vr(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(t=r._injector??t,r,i).pipe(Ft(c=>{const d=c.injector??t,h=c.routes,{segmentGroup:f,slicedSegments:p}=wu(e,a,l,h),m=new Re(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe($(v=>new Re(a,v)));if(0===h.length&&0===p.length)return re(new Re(a,{}));const _=Ln(r)===o;return this.expandSegment(d,m,h,p,_?xe:o,!0).pipe($(I=>new Re(a.concat(I.segments),I.children)))})):ma(e)))}getChildConfig(t,e,r){return e.children?re({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?re({routes:e._loadedRoutes,injector:e._loadedInjector}):function IF(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?re(!0):re(i.map(s=>{const a=$o(s,n);return ci(function gF(n){return n&&ga(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(Uo(),b0())}(t,e,r).pipe(Ft(i=>i?this.configLoader.loadChildren(t,e).pipe(Kt(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function FF(n){return na(g0(Cu,3))}())):re({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return re(r);if(i.numberOfChildren>1||!i.children[xe])return na(new q(4e3,Cu));i=i.children[xe]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const o=this.createSegmentGroup(t,e.root,r,i);return new Ni(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Lt(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=e[a]}else r[o]=i}),r}createSegmentGroup(t,e,r,i){const o=this.createSegments(t,e.segments,r,i);let s={};return Lt(e.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,r,i)}),new Re(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new q(4001,Cu);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}class $F{}class HF{constructor(t,e,r,i,o,s,a,l){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const t=wu(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,xe).pipe($(e=>{if(null===e)return null;const r=new mu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},xe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Hr(r,e),o=new h0(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,r=d0(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i)}processChildren(t,e,r){return wt(Object.keys(r.children)).pipe(ki(i=>{const o=r.children[i],s=v0(e,i);return this.processSegmentGroup(t,s,o,i)}),jC((i,o)=>i&&o?(i.push(...o),i):null),function uN(n,t=!1){return w((e,r)=>{let i=0;e.subscribe(x(r,o=>{const s=n(o,i++);(s||t)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),lu(null),$C(),$(i=>{if(null===i)return null;const o=T0(i);return function GF(n){n.sort((t,e)=>t.value.outlet===xe?-1:e.value.outlet===xe?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,r,i,o){return wt(e).pipe(ki(s=>this.processSegmentAgainstRoute(s._injector??t,s,r,i,o)),li(s=>!!s),ui(s=>{if(Gf(s))return D0(r,i,o)?re([]):re(null);throw s}))}processSegmentAgainstRoute(t,e,r,i,o){if(e.redirectTo||!E0(e,r,i,o))return re(null);let s;if("**"===e.path){const a=i.length>0?HC(i).parameters:{},l=I0(r)+i.length;s=re({snapshot:new mu(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O0(e),Ln(e),e.component??e._loadedComponent??null,e,M0(r),l,P0(e),l),consumedSegments:[],remainingSegments:[]})}else s=C0(r,e,i,t).pipe($(({matched:a,consumedSegments:l,remainingSegments:u,parameters:c})=>{if(!a)return null;const d=I0(r)+l.length;return{snapshot:new mu(l,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O0(e),Ln(e),e.component??e._loadedComponent??null,e,M0(r),d,P0(e),d),consumedSegments:l,remainingSegments:u}}));return s.pipe(vr(a=>{if(null===a)return re(null);const{snapshot:l,consumedSegments:u,remainingSegments:c}=a;t=e._injector??t;const d=e._loadedInjector??t,h=function zF(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:f,slicedSegments:p}=wu(r,u,c,h.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe($(_=>null===_?null:[new Hr(l,_)]));if(0===h.length&&0===p.length)return re([new Hr(l,[])]);const m=Ln(e)===o;return this.processSegment(d,h,f,p,m?xe:o).pipe($(_=>null===_?null:[new Hr(l,_)]))}))}}function qF(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function T0(n){const t=[],e=new Set;for(const r of n){if(!qF(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=T0(r.children);t.push(new Hr(r.value,i))}return t.filter(r=>!e.has(r))}function M0(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function I0(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function O0(n){return n.data||{}}function P0(n){return n.resolve||{}}function R0(n){return"string"==typeof n.title||null===n.title}function Wf(n){return vr(t=>{const e=n(t);return e?wt(e).pipe($(()=>t)):re(t)})}let k0=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===xe);return r}getResolvedTitleForRoute(e){return e.data[ia]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:function(){return mt(N0)},providedIn:"root"}),n})(),N0=(()=>{class n extends k0{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(X(Eb))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class eL{}class nL extends class tL{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Su=new ne("",{providedIn:"root",factory:()=>({})}),Kf=new ne("ROUTES");let Jf=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return re(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=ci(e.loadComponent()).pipe(Kt(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Sf(()=>{this.componentLoaders.delete(e)})),i=new LC(r,()=>new y).pipe(Ef());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return re({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe($(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u,c=!1;Array.isArray(a)?u=a:(l=a.create(e).injector,u=BC(l.get(Kf,[],oe.Self|oe.Optional)));return{routes:u.map(Hf),injector:l}}),Sf(()=>{this.childrenLoaders.delete(r)})),s=new LC(o,()=>new y).pipe(Ef());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(e){return ci(e()).pipe(Ft(r=>r instanceof yv||Array.isArray(r)?re(r):wt(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(X(Rn),X(gh))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class iL{}class oL{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function sL(n){throw n}function aL(n,t,e){return t.parse("/")}const lL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function L0(){const n=mt(JC),t=mt(da),e=mt(xh),r=mt(Rn),i=mt(gh),o=mt(Kf,{optional:!0})??[],s=mt(Su,{optional:!0})??{},a=mt(N0),l=mt(k0,{optional:!0}),u=mt(iL,{optional:!0}),c=mt(eL,{optional:!0}),d=new Rt(null,n,t,e,r,i,BC(o));return u&&(d.urlHandlingStrategy=u),c&&(d.routeReuseStrategy=c),d.titleStrategy=l??a,function cL(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,d),d}let Rt=(()=>{class n{constructor(e,r,i,o,s,a,l){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new y,this.errorHandler=sL,this.malformedUriErrorHandler=aL,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>re(void 0),this.urlHandlingStrategy=new oL,this.routeReuseStrategy=new nL,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(Jf),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new zN(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new GN(h)),this.ngModule=s.get(Ii),this.console=s.get(jO);const d=s.get(Ot);this.isNgZoneEnabled=d instanceof Ot&&Ot.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function pN(){return new Ni(new Re([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=c0(this.currentUrlTree,this.rootComponentType),this.transitions=new Wt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(ai(i=>0!==i.id),$(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),vr(i=>{let o=!1,s=!1;return re(i).pipe(Kt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vr(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return V0(a.source)&&(this.browserUrlTree=a.extractedUrl),re(a).pipe(vr(d=>{const h=this.transitions.getValue();return r.next(new Rf(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Dr:Promise.resolve(d)}),function jF(n,t,e,r){return vr(i=>function LF(n,t,e,r,i){return new VF(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe($(o=>({...i,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Kt(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function KF(n,t,e,r,i,o){return Ft(s=>function BF(n,t,e,r,i,o,s="emptyOnly",a="legacy"){return new HF(n,t,e,r,i,s,a,o).recognize().pipe(vr(l=>null===l?function UF(n){return new Le(t=>t.error(n))}(new $F):re(l)))}(n,t,e,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i,o).pipe($(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Kt(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new jN(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:_}=a,b=new Rf(h,this.serializeUrl(f),p,m);r.next(b);const I=c0(f,this.rootComponentType).snapshot;return re(i={...a,targetSnapshot:I,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Dr}),Kt(a=>{const l=new $N(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),$(a=>i={...a,guards:cF(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function bF(n,t){return Ft(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?re({...e,guardsResult:!0}):function CF(n,t,e,r){return wt(n).pipe(Ft(i=>function MF(n,t,e,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?re(o.map(a=>{const l=ha(t)??i,u=$o(a,l);return ci(function yF(n){return n&&ga(n.canDeactivate)}(u)?u.canDeactivate(n,t,e,r):l.runInContext(()=>u(n,t,e,r))).pipe(li())})).pipe(Uo()):re(!0)}(i.component,i.route,e,t,r)),li(i=>!0!==i,!0))}(s,r,i,n).pipe(Ft(a=>a&&function pF(n){return"boolean"==typeof n}(a)?function EF(n,t,e,r){return wt(t).pipe(ki(i=>Cf(function SF(n,t){return null!==n&&t&&t(new qN(n)),re(!0)}(i.route.parent,r),function DF(n,t){return null!==n&&t&&t(new KN(n)),re(!0)}(i.route,r),function TF(n,t,e){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function dF(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>FC(()=>re(s.guards.map(l=>{const u=ha(s.node)??e,c=$o(l,u);return ci(function _F(n){return n&&ga(n.canActivateChild)}(c)?c.canActivateChild(r,n):u.runInContext(()=>c(r,n))).pipe(li())})).pipe(Uo())));return re(o).pipe(Uo())}(n,i.path,e),function AF(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return re(!0);const i=r.map(o=>FC(()=>{const s=ha(t)??e,a=$o(o,s);return ci(function mF(n){return n&&ga(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe(li())}));return re(i).pipe(Uo())}(n,i.route,e))),li(i=>!0!==i,!0))}(r,o,n,t):re(a)),$(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Kt(a=>{if(i.guardsResult=a.guardsResult,Li(a.guardsResult))throw p0(0,a.guardsResult);const l=new UN(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),ai(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Wf(a=>{if(a.guards.canActivateChecks.length)return re(a).pipe(Kt(l=>{const u=new BN(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),vr(l=>{let u=!1;return re(l).pipe(function JF(n,t){return Ft(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return re(e);let o=0;return wt(i).pipe(ki(s=>function ZF(n,t,e,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!R0(i)&&(o[ia]=i.title),function QF(n,t,e,r){const i=function YF(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return re({});const o={};return wt(i).pipe(Ft(s=>function XF(n,t,e,r){const i=ha(t)??r,o=$o(n,i);return ci(o.resolve?o.resolve(t,e):i.runInContext(()=>o(t,e)))}(n[s],t,e,r).pipe(li(),Kt(a=>{o[s]=a}))),Df(1),function cN(n){return $(()=>n)}(o),ui(s=>Gf(s)?Dr:na(s)))}(o,n,t,r).pipe($(s=>(n._resolvedData=s,n.data=d0(n,e).resolve,i&&R0(i)&&(n.data[ia]=i.title),null)))}(s.route,r,n,t)),Kt(()=>o++),Df(1),Ft(s=>o===i.length?re(e):Dr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Kt({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),Kt(l=>{const u=new HN(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),Wf(a=>{const l=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Kt(d=>{u.component=d}),$(()=>{})));for(const d of u.children)c.push(...l(d));return c};return bf(l(a.targetSnapshot.root)).pipe(lu(),ra(1))}),Wf(()=>this.afterPreactivation()),$(a=>{const l=function XN(n,t,e){const r=ca(n,t._root,e?e._root:void 0);return new u0(r,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:l}}),Kt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>$(r=>(new uF(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Kt({next(){o=!0},complete(){o=!0}}),Sf(()=>{o||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ui(a=>{if(s=!0,_0(a)){m0(a)||(this.navigated=!0,this.restoreHistory(i,!0));const l=new gu(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(l),m0(a)){const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||V0(i.source)};this.scheduleNavigation(u,"imperative",null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new s0(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(l);try{i.resolve(this.errorHandler(a))}catch(u){i.reject(u)}}return Dr}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const a={...o};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const s=this.parseUrl(e.url);this.scheduleNavigation(s,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Hf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=i||this.routerState.root,c=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),RN(u,this.currentUrlTree,e,d,c??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Li(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function dL(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new q(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...lL}:!1===r?{...uL}:r,Li(e))return zC(this.currentUrlTree,e,i);const o=this.parseUrl(e);return zC(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Vi(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((h,f)=>{a=h,l=f});const c=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:c,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,i){const o=new gu(e.id,this.serializeUrl(e.extractedUrl),r,i);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){fd()},n.\u0275prov=ye({token:n,factory:function(){return L0()},providedIn:"root"}),n})();function V0(n){return"imperative"!==n}let Zf=(()=>{class n{constructor(e,r,i,o,s){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new y,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=jr(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=jr(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=jr(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==e?r.setAttribute(i,"tabindex",e):r.removeAttribute(i,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(N(Rt),N(ji),cs("tabindex"),N(Or),N(wn))},n.\u0275dir=de({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&Te("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[On]}),n})(),Tu=(()=>{class n{constructor(e,r,i){this.router=e,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new y,this.subscription=e.events.subscribe(o=>{o instanceof Vi&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=jr(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=jr(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=jr(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,i,o,s){return!!(0!==e||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(N(Rt),N(ji),N(Oi))},n.\u0275dir=de({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&Te("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&fr("target",r.target)("href",r.href,Yc)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[On]}),n})(),j0=(()=>{class n{constructor(e,r,i,o,s,a){this.router=e,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new gt,this.routerEventsSubscription=e.events.subscribe(l=>{l instanceof Vi&&this.update()})}ngAfterContentInit(){re(this.links.changes,this.linksWithHrefs.changes,re(null)).pipe(zi()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=wt(e).pipe(zi()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const r=function hL(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&e.isActive(i.urlTree,r)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(N(Rt),N(wn),N(Or),N(Ml),N(Zf,8),N(Tu,8))},n.\u0275dir=de({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,r,i){if(1&e&&(lh(i,Zf,5),lh(i,Tu,5)),2&e){let o;ah(o=uh())&&(r.links=o),ah(o=uh())&&(r.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[On]}),n})();class $0{}let fL=(()=>{class n{constructor(e,r,i,o,s){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ai(e=>e instanceof Vi),ki(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=vl(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return wt(i).pipe(zi())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):re(null);const o=i.pipe(Ft(s=>null===s?re(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return r.loadComponent&&!r._loadedComponent?wt([o,this.loader.loadComponent(r)]).pipe(zi()):o})}}return n.\u0275fac=function(e){return new(e||n)(X(Rt),X(gh),X(Yr),X($0),X(Jf))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qf=new ne("");let U0=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Rf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Vi&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof a0&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new a0(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){fd()},n.\u0275prov=ye({token:n,factory:n.\u0275fac}),n})();function Bo(n,t){return{\u0275kind:n,\u0275providers:t}}function Yf(n){return[{provide:Kf,multi:!0,useValue:n}]}function H0(){const n=mt(Rn);return t=>{const e=n.get(Al);if(t!==e.components[0])return;const r=n.get(Rt),i=n.get(G0);1===n.get(Xf)&&r.initialNavigation(),n.get(z0,null,oe.Optional)?.setUpPreloading(),n.get(Qf,null,oe.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const G0=new ne("",{factory:()=>new y}),Xf=new ne("",{providedIn:"root",factory:()=>1});const z0=new ne("");function _L(n){return Bo(0,[{provide:z0,useExisting:fL},{provide:$0,useExisting:n}])}const q0=new ne("ROUTER_FORROOT_GUARD"),yL=[xh,{provide:JC,useClass:Tf},{provide:Rt,useFactory:L0},da,{provide:ji,useFactory:function B0(n){return n.routerState.root},deps:[Rt]},Jf];function vL(){return new pw("Router",Rt)}let W0=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[yL,[],Yf(e),{provide:q0,useFactory:EL,deps:[[Rt,new _s,new ys]]},{provide:Su,useValue:r||{}},r?.useHash?{provide:Oi,useClass:TP}:{provide:Oi,useClass:jw},{provide:Qf,useFactory:()=>{const n=mt(Rt),t=mt(qR),e=mt(Su);return e.scrollOffset&&t.setOffset(e.scrollOffset),new U0(n,t,e)}},r?.preloadingStrategy?_L(r.preloadingStrategy).\u0275providers:[],{provide:pw,multi:!0,useFactory:vL},r?.initialNavigation?DL(r):[],[{provide:K0,useFactory:H0},{provide:aw,multi:!0,useExisting:K0}]]}}static forChild(e){return{ngModule:n,providers:[Yf(e)]}}}return n.\u0275fac=function(e){return new(e||n)(X(q0,8))},n.\u0275mod=lr({type:n}),n.\u0275inj=Un({imports:[Uf]}),n})();function EL(n){return"guarded"}function DL(n){return["disabled"===n.initialNavigation?Bo(3,[{provide:El,multi:!0,useFactory:()=>{const t=mt(Rt);return()=>{t.setUpLocationChangeListener()}}},{provide:Xf,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Bo(2,[{provide:Xf,useValue:0},{provide:El,multi:!0,deps:[Rn],useFactory:t=>{const e=t.get(SP,Promise.resolve());let r=!1;return()=>e.then(()=>new Promise(o=>{const s=t.get(Rt),a=t.get(G0);(function i(o){t.get(Rt).events.pipe(ai(a=>a instanceof Vi||a instanceof gu||a instanceof s0),$(a=>a instanceof Vi||a instanceof gu&&(0===a.code||1===a.code)&&null),ai(a=>null!==a),ra(1)).subscribe(()=>{o()})})(()=>{o(!0),r=!0}),s.afterPreactivation=()=>(o(!0),r||a.closed?re(void 0):a),s.initialNavigation()}))}}]).\u0275providers:[]]}const K0=new ne("");function J0(n,t,e,r,i,o,s){try{var a=n[o](s),l=a.value}catch(u){return void e(u)}a.done?t(l):Promise.resolve(l).then(r,i)}function g(n){return function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function s(l){J0(o,r,i,s,a,"next",l)}function a(l){J0(o,r,i,s,a,"throw",l)}s(void 0)})}}var ue=(()=>{return(n=ue||(ue={})).NOT_STARTED="not_started",n.IN_PROGRESS="in_progress",n.COMPLETED="completed",ue;var n})();class ep extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}}class TL extends ep{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Z0 extends ep{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Q0 extends ep{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var xu=(()=>{return(n=xu||(xu={})).Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",xu;var n})();class ML{constructor(t,{headers:e={},customFetch:r,region:i=xu.Any}={}){var n;this.url=t,this.headers=e,this.region=i,this.fetch=(n=r)?(...t)=>n(...t):(...t)=>fetch(...t)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return(0,L.__awaiter)(this,arguments,void 0,function*(e,r={}){var i;let o,s;try{const{headers:a,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:f}=r;f||(f=this.region);const p=new URL(`${this.url}/${e}`);let m;f&&"any"!==f&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f)),u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):"string"==typeof u?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):m=u;let _=c;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),c?(_=s.signal,c.addEventListener("abort",()=>s.abort())):_=s.signal);const b=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:m,signal:_}).catch(U=>{throw new TL(U)}),I=b.headers.get("x-relay-error");if(I&&"true"===I)throw new Z0(b);if(!b.ok)throw new Q0(b);let O,v=(null!==(i=b.headers.get("Content-Type"))&&void 0!==i?i:"text/plain").split(";")[0].trim();return O="application/json"===v?yield b.json():"application/octet-stream"===v||"application/pdf"===v?yield b.blob():"text/event-stream"===v?b:"multipart/form-data"===v?yield b.formData():yield b.text(),{data:O,error:null,response:b}}catch(a){return{data:null,error:a,response:a instanceof Q0||a instanceof Z0?a.context:void 0}}finally{o&&clearTimeout(o)}})}}var Y0=k(358),IL=k.t(Y0,2);const{PostgrestClient:X0}=Y0||IL;var di=(()=>{return(n=di||(di={}))[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",di;var n})(),St=(()=>{return(n=St||(St={})).closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",St;var n})(),Cn=(()=>{return(n=Cn||(Cn={})).close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",Cn;var n})(),Ou=(()=>((Ou||(Ou={})).websocket="websocket",Ou))(),hi=(()=>{return(n=hi||(hi={})).Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",hi;var n})();class UL{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,e){return this._isArrayBuffer(t.payload)?e(this._binaryEncodePush(t)):t.event!==this.BROADCAST||t.payload instanceof ArrayBuffer||"string"!=typeof t.payload.event?e(JSON.stringify([t.join_ref,t.ref,t.topic,t.event,t.payload])):e(this._binaryEncodeUserBroadcastPush(t))}_binaryEncodePush(t){const{join_ref:e,ref:r,event:i,topic:o,payload:s}=t,l=new ArrayBuffer(this.HEADER_LENGTH+(this.META_LENGTH+e.length+r.length+o.length+i.length));let u=new DataView(l),c=0;u.setUint8(c++,this.KINDS.push),u.setUint8(c++,e.length),u.setUint8(c++,r.length),u.setUint8(c++,o.length),u.setUint8(c++,i.length),Array.from(e,h=>u.setUint8(c++,h.charCodeAt(0))),Array.from(r,h=>u.setUint8(c++,h.charCodeAt(0))),Array.from(o,h=>u.setUint8(c++,h.charCodeAt(0))),Array.from(i,h=>u.setUint8(c++,h.charCodeAt(0)));var d=new Uint8Array(l.byteLength+s.byteLength);return d.set(new Uint8Array(l),0),d.set(new Uint8Array(s),l.byteLength),d.buffer}_binaryEncodeUserBroadcastPush(t){var e;return this._isArrayBuffer(null===(e=t.payload)||void 0===e?void 0:e.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var e,r;const{join_ref:i,ref:o,topic:s}=t,a=t.payload.event,l=null!==(r=null===(e=t.payload)||void 0===e?void 0:e.payload)&&void 0!==r?r:new ArrayBuffer(0),c=new ArrayBuffer(this.HEADER_LENGTH+(this.USER_BROADCAST_PUSH_META_LENGTH+i.length+o.length+s.length+a.length));let d=new DataView(c),h=0;d.setUint8(h++,this.KINDS.userBroadcastPush),d.setUint8(h++,i.length),d.setUint8(h++,o.length),d.setUint8(h++,s.length),d.setUint8(h++,a.length),d.setUint8(h++,this.BINARY_ENCODING),Array.from(i,p=>d.setUint8(h++,p.charCodeAt(0))),Array.from(o,p=>d.setUint8(h++,p.charCodeAt(0))),Array.from(s,p=>d.setUint8(h++,p.charCodeAt(0))),Array.from(a,p=>d.setUint8(h++,p.charCodeAt(0)));var f=new Uint8Array(c.byteLength+l.byteLength);return f.set(new Uint8Array(c),0),f.set(new Uint8Array(l),c.byteLength),f.buffer}_encodeJsonUserBroadcastPush(t){var e,r;const{join_ref:i,ref:o,topic:s}=t,a=t.payload.event,l=null!==(r=null===(e=t.payload)||void 0===e?void 0:e.payload)&&void 0!==r?r:{},c=(new TextEncoder).encode(JSON.stringify(l)).buffer,h=new ArrayBuffer(this.HEADER_LENGTH+(this.USER_BROADCAST_PUSH_META_LENGTH+i.length+o.length+s.length+a.length));let f=new DataView(h),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,i.length),f.setUint8(p++,o.length),f.setUint8(p++,s.length),f.setUint8(p++,a.length),f.setUint8(p++,this.JSON_ENCODING),Array.from(i,_=>f.setUint8(p++,_.charCodeAt(0))),Array.from(o,_=>f.setUint8(p++,_.charCodeAt(0))),Array.from(s,_=>f.setUint8(p++,_.charCodeAt(0))),Array.from(a,_=>f.setUint8(p++,_.charCodeAt(0)));var m=new Uint8Array(h.byteLength+c.byteLength);return m.set(new Uint8Array(h),0),m.set(new Uint8Array(c),h.byteLength),m.buffer}decode(t,e){if(this._isArrayBuffer(t))return e(this._binaryDecode(t));if("string"==typeof t){const r=JSON.parse(t),[i,o,s,a,l]=r;return e({join_ref:i,ref:o,topic:s,event:a,payload:l})}return e({})}_binaryDecode(t){const e=new DataView(t),r=e.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(t,e,i);case this.KINDS.reply:return this._decodeReply(t,e,i);case this.KINDS.broadcast:return this._decodeBroadcast(t,e,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,e,i)}}_decodePush(t,e,r){const i=e.getUint8(1),o=e.getUint8(2),s=e.getUint8(3);let a=this.HEADER_LENGTH+this.META_LENGTH-1;const l=r.decode(t.slice(a,a+i));a+=i;const u=r.decode(t.slice(a,a+o));a+=o;const c=r.decode(t.slice(a,a+s));return a+=s,{join_ref:l,ref:null,topic:u,event:c,payload:JSON.parse(r.decode(t.slice(a,t.byteLength)))}}_decodeReply(t,e,r){const i=e.getUint8(1),o=e.getUint8(2),s=e.getUint8(3),a=e.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const u=r.decode(t.slice(l,l+i));l+=i;const c=r.decode(t.slice(l,l+o));l+=o;const d=r.decode(t.slice(l,l+s));l+=s;const h=r.decode(t.slice(l,l+a));l+=a;const f=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{join_ref:u,ref:c,topic:d,event:Cn.reply,payload:{status:h,response:f}}}_decodeBroadcast(t,e,r){const i=e.getUint8(1),o=e.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(t.slice(s,s+i));s+=i;const l=r.decode(t.slice(s,s+o));return s+=o,{join_ref:null,ref:null,topic:a,event:l,payload:JSON.parse(r.decode(t.slice(s,t.byteLength)))}}_decodeUserBroadcast(t,e,r){const i=e.getUint8(1),o=e.getUint8(2),s=e.getUint8(3),a=e.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+i));l+=i;const c=r.decode(t.slice(l,l+o));l+=o;const d=r.decode(t.slice(l,l+s));l+=s;const h=t.slice(l,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,p={type:this.BROADCAST,event:c,payload:f};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:p}}_isArrayBuffer(t){var e;return t instanceof ArrayBuffer||"ArrayBuffer"===(null===(e=t?.constructor)||void 0===e?void 0:e.name)}}class nE{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze=(()=>{return(n=Ze||(Ze={})).abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",Ze;var n})();const rE=(n,t,e={})=>{var r;const i=null!==(r=e.skipTypes)&&void 0!==r?r:[];return t?Object.keys(t).reduce((o,s)=>(o[s]=BL(s,n,t,i),o),{}):{}},BL=(n,t,e,r)=>{const o=t.find(a=>a.name===n)?.type,s=e[n];return o&&!r.includes(o)?iE(o,s):np(s)},iE=(n,t)=>{if("_"===n.charAt(0)){const e=n.slice(1,n.length);return qL(t,e)}switch(n){case Ze.bool:return HL(t);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return GL(t);case Ze.json:case Ze.jsonb:return zL(t);case Ze.timestamp:return WL(t);default:return np(t)}},np=n=>n,HL=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},GL=n=>{if("string"==typeof n){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},zL=n=>{if("string"==typeof n)try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},qL=(n,t)=>{if("string"!=typeof n)return n;const e=n.length-1;if("{"===n[0]&&"}"===n[e]){let o;const s=n.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>iE(t,a))}return n},WL=n=>"string"==typeof n?n.replace(" ","T"):n,oE=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname=""===t.pathname||"/"===t.pathname?"/api/broadcast":t.pathname+"/api/broadcast",t.href};class rp{constructor(t,e,r={},i=1e4){this.channel=t,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}class _a{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_a.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=_a.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=_a.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,i){const o=this.cloneDeep(t),s=this.transformState(e),a={},l={};return this.map(o,(u,c)=>{s[u]||(l[u]=c)}),this.map(s,(u,c)=>{const d=o[u];if(d){const h=c.map(_=>_.presence_ref),f=d.map(_=>_.presence_ref),p=c.filter(_=>f.indexOf(_.presence_ref)<0),m=d.filter(_=>h.indexOf(_.presence_ref)<0);p.length>0&&(a[u]=p),m.length>0&&(l[u]=m)}else a[u]=c}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(t,e,r,i){const{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var u;const c=null!==(u=t[a])&&void 0!==u?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(f=>f.presence_ref),h=c.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,c,l)}),this.map(s,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,i(a,u,l),0===u.length&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{const i=t[r];return e[r]="metas"in i?i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ho=(()=>{return(n=Ho||(Ho={})).BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system",Ho;var n})(),br=(()=>{return(n=br||(br={})).SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",br;var n})();class ip{constructor(t,e={config:{}},r){var i,o;if(this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=St.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new rp(this,Cn.join,this.params,this.timeout),this.rejoinTimer=new nE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=St.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=St.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this._isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new _a(this),this.broadcastEndpointURL=oE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(o=null===(i=this.params.config)||void 0===i?void 0:i.broadcast)||void 0===o?void 0:o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,e=this.timeout){var i,o,s,r=this;if(this.socket.isConnected()||this.socket.connect(),this.state==St.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params,c=null!==(o=null===(i=this.bindings.postgres_changes)||void 0===i?void 0:i.map(p=>p.filter))&&void 0!==o?o:[],d=!!this.bindings[Ho.PRESENCE]&&this.bindings[Ho.PRESENCE].length>0||!0===(null===(s=this.params.config.presence)||void 0===s?void 0:s.enabled),h={},f={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t?.(br.CHANNEL_ERROR,p)),this._onClose(()=>t?.(br.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",function(){var p=g(function*({postgres_changes:m}){var _;if(r.socket.setAuth(),void 0!==m){const b=r.bindings.postgres_changes,I=null!==(_=b?.length)&&void 0!==_?_:0,v=[];for(let O=0;O<I;O++){const U=b[O],{filter:{event:fe,schema:Nt,table:He,filter:ut}}=U,Vn=m&&m[O];if(!Vn||Vn.event!==fe||Vn.schema!==Nt||Vn.table!==He||Vn.filter!==ut)return r.unsubscribe(),r.state=St.errored,void t?.(br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));v.push(Object.assign(Object.assign({},U),{id:Vn.id}))}return r.bindings.postgres_changes=v,void(t&&t(br.SUBSCRIBED))}t?.(br.SUBSCRIBED)});return function(m){return p.apply(this,arguments)}}()).receive("error",p=>{this.state=St.errored,t?.(br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t?.(br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(t){var e=this;return g(function*(r,i={}){return yield e.send({type:"presence",event:"track",payload:r},i.timeout||e.timeout)}).apply(this,arguments)}untrack(){var t=this;return g(function*(e={}){return yield t.send({type:"presence",event:"untrack"},e)}).apply(this,arguments)}on(t,e,r){return this.state===St.joined&&t===Ho.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,e,r)}httpSend(t,e){var r=this;return g(function*(i,o,s={}){var a;const l=r.socket.accessTokenValue?`Bearer ${r.socket.accessTokenValue}`:"";if(null==o)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:l,apikey:r.socket.apiKey?r.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:r.subTopic,event:i,payload:o,private:r.private}]})},c=yield r._fetchWithTimeout(r.broadcastEndpointURL,u,null!==(a=s.timeout)&&void 0!==a?a:r.timeout);if(202===c.status)return{success:!0};let d=c.statusText;try{const h=yield c.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}).apply(this,arguments)}send(t){var e=this;return g(function*(r,i={}){var o,s;if(e._canPush()||"broadcast"!==r.type)return new Promise(a=>{var l,u,c;const d=e._push(r.type,r,i.timeout||e.timeout);"broadcast"===r.type&&!(null!==(c=null===(u=null===(l=e.params)||void 0===l?void 0:l.config)||void 0===u?void 0:u.broadcast)&&void 0!==c&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=r,c={method:"POST",headers:{Authorization:e.socket.accessTokenValue?`Bearer ${e.socket.accessTokenValue}`:"",apikey:e.socket.apiKey?e.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:e.subTopic,event:a,payload:l,private:e.private}]})};try{const d=yield e._fetchWithTimeout(e.broadcastEndpointURL,c,null!==(o=i.timeout)&&void 0!==o?o:e.timeout);return yield null===(s=d.body)||void 0===s?void 0:s.cancel(),d.ok?"ok":"error"}catch(d){return"AbortError"===d.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=St.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new rp(this,Cn.leave,{},t),r.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=St.closed,this.bindings={}}_fetchWithTimeout(t,e,r){var i=this;return g(function*(){const o=new AbortController,s=setTimeout(()=>o.abort(),r),a=yield i.socket.fetch(t,Object.assign(Object.assign({},e),{signal:o.signal}));return clearTimeout(s),a})()}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new rp(this,t,e,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var i,o;const s=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Cn;if(r&&[a,l,u,c].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,e,r);if(e&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(i=this.bindings.postgres_changes)||void 0===i||i.filter(f=>{var p,m,_;return"*"===(null===(p=f.filter)||void 0===p?void 0:p.event)||(null===(_=null===(m=f.filter)||void 0===m?void 0:m.event)||void 0===_?void 0:_.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):null===(o=this.bindings[s])||void 0===o||o.filter(f=>{var p,m,_,b,I,v;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in f){const O=f.id,U=null===(p=f.filter)||void 0===p?void 0:p.event;return O&&(null===(m=e.ids)||void 0===m?void 0:m.includes(O))&&("*"===U||U?.toLocaleLowerCase()===(null===(_=e.data)||void 0===_?void 0:_.type.toLocaleLowerCase()))}{const O=null===(I=null===(b=f?.filter)||void 0===b?void 0:b.event)||void 0===I?void 0:I.toLocaleLowerCase();return"*"===O||O===(null===(v=e?.event)||void 0===v?void 0:v.toLocaleLowerCase())}}return f.type.toLocaleLowerCase()===s}).map(f=>{if("object"==typeof h&&"ids"in h){const p=h.data,{schema:m,table:_,commit_timestamp:b,type:I,errors:v}=p;h=Object.assign(Object.assign({},{schema:m,table:_,commit_timestamp:b,eventType:I,new:{},old:{},errors:v}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===St.closed}_isJoined(){return this.state===St.joined}_isJoining(){return this.state===St.joining}_isLeaving(){return this.state===St.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){const i=t.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,e){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!((null===(o=i.type)||void 0===o?void 0:o.toLocaleLowerCase())===r&&ip.isEqual(i.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Cn.close,{},t)}_onError(t){this._on(Cn.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=St.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return("INSERT"===t.type||"UPDATE"===t.type)&&(e.new=rE(t.columns,t.record)),("UPDATE"===t.type||"DELETE"===t.type)&&(e.old=rE(t.columns,t.old_record)),e}}const op=()=>{},KL=[1e3,2e3,5e3,1e4];class QL{constructor(t,e){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=op,this.ref=0,this.reconnectTimer=null,this.vsn="1.0.0",this.logger=op,this.conn=null,this.sendBuffer=[],this.serializer=new UL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),null===(r=e?.params)||void 0===r||!r.apikey)throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${Ou.websocket}`,this.httpEndpoint=oE(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=class NL{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(null===(t=navigator.userAgent)||void 0===t?void 0:t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const e=process.versions;if(e&&e.node){const i=parseInt(e.node.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`\n\nSuggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){return new(this.getWebSocketConstructor())(t,e)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return"native"===t.type||"ws"===t.type}catch{return!1}}}.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const e=t.message;throw e.includes("Node.js")?new Error(`${e}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(t?this.conn.close(t,e??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(t){var e=this;return g(function*(){const r=yield t.unsubscribe();return 0===e.channels.length&&e.disconnect(),r})()}removeAllChannels(){var t=this;return g(function*(){const e=yield Promise.all(t.channels.map(r=>r.unsubscribe()));return t.channels=[],t.disconnect(),e})()}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case di.connecting:return hi.Connecting;case di.open:return hi.Open;case di.closing:return hi.Closing;default:return hi.Closed}}isConnected(){return this.connectionState()===hi.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(t,e={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new ip(`realtime:${t}`,e,this);return this.channels.push(o),o}}push(t){const{topic:e,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var l;null===(l=this.conn)||void 0===l||l.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(){var t=this;return g(function*(e=null){t._authPromise=t._performAuth(e);try{yield t._authPromise}finally{t._authPromise=null}}).apply(this,arguments)}sendHeartbeat(){var t=this;return g(function*(){var e;if(t.isConnected()){if(t.pendingHeartbeatRef){t.pendingHeartbeatRef=null,t.log("transport","heartbeat timeout. Attempting to re-establish connection");try{t.heartbeatCallback("timeout")}catch(r){t.log("error","error in heartbeat callback",r)}return t._wasManualDisconnect=!1,null===(e=t.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var r;t.isConnected()||null===(r=t.reconnectTimer)||void 0===r||r.scheduleTimeout()},100)}t.pendingHeartbeatRef=t._makeRef(),t.push({topic:"phoenix",event:"heartbeat",payload:{},ref:t.pendingHeartbeatRef});try{t.heartbeatCallback("sent")}catch(r){t.log("error","error in heartbeat callback",r)}t._setAuthSafely("heartbeat")}else try{t.heartbeatCallback("disconnected")}catch(r){t.log("error","error in heartbeat callback",r)}})()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return this.ref=t===this.ref?0:t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:s}=e;this.log("receive",`${o.status||""} ${r} ${i} ${s?`(${s})`:""}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;"heartbeat"===t&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===t&&(null===(e=this.reconnectTimer)||void 0===e||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){!this.conn||("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===di.open||this.conn.readyState===di.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Cn.error))}_appendParams(t,e){if(0===Object.keys(e).length)return t;const r=t.match(/\?/)?"&":"?";return`${t}${r}${new URLSearchParams(e)}`}_workerObjectUrl(t){let e;if(t)e=t;else{const r=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}_setConnectionState(t,e=!1){this._connectionState=t,"connecting"===t?this._wasManualDisconnect=!1:"disconnecting"===t&&(this._wasManualDisconnect=e)}_performAuth(){var t=this;return g(function*(e=null){let r;r=e||(t.accessToken?yield t.accessToken():t.accessTokenValue),t.accessTokenValue!=r&&(t.accessTokenValue=r,t.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r,version:"realtime-js/2.81.1"}),i.joinedOnce&&i._isJoined()&&i._push(Cn.access_token,{access_token:r})}))}).apply(this,arguments)}_waitForAuthIfNeeded(){var t=this;return g(function*(){t._authPromise&&(yield t._authPromise)})()}_setAuthSafely(t="general"){this.setAuth().catch(e=>{this.log("error",`error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(e)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){var t=this;this.reconnectTimer=new nE(g(function*(){setTimeout(g(function*(){yield t._waitForAuthIfNeeded(),t.isConnected()||t.connect()}),10)}),this.reconnectAfterMs)}_initializeOptions(t){var e,r,i,o,s,a,l,u,c,d,h,f;switch(this.transport=null!==(e=t?.transport)&&void 0!==e?e:null,this.timeout=null!==(r=t?.timeout)&&void 0!==r?r:1e4,this.heartbeatIntervalMs=null!==(i=t?.heartbeatIntervalMs)&&void 0!==i?i:25e3,this.worker=null!==(o=t?.worker)&&void 0!==o&&o,this.accessToken=null!==(s=t?.accessToken)&&void 0!==s?s:null,this.heartbeatCallback=null!==(a=t?.heartbeatCallback)&&void 0!==a?a:op,this.vsn=null!==(l=t?.vsn)&&void 0!==l?l:"1.0.0",t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(u=t?.reconnectAfterMs)&&void 0!==u?u:p=>KL[p-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(c=t?.encode)&&void 0!==c?c:(p,m)=>m(JSON.stringify(p)),this.decode=null!==(d=t?.decode)&&void 0!==d?d:(p,m)=>m(JSON.parse(p));break;case"2.0.0":this.encode=null!==(h=t?.encode)&&void 0!==h?h:this.serializer.encode.bind(this.serializer),this.decode=null!==(f=t?.decode)&&void 0!==f?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class sp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function lt(n){return"object"==typeof n&&null!==n&&"__isStorageError"in n}class YL extends sp{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ap extends sp{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}const lp=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),up=n=>{if(Array.isArray(n))return n.map(e=>up(e));if("function"==typeof n||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([e,r])=>{const i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=up(r)}),t},cp=n=>{var t;return n.msg||n.message||n.error_description||("string"==typeof n.error?n.error:null===(t=n.error)||void 0===t?void 0:t.message)||JSON.stringify(n)};function ya(n,t,e,r,i,o){return(0,L.__awaiter)(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(e,((n,t,e,r)=>{const i={method:n,headers:t?.headers||{}};return"GET"!==n&&r?((n=>{if("object"!=typeof n||null===n)return!1;const t=Object.getPrototypeOf(n);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in n||Symbol.iterator in n)})(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),e)):i})(t,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>((n,t,e)=>(0,L.__awaiter)(void 0,void 0,void 0,function*(){const r=yield Response;n instanceof r&&!e?.noResolveJson?n.json().then(i=>{const o=n.status||500,s=i?.statusCode||o+"";t(new YL(cp(i),o,s))}).catch(i=>{t(new ap(cp(i),i))}):t(new ap(cp(n),n))}))(l,a,r))})})}function va(n,t,e,r){return(0,L.__awaiter)(this,void 0,void 0,function*(){return ya(n,"GET",t,e,r)})}function nr(n,t,e,r,i){return(0,L.__awaiter)(this,void 0,void 0,function*(){return ya(n,"POST",t,r,i,e)})}function dp(n,t,e,r,i){return(0,L.__awaiter)(this,void 0,void 0,function*(){return ya(n,"PUT",t,r,i,e)})}function hp(n,t,e,r,i){return(0,L.__awaiter)(this,void 0,void 0,function*(){return ya(n,"DELETE",t,r,i,e)})}class iV{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}execute(){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}}var sE;sE=Symbol.toStringTag;const aV={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},aE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lV{constructor(t,e={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=lp(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,e,r,i){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},aE),i);let a=Object.assign(Object.assign({},this.headers),"POST"===t&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&"object"==typeof o&&"pipe"in o&&"function"==typeof o.pipe)&&!s.duplex&&(s.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(e),c=this._getFinalPath(u),d=yield("PUT"==t?dp:nr)(this.fetch,`${this.url}/object/${c}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(lt(o))return{data:null,error:o};throw o}})}upload(t,e,r){return(0,L.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,i){return(0,L.__awaiter)(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let l;const u=Object.assign({upsert:aE.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:o,fullPath:(yield dp(this.fetch,a.toString(),l,{headers:c})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,e){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");const o=yield nr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new sp("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}update(t,e,r){return(0,L.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}copy(t,e,r){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:{path:(yield nr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,r){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield nr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r?.download?`&download=${!0===r.download?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,r){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{const i=yield nr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),o=r?.download?`&download=${!0===r.download?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}download(t,e){const i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(t);return new class oV{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[sE]="BlobDownloadBuilder",this.promise=null}asStream(){return new iV(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}}(()=>va(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{const r=yield va(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:up(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}exists(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{return yield function rV(n,t,e,r){return(0,L.__awaiter)(this,void 0,void 0,function*(){return ya(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r)&&r instanceof ap&&[400,404].includes(r.originalError?.status))return{data:!1,error:r};throw r}})}getPublicUrl(t,e){const r=this._getFinalPath(t),i=[],o=e?.download?`download=${!0===e.download?"":e.download}`:"";""!==o&&i.push(o);const a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});""!==l&&i.push(l);let u=i.join("&");return""!==u&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield hp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}list(t,e,r){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},aV),e),{prefix:t||""});return{data:yield nr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}listV2(t,e){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield nr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const uE={"X-Client-Info":"storage-js/2.81.1"};class cV{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uE),e),this.fetch=lp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}listBuckets(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{const e=new URLSearchParams;void 0!==t?.limit&&e.set("limit",t.limit.toString()),void 0!==t?.offset&&e.set("offset",t.offset.toString()),t?.sortColumn&&e.set("sortColumn",t.sortColumn),t?.sortOrder&&e.set("sortOrder",t.sortOrder),t?.search&&e.set("search",t.search);const r=e.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield va(this.fetch,i,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}deleteBucket(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield hp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}}const fp={"X-Client-Info":"storage-js/2.81.1","Content-Type":"application/json"};class cE extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function En(n){return"object"==typeof n&&null!==n&&"__isStorageVectorsError"in n}class pp extends cE{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class dV extends cE{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}}const gp=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),dE=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n);function Ru(n,t,e,r,i,o){return(0,L.__awaiter)(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(e,((n,t,e,r)=>{const i={method:n,headers:t?.headers||{}};return"GET"!==n&&r?((n=>{if("object"!=typeof n||null===n)return!1;const t=Object.getPrototypeOf(n);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in n||Symbol.iterator in n)})(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),e)):i})(t,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;const u=l.headers.get("content-type");return u&&u.includes("application/json")?l.json():{}}).then(l=>s(l)).catch(l=>((n,t,e)=>(0,L.__awaiter)(void 0,void 0,void 0,function*(){if(n&&"object"==typeof n&&"status"in n&&"ok"in n&&"number"==typeof n.status&&!e?.noResolveJson){const i=n.status||500,o=n;"function"==typeof o.json?o.json().then(s=>{const a=s?.statusCode||s?.code||i+"";t(new pp(dE(s),i,a))}).catch(()=>{t(new pp(o.statusText||`HTTP ${i} error`,i,i+""))}):t(new pp(o.statusText||`HTTP ${i} error`,i,i+""))}else t(new dV(dE(n),n))}))(l,a,r))})})}function Dn(n,t,e,r,i){return(0,L.__awaiter)(this,void 0,void 0,function*(){return Ru(n,"POST",t,r,i,e)})}class yV extends class _V{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fp),e),this.fetch=gp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(En(e))return{data:null,error:e};throw e}})}getBucket(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(En(e))return{data:null,error:e};throw e}})}listBuckets(){return(0,L.__awaiter)(this,arguments,void 0,function*(t={}){try{return{data:yield Dn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(En(e))return{data:null,error:e};throw e}})}deleteBucket(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(En(e))return{data:null,error:e};throw e}})}}{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new vV(this.url,this.headers,t,this.fetch)}}class vV extends class gV{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fp),e),this.fetch=gp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(En(e))return{data:null,error:e};throw e}})}getIndex(t,e){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(En(r))return{data:null,error:r};throw r}})}listIndexes(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(En(e))return{data:null,error:e};throw e}})}deleteIndex(t,e){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(En(r))return{data:null,error:r};throw r}})}}{constructor(t,e,r,i){super(t,e,i),this.vectorBucketName=r}createIndex(t){const e=Object.create(null,{createIndex:{get:()=>super.createIndex}});return(0,L.__awaiter)(this,void 0,void 0,function*(){return e.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return(0,L.__awaiter)(this,arguments,void 0,function*(e={}){return t.listIndexes.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const e=Object.create(null,{getIndex:{get:()=>super.getIndex}});return(0,L.__awaiter)(this,void 0,void 0,function*(){return e.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const e=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return(0,L.__awaiter)(this,void 0,void 0,function*(){return e.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new wV(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class wV extends class mV{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fp),e),this.fetch=gp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Dn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(En(e))return{data:null,error:e};throw e}})}getVectors(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(En(e))return{data:null,error:e};throw e}})}listVectors(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{if(void 0!==t.segmentCount){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==t.segmentIndex&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error("segmentIndex must be between 0 and "+(t.segmentCount-1))}return{data:yield Dn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(En(e))return{data:null,error:e};throw e}})}queryVectors(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(En(e))return{data:null,error:e};throw e}})}deleteVectors(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Dn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(En(e))return{data:null,error:e};throw e}})}}{constructor(t,e,r,i,o){super(t,e,o),this.vectorBucketName=r,this.indexName=i}putVectors(t){const e=Object.create(null,{putVectors:{get:()=>super.putVectors}});return(0,L.__awaiter)(this,void 0,void 0,function*(){return e.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const e=Object.create(null,{getVectors:{get:()=>super.getVectors}});return(0,L.__awaiter)(this,void 0,void 0,function*(){return e.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return(0,L.__awaiter)(this,arguments,void 0,function*(e={}){return t.listVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const e=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return(0,L.__awaiter)(this,void 0,void 0,function*(){return e.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const e=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return(0,L.__awaiter)(this,void 0,void 0,function*(){return e.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class bV extends class uV{constructor(t,e={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uE),e),this.fetch=lp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{const e=this.listBucketOptionsToQueryString(t);return{data:yield va(this.fetch,`${this.url}/bucket${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}getBucket(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}createBucket(t){return(0,L.__awaiter)(this,arguments,void 0,function*(e,r={public:!1}){try{return{data:yield nr(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}updateBucket(t,e){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield dp(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield nr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}deleteBucket(t){return(0,L.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield hp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}}{constructor(t,e={},r,i){super(t,e,r,i)}from(t){return new lV(this.url,this.headers,t,this.fetch)}get vectors(){return new yV(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new cV(this.url+"/iceberg",this.headers,this.fetch)}}let wa="";wa=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const EV={headers:{"X-Client-Info":`supabase-js-${wa}/2.81.1`}},DV={schema:"public"},SV={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},AV={},IV=(n,t,e)=>{const r=(n=>n?(...t)=>n(...t):(...t)=>fetch(...t))(e),i=Headers;return function(){var o=g(function*(s,a){var l;const u=null!==(l=yield t())&&void 0!==l?l:n;let c=new i(a?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(s,Object.assign(Object.assign({},a),{headers:c}))});return function(s,a){return o.apply(this,arguments)}}()},Go=3e4,yp="X-Supabase-Api-Version",fE_2024_01_01_timestamp=Date.parse("2024-01-01T00:00:00.0Z"),fE_2024_01_01_name="2024-01-01",FV=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class ba extends Error{constructor(t,e,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}}function ee(n){return"object"==typeof n&&null!==n&&"__isAuthError"in n}class VV extends ba{constructor(t,e,r){super(t,e,r),this.name="AuthApiError",this.status=e,this.code=r}}class $i extends ba{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class fi extends ba{constructor(t,e,r,i){super(t,r,i),this.name=e,this.status=r}}class rr extends fi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class zo extends fi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ku extends fi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Nu extends fi{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pE extends fi{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vp extends fi{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function wp(n){return ee(n)&&"AuthRetryableFetchError"===n.name}class gE extends fi{constructor(t,e,r){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}}class bp extends fi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mE=" \t\n\r=".split(""),BV=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<mE.length;t+=1)n[mE[t].charCodeAt(0)]=-2;for(let t=0;t<Fu.length;t+=1)n[Fu[t].charCodeAt(0)]=t;return n})();function Lu(n,t,e){if(null!==n)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;)e(Fu[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6;else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;)e(Fu[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6}function _E(n,t,e){const r=BV[n];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function yE(n){const t=[],e=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{!function GV(n,t,e){if(0===t.utf8seq){if(n<=127)return void e(n);for(let r=1;r<6;r+=1)if(0==(n>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&n;else if(3===t.utf8seq)t.codepoint=15&n;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&n}t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&n,t.utf8seq-=1,0===t.utf8seq&&e(t.codepoint)}}(s,r,e)};for(let s=0;s<n.length;s+=1)_E(n.charCodeAt(s),i,o);return t.join("")}function HV(n,t){if(!(n<=127)){if(n<=2047)return t(192|n>>6),void t(128|63&n);if(n<=65535)return t(224|n>>12),t(128|n>>6&63),void t(128|63&n);if(n<=1114111)return t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),void t(128|63&n);throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}t(n)}function qo(n){const t=[],e={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<n.length;i+=1)_E(n.charCodeAt(i),e,r);return new Uint8Array(t)}function Ui(n){const t=[],e={queue:0,queuedBits:0},r=i=>{t.push(i)};return n.forEach(i=>Lu(i,e,r)),Lu(null,e,r),t.join("")}const Vt=()=>typeof window<"u"&&typeof document<"u",Bi={tested:!1,writable:!1},wE=()=>{if(!Vt())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(Bi.tested)return Bi.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Bi.tested=!0,Bi.writable=!0}catch{Bi.tested=!0,Bi.writable=!1}return Bi.writable},bE=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),JV=n=>"object"==typeof n&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"==typeof n.json,Wo=function(){var n=g(function*(t,e,r){yield t.setItem(e,JSON.stringify(r))});return function(e,r,i){return n.apply(this,arguments)}}(),Hi=function(){var n=g(function*(t,e){const r=yield t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}});return function(e,r){return n.apply(this,arguments)}}(),pi=function(){var n=g(function*(t,e){yield t.removeItem(e)});return function(e,r){return n.apply(this,arguments)}}();class Vu{constructor(){this.promise=new Vu.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}function Cp(n){const t=n.split(".");if(3!==t.length)throw new bp("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!FV.test(t[r]))throw new bp("JWT not in base64url format");return{header:JSON.parse(yE(t[0])),payload:JSON.parse(yE(t[1])),signature:qo(t[2]),raw:{header:t[0],payload:t[1]}}}function Ep(){return(Ep=g(function*(n){return yield new Promise(t=>{setTimeout(()=>t(null),n)})})).apply(this,arguments)}function YV(n){return("0"+n.toString(16)).substr(-2)}function XV(){const t=new Uint32Array(56);if(typeof crypto>"u"){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length;let i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,YV).join("")}function ej(n){return Dp.apply(this,arguments)}function Dp(){return(Dp=g(function*(n){const e=(new TextEncoder).encode(n),r=yield crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})).apply(this,arguments)}function tj(n){return Sp.apply(this,arguments)}function Sp(){return(Sp=g(function*(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const e=yield ej(n);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})).apply(this,arguments)}function Ko(n,t){return Ap.apply(this,arguments)}function Ap(){return(Ap=g(function*(n,t,e=!1){const r=XV();let i=r;e&&(i+="/PASSWORD_RECOVERY"),yield Wo(n,`${t}-code-verifier`,i);const o=yield tj(r);return[o,r===o?"plain":"s256"]})).apply(this,arguments)}Vu.promiseConstructor=Promise;const nj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rj(n){const t=n.headers.get(yp);if(!t||!t.match(nj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}const sj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Jo(n){if(!sj.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tp(){return new Proxy({},{get:(t,e)=>{if("__isUserNotAvailableProxy"===e)return!0;if("symbol"==typeof e){const r=e.toString();if("Symbol(Symbol.toPrimitive)"===r||"Symbol(Symbol.toStringTag)"===r||"Symbol(util.inspect.custom)"===r)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function CE(n){return JSON.parse(JSON.stringify(n))}const Gi=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),lj=[502,503,504];function EE(n){return Mp.apply(this,arguments)}function Mp(){return(Mp=g(function*(n){var t;if(!JV(n))throw new vp(Gi(n),0);if(lj.includes(n.status))throw new vp(Gi(n),n.status);let e,r;try{e=yield n.json()}catch(o){throw new $i(Gi(o),o)}const i=rj(n);if(i&&i.getTime()>=fE_2024_01_01_timestamp&&"object"==typeof e&&e&&"string"==typeof e.code?r=e.code:"object"==typeof e&&e&&"string"==typeof e.error_code&&(r=e.error_code),r){if("weak_password"===r)throw new gE(Gi(e),n.status,(null===(t=e.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===r)throw new rr}else if("object"==typeof e&&e&&"object"==typeof e.weak_password&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,s)=>o&&"string"==typeof s,!0))throw new gE(Gi(e),n.status,e.weak_password.reasons);throw new VV(Gi(e),n.status||500,r)})).apply(this,arguments)}const uj=(n,t,e,r)=>{const i={method:n,headers:t?.headers||{}};return"GET"===n?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))};function he(n,t,e,r){return Ip.apply(this,arguments)}function Ip(){return(Ip=g(function*(n,t,e,r){var i;const o=Object.assign({},r?.headers);o[yp]||(o[yp]=fE_2024_01_01_name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=null!==(i=r?.query)&&void 0!==i?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield cj(n,t,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})).apply(this,arguments)}function cj(n,t,e,r,i,o){return xp.apply(this,arguments)}function xp(){return(xp=g(function*(n,t,e,r,i,o){const s=uj(t,r,i,o);let a;try{a=yield n(e,Object.assign({},s))}catch(l){throw console.error(l),new vp(Gi(l),0)}if(a.ok||(yield EE(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield EE(l)}})).apply(this,arguments)}function ir(n){var t;let e=null;return function fj(n){return n.access_token&&n.refresh_token&&n.expires_in}(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=function qV(n){return Math.round(Date.now()/1e3)+n}(n.expires_in))),{data:{session:e,user:null!==(t=n.user)&&void 0!==t?t:n},error:null}}function DE(n){const t=ir(n);return!t.error&&n.weak_password&&"object"==typeof n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&"string"==typeof n.weak_password.message&&n.weak_password.reasons.reduce((e,r)=>e&&"string"==typeof r,!0)&&(t.data.weak_password=n.weak_password),t}function gi(n){var t;return{data:{user:null!==(t=n.user)&&void 0!==t?t:n},error:null}}function dj(n){return{data:n,error:null}}function hj(n){const{action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=n,s=(0,L.__rest)(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},user:Object.assign({},s)},error:null}}function SE(n){return n}const Op=["global","local","others"];class pj{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=bE(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(t){var e=this;return g(function*(r,i=Op[0]){if(Op.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Op.join(", ")}`);try{return yield he(e.fetch,"POST",`${e.url}/logout?scope=${i}`,{headers:e.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ee(o))return{data:null,error:o};throw o}}).apply(this,arguments)}inviteUserByEmail(t){var e=this;return g(function*(r,i={}){try{return yield he(e.fetch,"POST",`${e.url}/invite`,{body:{email:r,data:i.data},headers:e.headers,redirectTo:i.redirectTo,xform:gi})}catch(o){if(ee(o))return{data:{user:null},error:o};throw o}}).apply(this,arguments)}generateLink(t){var e=this;return g(function*(){try{const{options:r}=t,i=(0,L.__rest)(t,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),yield he(e.fetch,"POST",`${e.url}/admin/generate_link`,{body:o,headers:e.headers,xform:hj,redirectTo:r?.redirectTo})}catch(r){if(ee(r))return{data:{properties:null,user:null},error:r};throw r}})()}createUser(t){var e=this;return g(function*(){try{return yield he(e.fetch,"POST",`${e.url}/admin/users`,{body:t,headers:e.headers,xform:gi})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}})()}listUsers(t){var e=this;return g(function*(){var r,i,o,s,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=yield he(e.fetch,"GET",`${e.url}/admin/users`,{headers:e.headers,noResolveJson:!0,query:{page:null!==(i=null===(r=t?.page)||void 0===r?void 0:r.toString())&&void 0!==i?i:"",per_page:null!==(s=null===(o=t?.perPage)||void 0===o?void 0:o.toString())&&void 0!==s?s:""},xform:SE});if(d.error)throw d.error;const h=yield d.json(),f=null!==(a=d.headers.get("x-total-count"))&&void 0!==a?a:0,p=null!==(u=null===(l=d.headers.get("link"))||void 0===l?void 0:l.split(","))&&void 0!==u?u:[];return p.length>0&&(p.forEach(m=>{const _=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);c[`${b}Page`]=_}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(ee(c))return{data:{users:[]},error:c};throw c}})()}getUserById(t){var e=this;return g(function*(){Jo(t);try{return yield he(e.fetch,"GET",`${e.url}/admin/users/${t}`,{headers:e.headers,xform:gi})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}})()}updateUserById(t,e){var r=this;return g(function*(){Jo(t);try{return yield he(r.fetch,"PUT",`${r.url}/admin/users/${t}`,{body:e,headers:r.headers,xform:gi})}catch(i){if(ee(i))return{data:{user:null},error:i};throw i}})()}deleteUser(t){var e=this;return g(function*(r,i=!1){Jo(r);try{return yield he(e.fetch,"DELETE",`${e.url}/admin/users/${r}`,{headers:e.headers,body:{should_soft_delete:i},xform:gi})}catch(o){if(ee(o))return{data:{user:null},error:o};throw o}}).apply(this,arguments)}_listFactors(t){var e=this;return g(function*(){Jo(t.userId);try{const{data:r,error:i}=yield he(e.fetch,"GET",`${e.url}/admin/users/${t.userId}/factors`,{headers:e.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(ee(r))return{data:null,error:r};throw r}})()}_deleteFactor(t){var e=this;return g(function*(){Jo(t.userId),Jo(t.id);try{return{data:yield he(e.fetch,"DELETE",`${e.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:e.headers}),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}})()}_listOAuthClients(t){var e=this;return g(function*(){var r,i,o,s,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=yield he(e.fetch,"GET",`${e.url}/admin/oauth/clients`,{headers:e.headers,noResolveJson:!0,query:{page:null!==(i=null===(r=t?.page)||void 0===r?void 0:r.toString())&&void 0!==i?i:"",per_page:null!==(s=null===(o=t?.perPage)||void 0===o?void 0:o.toString())&&void 0!==s?s:""},xform:SE});if(d.error)throw d.error;const h=yield d.json(),f=null!==(a=d.headers.get("x-total-count"))&&void 0!==a?a:0,p=null!==(u=null===(l=d.headers.get("link"))||void 0===l?void 0:l.split(","))&&void 0!==u?u:[];return p.length>0&&(p.forEach(m=>{const _=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);c[`${b}Page`]=_}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(ee(c))return{data:{clients:[]},error:c};throw c}})()}_createOAuthClient(t){var e=this;return g(function*(){try{return yield he(e.fetch,"POST",`${e.url}/admin/oauth/clients`,{body:t,headers:e.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}})()}_getOAuthClient(t){var e=this;return g(function*(){try{return yield he(e.fetch,"GET",`${e.url}/admin/oauth/clients/${t}`,{headers:e.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}})()}_updateOAuthClient(t,e){var r=this;return g(function*(){try{return yield he(r.fetch,"PUT",`${r.url}/admin/oauth/clients/${t}`,{body:e,headers:r.headers,xform:i=>({data:i,error:null})})}catch(i){if(ee(i))return{data:null,error:i};throw i}})()}_deleteOAuthClient(t){var e=this;return g(function*(){try{return yield he(e.fetch,"DELETE",`${e.url}/admin/oauth/clients/${t}`,{headers:e.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}})()}_regenerateOAuthClientSecret(t){var e=this;return g(function*(){try{return yield he(e.fetch,"POST",`${e.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:e.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}})()}}function AE(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}const Zo_debug=!!(globalThis&&wE()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class TE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class gj extends TE{}function _j(n,t,e){return Pp.apply(this,arguments)}function Pp(){return Pp=g(function*(n,t,e){Zo_debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Zo_debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},function(){var i=g(function*(o){if(!o){if(0===t)throw Zo_debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new gj(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Zo_debug)try{const s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}Zo_debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return yield e()}finally{Zo_debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}});return function(o){return i.apply(this,arguments)}}()))}),Pp.apply(this,arguments)}function IE(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function wj(n){const t=(new TextEncoder).encode(n);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}class At extends Error{constructor({message:t,code:e,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(o=i??(r instanceof Error?r.name:void 0))&&void 0!==o?o:"Unknown Error",this.code=e}}class ju extends At{constructor(t,e){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e,message:t}),this.name="WebAuthnUnknownError",this.originalError=e}}function Cj({error:n,options:t}){var e,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if("AbortError"===n.name){if(t.signal instanceof AbortSignal)return new At({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if("ConstraintError"===n.name){if(!0===(null===(e=o.authenticatorSelection)||void 0===e?void 0:e.requireResidentKey))return new At({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if("conditional"===t.mediation&&"required"===(null===(r=o.authenticatorSelection)||void 0===r?void 0:r.userVerification))return new At({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if("required"===(null===(i=o.authenticatorSelection)||void 0===i?void 0:i.userVerification))return new At({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if("InvalidStateError"===n.name)return new At({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if("NotAllowedError"===n.name)return new At({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if("NotSupportedError"===n.name)return 0===o.pubKeyCredParams.filter(a=>"public-key"===a.type).length?new At({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new At({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if("SecurityError"===n.name){const s=window.location.hostname;if(!xE(s))return new At({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n});if(o.rp.id!==s)return new At({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else if("TypeError"===n.name){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new At({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if("UnknownError"===n.name)return new At({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new At({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Ej({error:n,options:t}){const{publicKey:e}=t;if(!e)throw Error("options was missing required publicKey property");if("AbortError"===n.name){if(t.signal instanceof AbortSignal)return new At({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if("NotAllowedError"===n.name)return new At({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if("SecurityError"===n.name){const r=window.location.hostname;if(!xE(r))return new At({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n});if(e.rpId!==r)return new At({message:`The RP ID "${e.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else if("UnknownError"===n.name)return new At({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new At({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}const Sj=new class Dj{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}};function Aj(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:e,excludeCredentials:r}=n,i=(0,L.__rest)(n,["challenge","user","excludeCredentials"]),o=qo(t).buffer,s=Object.assign(Object.assign({},e),{id:qo(e.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:qo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Tj(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:e}=n,r=(0,L.__rest)(n,["challenge","allowCredentials"]),i=qo(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(e&&e.length>0){o.allowCredentials=new Array(e.length);for(let s=0;s<e.length;s++){const a=e[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:qo(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function Mj(n){var t;if("toJSON"in n&&"function"==typeof n.toJSON)return n.toJSON();const e=n;return{id:n.id,rawId:n.id,response:{attestationObject:Ui(new Uint8Array(n.response.attestationObject)),clientDataJSON:Ui(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:null!==(t=e.authenticatorAttachment)&&void 0!==t?t:void 0}}function Ij(n){var t;if("toJSON"in n&&"function"==typeof n.toJSON)return n.toJSON();const e=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Ui(new Uint8Array(i.authenticatorData)),clientDataJSON:Ui(new Uint8Array(i.clientDataJSON)),signature:Ui(new Uint8Array(i.signature)),userHandle:i.userHandle?Ui(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(t=e.authenticatorAttachment)&&void 0!==t?t:void 0}}function xE(n){return"localhost"===n||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function OE(){var n,t;return!!(Vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(n=navigator?.credentials)||void 0===n?void 0:n.create)&&"function"==typeof(null===(t=navigator?.credentials)||void 0===t?void 0:t.get))}function kp(){return(kp=g(function*(n){try{const t=yield navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ju("Browser returned unexpected credential type",t)}:{data:null,error:new ju("Empty credential response",t)}}catch(t){return{data:null,error:Cj({error:t,options:n})}}})).apply(this,arguments)}function Np(){return(Np=g(function*(n){try{const t=yield navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ju("Browser returned unexpected credential type",t)}:{data:null,error:new ju("Empty credential response",t)}}catch(t){return{data:null,error:Ej({error:t,options:n})}}})).apply(this,arguments)}const Pj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Rj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function $u(...n){const t=i=>null!==i&&"object"==typeof i&&!Array.isArray(i),e=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of n)if(i)for(const o in i){const s=i[o];if(void 0!==s)if(Array.isArray(s))r[o]=s;else if(e(s))r[o]=s;else if(t(s)){const a=r[o];r[o]=t(a)?$u(a,s):$u(s)}else r[o]=s}return r}class Fj{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(t){var e=this;return g(function*(){return e.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))})()}_challenge(t,e){var r=this;return g(function*({factorId:i,webauthn:o,friendlyName:s,signal:a},l){try{const{data:u,error:c}=yield r.client.mfa.challenge({factorId:i,webauthn:o});if(!u)return{data:null,error:c};const d=a??Sj.createNewAbortSignal();if("create"===u.webauthn.type){const{user:h}=u.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${s}`),h.displayName||(h.displayName=h.name)}switch(u.webauthn.type){case"create":{const h=function kj(n,t){return $u(Pj,n,t||{})}(u.webauthn.credential_options.publicKey,l?.create),{data:f,error:p}=yield function xj(n){return kp.apply(this,arguments)}({publicKey:h,signal:d});return f?{data:{factorId:i,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}case"request":{const h=function Nj(n,t){return $u(Rj,n,t||{})}(u.webauthn.credential_options.publicKey,l?.request),{data:f,error:p}=yield function Oj(n){return Np.apply(this,arguments)}(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:h,signal:d}));return f?{data:{factorId:i,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}}}catch(u){return ee(u)?{data:null,error:u}:{data:null,error:new $i("Unexpected error in challenge",u)}}}).apply(this,arguments)}_verify(t){var e=this;return g(function*({challengeId:r,factorId:i,webauthn:o}){return e.client.mfa.verify({factorId:i,challengeId:r,webauthn:o})}).apply(this,arguments)}_authenticate(t,e){var r=this;return g(function*({factorId:i,webauthn:{rpId:o=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:s=(typeof window<"u"?[window.location.origin]:void 0),signal:a}={}},l){if(!o)return{data:null,error:new ba("rpId is required for WebAuthn authentication")};try{if(!OE())return{data:null,error:new $i("Browser does not support WebAuthn",null)};const{data:u,error:c}=yield r.challenge({factorId:i,webauthn:{rpId:o,rpOrigins:s},signal:a},{request:l});if(!u)return{data:null,error:c};const{webauthn:d}=u;return r._verify({factorId:i,challengeId:u.challengeId,webauthn:{type:d.type,rpId:o,rpOrigins:s,credential_response:d.credential_response}})}catch(u){return ee(u)?{data:null,error:u}:{data:null,error:new $i("Unexpected error in authenticate",u)}}}).apply(this,arguments)}_register(t,e){var r=this;return g(function*({friendlyName:i,webauthn:{rpId:o=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:s=(typeof window<"u"?[window.location.origin]:void 0),signal:a}={}},l){if(!o)return{data:null,error:new ba("rpId is required for WebAuthn registration")};try{if(!OE())return{data:null,error:new $i("Browser does not support WebAuthn",null)};const{data:u,error:c}=yield r._enroll({friendlyName:i});if(!u)return yield r.client.mfa.listFactors().then(f=>{var p;return null===(p=f.data)||void 0===p?void 0:p.all.find(m=>"webauthn"===m.factor_type&&m.friendly_name===i&&"unverified"!==m.status)}).then(f=>f?r.client.mfa.unenroll({factorId:f?.id}):void 0),{data:null,error:c};const{data:d,error:h}=yield r._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:o,rpOrigins:s},signal:a},{create:l});return d?r._verify({factorId:u.id,challengeId:d.challengeId,webauthn:{rpId:o,rpOrigins:s,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(u){return ee(u)?{data:null,error:u}:{data:null,error:new $i("Unexpected error in register",u)}}}).apply(this,arguments)}}!function yj(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const Lj={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.81.1"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function PE(n,t,e){return Fp.apply(this,arguments)}function Fp(){return(Fp=g(function*(n,t,e){return yield e()})).apply(this,arguments)}const Qo={},jj=(()=>{class n{get jwks(){var e,r;return null!==(r=null===(e=Qo[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==r?r:{keys:[]}}set jwks(e){Qo[this.storageKey]=Object.assign(Object.assign({},Qo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return null!==(r=null===(e=Qo[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==r?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Qo[this.storageKey]=Object.assign(Object.assign({},Qo[this.storageKey]),{cachedAt:e})}constructor(e){var i,o,s,r=this;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Lj),e);if(this.storageKey=a.storageKey,this.instanceID=null!==(i=n.nextInstanceID[this.storageKey])&&void 0!==i?i:0,n.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,"function"==typeof a.debug&&(this.logger=a.debug),this.instanceID>0&&Vt()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new pj({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=bE(a.fetch),this.lock=a.lock||PE,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lock=a.lock?a.lock:Vt()&&(null===(o=globalThis?.navigator)||void 0===o?void 0:o.locks)?_j:PE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Fj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:wE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=AE(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=AE(this.memoryStorage)),Vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}null===(s=this.broadcastChannel)||void 0===s||s.addEventListener("message",function(){var l=g(function*(u){r._debug("received broadcast notification from other tab or client",u),yield r._notifyAllSubscribers(u.data.event,u.data.session,!1)});return function(u){return l.apply(this,arguments)}}())}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (2.81.1) ${(new Date).toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}initialize(){var e=this;return g(function*(){return e.initializePromise||(e.initializePromise=g(function*(){return yield e._acquireLock(-1,g(function*(){return yield e._initialize()}))})()),yield e.initializePromise})()}_initialize(){var e=this;return g(function*(){var r;try{let i={},o="none";if(Vt()&&(i=function KV(n){const t={},e=new URL(n);if(e.hash&&"#"===e.hash[0])try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{t[i]=r}),t}(window.location.href),e._isImplicitGrantCallback(i)?o="implicit":(yield e._isPKCECallback(i))&&(o="pkce")),Vt()&&e.detectSessionInUrl&&"none"!==o){const{data:s,error:a}=yield e._getSessionFromURL(i,o);if(a){if(e._debug("#_initialize()","error detecting session from URL",a),function UV(n){return ee(n)&&"AuthImplicitGrantRedirectError"===n.name}(a)){const c=null===(r=a.details)||void 0===r?void 0:r.code;if("identity_already_exists"===c||"identity_not_found"===c||"single_identity_not_deletable"===c)return{error:a}}return yield e._removeSession(),{error:a}}const{session:l,redirectType:u}=s;return e._debug("#_initialize()","detected session in URL",l,"redirect type",u),yield e._saveSession(l),setTimeout(g(function*(){"recovery"===u?yield e._notifyAllSubscribers("PASSWORD_RECOVERY",l):yield e._notifyAllSubscribers("SIGNED_IN",l)}),0),{error:null}}return yield e._recoverAndRefresh(),{error:null}}catch(i){return ee(i)?e._returnResult({error:i}):e._returnResult({error:new $i("Unexpected error during initialization",i)})}finally{yield e._handleVisibilityChange(),e._debug("#_initialize()","end")}})()}signInAnonymously(e){var r=this;return g(function*(){var i,o,s;try{const a=yield he(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{data:null!==(o=null===(i=e?.options)||void 0===i?void 0:i.data)&&void 0!==o?o:{},gotrue_meta_security:{captcha_token:null===(s=e?.options)||void 0===s?void 0:s.captchaToken}},xform:ir}),{data:l,error:u}=a;if(u||!l)return r._returnResult({data:{user:null,session:null},error:u});const c=l.session,d=l.user;return l.session&&(yield r._saveSession(l.session),yield r._notifyAllSubscribers("SIGNED_IN",c)),r._returnResult({data:{user:d,session:c},error:null})}catch(a){if(ee(a))return r._returnResult({data:{user:null,session:null},error:a});throw a}})()}signUp(e){var r=this;return g(function*(){var i,o,s;try{let a;if("email"in e){const{email:h,password:f,options:p}=e;let m=null,_=null;"pkce"===r.flowType&&([m,_]=yield Ko(r.storage,r.storageKey)),a=yield he(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,redirectTo:p?.emailRedirectTo,body:{email:h,password:f,data:null!==(i=p?.data)&&void 0!==i?i:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:_},xform:ir})}else{if(!("phone"in e))throw new ku("You must provide either an email or phone number and a password");{const{phone:h,password:f,options:p}=e;a=yield he(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{phone:h,password:f,data:null!==(o=p?.data)&&void 0!==o?o:{},channel:null!==(s=p?.channel)&&void 0!==s?s:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:ir})}}const{data:l,error:u}=a;if(u||!l)return r._returnResult({data:{user:null,session:null},error:u});const c=l.session,d=l.user;return l.session&&(yield r._saveSession(l.session),yield r._notifyAllSubscribers("SIGNED_IN",c)),r._returnResult({data:{user:d,session:c},error:null})}catch(a){if(ee(a))return r._returnResult({data:{user:null,session:null},error:a});throw a}})()}signInWithPassword(e){var r=this;return g(function*(){try{let i;if("email"in e){const{email:a,password:l,options:u}=e;i=yield he(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:DE})}else{if(!("phone"in e))throw new ku("You must provide either an email or phone number and a password");{const{phone:a,password:l,options:u}=e;i=yield he(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:DE})}}const{data:o,error:s}=i;if(s)return r._returnResult({data:{user:null,session:null},error:s});if(!o||!o.session||!o.user){const a=new zo;return r._returnResult({data:{user:null,session:null},error:a})}return o.session&&(yield r._saveSession(o.session),yield r._notifyAllSubscribers("SIGNED_IN",o.session)),r._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:s})}catch(i){if(ee(i))return r._returnResult({data:{user:null,session:null},error:i});throw i}})()}signInWithOAuth(e){var r=this;return g(function*(){var i,o,s,a;return yield r._handleProviderSignIn(e.provider,{redirectTo:null===(i=e.options)||void 0===i?void 0:i.redirectTo,scopes:null===(o=e.options)||void 0===o?void 0:o.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})})()}exchangeCodeForSession(e){var r=this;return g(function*(){return yield r.initializePromise,r._acquireLock(-1,g(function*(){return r._exchangeCodeForSession(e)}))})()}signInWithWeb3(e){var r=this;return g(function*(){const{chain:i}=e;switch(i){case"ethereum":return yield r.signInWithEthereum(e);case"solana":return yield r.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}})()}signInWithEthereum(e){var r=this;return g(function*(){var i,o,s,a,l,u,c,d,h,f,p;let m,_;if("message"in e)m=e.message,_=e.signature;else{const{wallet:I,statement:v,options:O}=e;let U;if(Vt())if("object"==typeof I)U=I;else{const Sn=window;if(!("ethereum"in Sn)||"object"!=typeof Sn.ethereum||!("request"in Sn.ethereum)||"function"!=typeof Sn.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");U=Sn.ethereum}else{if("object"!=typeof I||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=I}const fe=new URL(null!==(i=O?.url)&&void 0!==i?i:window.location.href),Nt=yield U.request({method:"eth_requestAccounts"}).then(Sn=>Sn).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Nt||0===Nt.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const He=IE(Nt[0]);let ut=null===(o=O?.signInWithEthereum)||void 0===o?void 0:o.chainId;ut||(ut=function vj(n){return parseInt(n,16)}(yield U.request({method:"eth_chainId"}))),m=function bj(n){var t;const{chainId:e,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=n;if(!Number.isInteger(e))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${e}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(null!==(t=n.statement)&&void 0!==t&&t.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`);const _=`${c?`${c}://${r}`:r} wants you to sign in with your Ethereum account:\n${IE(n.address)}\n\n${n.statement?`${n.statement}\n`:""}`;let b=`URI: ${d}\nVersion: ${h}\nChain ID: ${e}${s?`\nNonce: ${s}`:""}\nIssued At: ${o.toISOString()}`;if(i&&(b+=`\nExpiration Time: ${i.toISOString()}`),a&&(b+=`\nNot Before: ${a.toISOString()}`),l&&(b+=`\nRequest ID: ${l}`),u){let I="\nResources:";for(const v of u){if(!v||"string"!=typeof v)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);I+=`\n- ${v}`}b+=I}return`${_}\n${b}`}({domain:fe.host,address:He,statement:v,uri:fe.href,version:"1",chainId:ut,nonce:null===(s=O?.signInWithEthereum)||void 0===s?void 0:s.nonce,issuedAt:null!==(l=null===(a=O?.signInWithEthereum)||void 0===a?void 0:a.issuedAt)&&void 0!==l?l:new Date,expirationTime:null===(u=O?.signInWithEthereum)||void 0===u?void 0:u.expirationTime,notBefore:null===(c=O?.signInWithEthereum)||void 0===c?void 0:c.notBefore,requestId:null===(d=O?.signInWithEthereum)||void 0===d?void 0:d.requestId,resources:null===(h=O?.signInWithEthereum)||void 0===h?void 0:h.resources}),_=yield U.request({method:"personal_sign",params:[wj(m),He]})}try{const{data:b,error:I}=yield he(r.fetch,"POST",`${r.url}/token?grant_type=web3`,{headers:r.headers,body:Object.assign({chain:"ethereum",message:m,signature:_},null!==(f=e.options)&&void 0!==f&&f.captchaToken?{gotrue_meta_security:{captcha_token:null===(p=e.options)||void 0===p?void 0:p.captchaToken}}:null),xform:ir});if(I)throw I;if(!b||!b.session||!b.user){const v=new zo;return r._returnResult({data:{user:null,session:null},error:v})}return b.session&&(yield r._saveSession(b.session),yield r._notifyAllSubscribers("SIGNED_IN",b.session)),r._returnResult({data:Object.assign({},b),error:I})}catch(b){if(ee(b))return r._returnResult({data:{user:null,session:null},error:b});throw b}})()}signInWithSolana(e){var r=this;return g(function*(){var i,o,s,a,l,u,c,d,h,f,p,m;let _,b;if("message"in e)_=e.message,b=e.signature;else{const{wallet:v,statement:O,options:U}=e;let fe;if(Vt())if("object"==typeof v)fe=v;else{const He=window;if(!("solana"in He)||"object"!=typeof He.solana||!("signIn"in He.solana&&"function"==typeof He.solana.signIn||"signMessage"in He.solana&&"function"==typeof He.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");fe=He.solana}else{if("object"!=typeof v||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");fe=v}const Nt=new URL(null!==(i=U?.url)&&void 0!==i?i:window.location.href);if("signIn"in fe&&fe.signIn){const He=yield fe.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},U?.signInWithSolana),{version:"1",domain:Nt.host,uri:Nt.href}),O?{statement:O}:null));let ut;if(Array.isArray(He)&&He[0]&&"object"==typeof He[0])ut=He[0];else{if(!(He&&"object"==typeof He&&"signedMessage"in He&&"signature"in He))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");ut=He}if(!("signedMessage"in ut&&"signature"in ut&&("string"==typeof ut.signedMessage||ut.signedMessage instanceof Uint8Array)&&ut.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");_="string"==typeof ut.signedMessage?ut.signedMessage:(new TextDecoder).decode(ut.signedMessage),b=ut.signature}else{if(!("signMessage"in fe&&"function"==typeof fe.signMessage&&"publicKey"in fe&&"object"==typeof fe&&fe.publicKey&&"toBase58"in fe.publicKey&&"function"==typeof fe.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${Nt.host} wants you to sign in with your Solana account:`,fe.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${Nt.href}`,`Issued At: ${null!==(s=null===(o=U?.signInWithSolana)||void 0===o?void 0:o.issuedAt)&&void 0!==s?s:(new Date).toISOString()}`,...null!==(a=U?.signInWithSolana)&&void 0!==a&&a.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...null!==(l=U?.signInWithSolana)&&void 0!==l&&l.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...null!==(u=U?.signInWithSolana)&&void 0!==u&&u.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...null!==(c=U?.signInWithSolana)&&void 0!==c&&c.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...null!==(d=U?.signInWithSolana)&&void 0!==d&&d.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...null!==(f=null===(h=U?.signInWithSolana)||void 0===h?void 0:h.resources)&&void 0!==f&&f.length?["Resources",...U.signInWithSolana.resources.map(ut=>`- ${ut}`)]:[]].join("\n");const He=yield fe.signMessage((new TextEncoder).encode(_),"utf8");if(!(He&&He instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=He}}try{const{data:I,error:v}=yield he(r.fetch,"POST",`${r.url}/token?grant_type=web3`,{headers:r.headers,body:Object.assign({chain:"solana",message:_,signature:Ui(b)},null!==(p=e.options)&&void 0!==p&&p.captchaToken?{gotrue_meta_security:{captcha_token:null===(m=e.options)||void 0===m?void 0:m.captchaToken}}:null),xform:ir});if(v)throw v;if(!I||!I.session||!I.user){const O=new zo;return r._returnResult({data:{user:null,session:null},error:O})}return I.session&&(yield r._saveSession(I.session),yield r._notifyAllSubscribers("SIGNED_IN",I.session)),r._returnResult({data:Object.assign({},I),error:v})}catch(I){if(ee(I))return r._returnResult({data:{user:null,session:null},error:I});throw I}})()}_exchangeCodeForSession(e){var r=this;return g(function*(){const i=yield Hi(r.storage,`${r.storageKey}-code-verifier`),[o,s]=(i??"").split("/");try{const{data:a,error:l}=yield he(r.fetch,"POST",`${r.url}/token?grant_type=pkce`,{headers:r.headers,body:{auth_code:e,code_verifier:o},xform:ir});if(yield pi(r.storage,`${r.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const u=new zo;return r._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(yield r._saveSession(a.session),yield r._notifyAllSubscribers("SIGNED_IN",a.session)),r._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(ee(a))return r._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}})()}signInWithIdToken(e){var r=this;return g(function*(){try{const{options:i,provider:o,token:s,access_token:a,nonce:l}=e,u=yield he(r.fetch,"POST",`${r.url}/token?grant_type=id_token`,{headers:r.headers,body:{provider:o,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:ir}),{data:c,error:d}=u;if(d)return r._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const h=new zo;return r._returnResult({data:{user:null,session:null},error:h})}return c.session&&(yield r._saveSession(c.session),yield r._notifyAllSubscribers("SIGNED_IN",c.session)),r._returnResult({data:c,error:d})}catch(i){if(ee(i))return r._returnResult({data:{user:null,session:null},error:i});throw i}})()}signInWithOtp(e){var r=this;return g(function*(){var i,o,s,a,l;try{if("email"in e){const{email:u,options:c}=e;let d=null,h=null;"pkce"===r.flowType&&([d,h]=yield Ko(r.storage,r.storageKey));const{error:f}=yield he(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{email:u,data:null!==(i=c?.data)&&void 0!==i?i:{},create_user:null===(o=c?.shouldCreateUser)||void 0===o||o,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:c?.emailRedirectTo});return r._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:u,options:c}=e,{data:d,error:h}=yield he(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{phone:u,data:null!==(s=c?.data)&&void 0!==s?s:{},create_user:null===(a=c?.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:null!==(l=c?.channel)&&void 0!==l?l:"sms"}});return r._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:h})}throw new ku("You must provide either an email or phone number.")}catch(u){if(ee(u))return r._returnResult({data:{user:null,session:null},error:u});throw u}})()}verifyOtp(e){var r=this;return g(function*(){var i,o;try{let s,a;"options"in e&&(s=null===(i=e.options)||void 0===i?void 0:i.redirectTo,a=null===(o=e.options)||void 0===o?void 0:o.captchaToken);const{data:l,error:u}=yield he(r.fetch,"POST",`${r.url}/verify`,{headers:r.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:ir});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,d=l.user;return c?.access_token&&(yield r._saveSession(c),yield r._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",c)),r._returnResult({data:{user:d,session:c},error:null})}catch(s){if(ee(s))return r._returnResult({data:{user:null,session:null},error:s});throw s}})()}signInWithSSO(e){var r=this;return g(function*(){var i,o,s,a,l;try{let u=null,c=null;"pkce"===r.flowType&&([u,c]=yield Ko(r.storage,r.storageKey));const d=yield he(r.fetch,"POST",`${r.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(o=null===(i=e.options)||void 0===i?void 0:i.redirectTo)&&void 0!==o?o:void 0}),null!==(s=e?.options)&&void 0!==s&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:r.headers,xform:dj});return(null===(a=d.data)||void 0===a?void 0:a.url)&&Vt()&&!(null!==(l=e.options)&&void 0!==l&&l.skipBrowserRedirect)&&window.location.assign(d.data.url),r._returnResult(d)}catch(u){if(ee(u))return r._returnResult({data:null,error:u});throw u}})()}reauthenticate(){var e=this;return g(function*(){return yield e.initializePromise,yield e._acquireLock(-1,g(function*(){return yield e._reauthenticate()}))})()}_reauthenticate(){var e=this;return g(function*(){try{return yield e._useSession(function(){var r=g(function*(i){const{data:{session:o},error:s}=i;if(s)throw s;if(!o)throw new rr;const{error:a}=yield he(e.fetch,"GET",`${e.url}/reauthenticate`,{headers:e.headers,jwt:o.access_token});return e._returnResult({data:{user:null,session:null},error:a})});return function(i){return r.apply(this,arguments)}}())}catch(r){if(ee(r))return e._returnResult({data:{user:null,session:null},error:r});throw r}})()}resend(e){var r=this;return g(function*(){try{const i=`${r.url}/resend`;if("email"in e){const{email:o,type:s,options:a}=e,{error:l}=yield he(r.fetch,"POST",i,{headers:r.headers,body:{email:o,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return r._returnResult({data:{user:null,session:null},error:l})}if("phone"in e){const{phone:o,type:s,options:a}=e,{data:l,error:u}=yield he(r.fetch,"POST",i,{headers:r.headers,body:{phone:o,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return r._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:u})}throw new ku("You must provide either an email or phone number and a type")}catch(i){if(ee(i))return r._returnResult({data:{user:null,session:null},error:i});throw i}})()}getSession(){var e=this;return g(function*(){return yield e.initializePromise,yield e._acquireLock(-1,g(function*(){return e._useSession(function(){var i=g(function*(o){return o});return function(o){return i.apply(this,arguments)}}())}))})()}_acquireLock(e,r){var i=this;return g(function*(){i._debug("#_acquireLock","begin",e);try{if(i.lockAcquired){const o=i.pendingInLock.length?i.pendingInLock[i.pendingInLock.length-1]:Promise.resolve(),s=g(function*(){return yield o,yield r()})();return i.pendingInLock.push(g(function*(){try{yield s}catch{}})()),s}return yield i.lock(`lock:${i.storageKey}`,e,g(function*(){i._debug("#_acquireLock","lock acquired for storage key",i.storageKey);try{i.lockAcquired=!0;const o=r();for(i.pendingInLock.push(g(function*(){try{yield o}catch{}})()),yield o;i.pendingInLock.length;){const s=[...i.pendingInLock];yield Promise.all(s),i.pendingInLock.splice(0,s.length)}return yield o}finally{i._debug("#_acquireLock","lock released for storage key",i.storageKey),i.lockAcquired=!1}}))}finally{i._debug("#_acquireLock","end")}})()}_useSession(e){var r=this;return g(function*(){r._debug("#_useSession","begin");try{const i=yield r.__loadSession();return yield e(i)}finally{r._debug("#_useSession","end")}})()}__loadSession(){var e=this;return g(function*(){e._debug("#__loadSession()","begin"),e.lockAcquired||e._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let r=null;const i=yield Hi(e.storage,e.storageKey);if(e._debug("#getSession()","session from storage",i),null!==i&&(e._isValidSession(i)?r=i:(e._debug("#getSession()","session from storage is not valid"),yield e._removeSession())),!r)return{data:{session:null},error:null};const o=!!r.expires_at&&1e3*r.expires_at-Date.now()<9e4;if(e._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(e.userStorage){const l=yield Hi(e.userStorage,e.storageKey+"-user");r.user=l?.user?l.user:Tp()}if(e.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const l={value:e.suppressGetSessionWarning};r.user=function aj(n,t){return new Proxy(n,{get:(e,r,i)=>{if("__isInsecureUserWarningProxy"===r)return!0;if("symbol"==typeof r){const o=r.toString();if("Symbol(Symbol.toPrimitive)"===o||"Symbol(Symbol.toStringTag)"===o||"Symbol(util.inspect.custom)"===o||"Symbol(nodejs.util.inspect.custom)"===o)return Reflect.get(e,r,i)}return!t.value&&"string"==typeof r&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,r,i)}})}(r.user,l),l.value&&(e.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:s,error:a}=yield e._callRefreshToken(r.refresh_token);return e._returnResult(a?{data:{session:null},error:a}:{data:{session:s},error:null})}finally{e._debug("#__loadSession()","end")}})()}getUser(e){var r=this;return g(function*(){return e?yield r._getUser(e):(yield r.initializePromise,yield r._acquireLock(-1,g(function*(){return yield r._getUser()})))})()}_getUser(e){var r=this;return g(function*(){try{return e?yield he(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:e,xform:gi}):yield r._useSession(function(){var i=g(function*(o){var s,a,l;const{data:u,error:c}=o;if(c)throw c;return null!==(s=u.session)&&void 0!==s&&s.access_token||r.hasCustomAuthorizationHeader?yield he(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:null!==(l=null===(a=u.session)||void 0===a?void 0:a.access_token)&&void 0!==l?l:void 0,xform:gi}):{data:{user:null},error:new rr}});return function(o){return i.apply(this,arguments)}}())}catch(i){if(ee(i))return function $V(n){return ee(n)&&"AuthSessionMissingError"===n.name}(i)&&(yield r._removeSession(),yield pi(r.storage,`${r.storageKey}-code-verifier`)),r._returnResult({data:{user:null},error:i});throw i}})()}updateUser(e){var r=this;return g(function*(i,o={}){return yield r.initializePromise,yield r._acquireLock(-1,g(function*(){return yield r._updateUser(i,o)}))}).apply(this,arguments)}_updateUser(e){var r=this;return g(function*(i,o={}){try{return yield r._useSession(function(){var s=g(function*(a){const{data:l,error:u}=a;if(u)throw u;if(!l.session)throw new rr;const c=l.session;let d=null,h=null;"pkce"===r.flowType&&null!=i.email&&([d,h]=yield Ko(r.storage,r.storageKey));const{data:f,error:p}=yield he(r.fetch,"PUT",`${r.url}/user`,{headers:r.headers,redirectTo:o?.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:gi});if(p)throw p;return c.user=f.user,yield r._saveSession(c),yield r._notifyAllSubscribers("USER_UPDATED",c),r._returnResult({data:{user:c.user},error:null})});return function(a){return s.apply(this,arguments)}}())}catch(s){if(ee(s))return r._returnResult({data:{user:null},error:s});throw s}}).apply(this,arguments)}setSession(e){var r=this;return g(function*(){return yield r.initializePromise,yield r._acquireLock(-1,g(function*(){return yield r._setSession(e)}))})()}_setSession(e){var r=this;return g(function*(){try{if(!e.access_token||!e.refresh_token)throw new rr;const i=Date.now()/1e3;let o=i,s=!0,a=null;const{payload:l}=Cp(e.access_token);if(l.exp&&(o=l.exp,s=o<=i),s){const{data:u,error:c}=yield r._callRefreshToken(e.refresh_token);if(c)return r._returnResult({data:{user:null,session:null},error:c});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:c}=yield r._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:o-i,expires_at:o},yield r._saveSession(a),yield r._notifyAllSubscribers("SIGNED_IN",a)}return r._returnResult({data:{user:a.user,session:a},error:null})}catch(i){if(ee(i))return r._returnResult({data:{session:null,user:null},error:i});throw i}})()}refreshSession(e){var r=this;return g(function*(){return yield r.initializePromise,yield r._acquireLock(-1,g(function*(){return yield r._refreshSession(e)}))})()}_refreshSession(e){var r=this;return g(function*(){try{return yield r._useSession(function(){var i=g(function*(o){var s;if(!e){const{data:u,error:c}=o;if(c)throw c;e=null!==(s=u.session)&&void 0!==s?s:void 0}if(!e?.refresh_token)throw new rr;const{data:a,error:l}=yield r._callRefreshToken(e.refresh_token);return r._returnResult(l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(ee(i))return r._returnResult({data:{user:null,session:null},error:i});throw i}})()}_getSessionFromURL(e,r){var i=this;return g(function*(){try{if(!Vt())throw new Nu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Nu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if("pkce"===i.flowType)throw new pE("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===i.flowType)throw new Nu("Not a valid implicit grant flow url.")}if("pkce"===r){if(i._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new pE("No code detected.");const{data:O,error:U}=yield i._exchangeCodeForSession(e.code);if(U)throw U;const fe=new URL(window.location.href);return fe.searchParams.delete("code"),window.history.replaceState(window.history.state,"",fe.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:u,expires_at:c,token_type:d}=e;if(!(a&&u&&l&&d))throw new Nu("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(u);let p=h+f;c&&(p=parseInt(c));const m=p-h;1e3*m<=Go&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const _=p-f;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,p,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,p,h);const{data:b,error:I}=yield i._getUser(a);if(I)throw I;const v={provider_token:o,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:p,refresh_token:l,token_type:d,user:b.user};return window.location.hash="",i._debug("#_getSessionFromURL()","clearing window.location.hash"),i._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(o){if(ee(o))return i._returnResult({data:{session:null,redirectType:null},error:o});throw o}})()}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}_isPKCECallback(e){var r=this;return g(function*(){const i=yield Hi(r.storage,`${r.storageKey}-code-verifier`);return!(!e.code||!i)})()}signOut(){var e=this;return g(function*(r={scope:"global"}){return yield e.initializePromise,yield e._acquireLock(-1,g(function*(){return yield e._signOut(r)}))}).apply(this,arguments)}_signOut(){var e=this;return g(function*({scope:r}={scope:"global"}){return yield e._useSession(function(){var i=g(function*(o){var s;const{data:a,error:l}=o;if(l)return e._returnResult({error:l});const u=null===(s=a.session)||void 0===s?void 0:s.access_token;if(u){const{error:c}=yield e.admin.signOut(u,r);if(c&&(!function jV(n){return ee(n)&&"AuthApiError"===n.name}(c)||404!==c.status&&401!==c.status&&403!==c.status))return e._returnResult({error:c})}return"others"!==r&&(yield e._removeSession(),yield pi(e.storage,`${e.storageKey}-code-verifier`)),e._returnResult({error:null})});return function(o){return i.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(e){var r=this;const i=function WV(){return Symbol("auth-callback")}(),o={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),g(function*(){yield r.initializePromise,yield r._acquireLock(-1,g(function*(){r._emitInitialSession(i)}))})(),{data:{subscription:o}}}_emitInitialSession(e){var r=this;return g(function*(){return yield r._useSession(function(){var i=g(function*(o){var s,a;try{const{data:{session:l},error:u}=o;if(u)throw u;yield null===(s=r.stateChangeEmitters.get(e))||void 0===s?void 0:s.callback("INITIAL_SESSION",l),r._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){yield null===(a=r.stateChangeEmitters.get(e))||void 0===a?void 0:a.callback("INITIAL_SESSION",null),r._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}});return function(o){return i.apply(this,arguments)}}())})()}resetPasswordForEmail(e){var r=this;return g(function*(i,o={}){let s=null,a=null;"pkce"===r.flowType&&([s,a]=yield Ko(r.storage,r.storageKey,!0));try{return yield he(r.fetch,"POST",`${r.url}/recover`,{body:{email:i,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:r.headers,redirectTo:o.redirectTo})}catch(l){if(ee(l))return r._returnResult({data:null,error:l});throw l}}).apply(this,arguments)}getUserIdentities(){var e=this;return g(function*(){var r;try{const{data:i,error:o}=yield e.getUser();if(o)throw o;return e._returnResult({data:{identities:null!==(r=i.user.identities)&&void 0!==r?r:[]},error:null})}catch(i){if(ee(i))return e._returnResult({data:null,error:i});throw i}})()}linkIdentity(e){var r=this;return g(function*(){return"token"in e?r.linkIdentityIdToken(e):r.linkIdentityOAuth(e)})()}linkIdentityOAuth(e){var r=this;return g(function*(){var i;try{const{data:o,error:s}=yield r._useSession(function(){var a=g(function*(l){var u,c,d,h,f;const{data:p,error:m}=l;if(m)throw m;const _=yield r._getUrlForProvider(`${r.url}/user/identities/authorize`,e.provider,{redirectTo:null===(u=e.options)||void 0===u?void 0:u.redirectTo,scopes:null===(c=e.options)||void 0===c?void 0:c.scopes,queryParams:null===(d=e.options)||void 0===d?void 0:d.queryParams,skipBrowserRedirect:!0});return yield he(r.fetch,"GET",_,{headers:r.headers,jwt:null!==(f=null===(h=p.session)||void 0===h?void 0:h.access_token)&&void 0!==f?f:void 0})});return function(l){return a.apply(this,arguments)}}());if(s)throw s;return Vt()&&!(null!==(i=e.options)&&void 0!==i&&i.skipBrowserRedirect)&&window.location.assign(o?.url),r._returnResult({data:{provider:e.provider,url:o?.url},error:null})}catch(o){if(ee(o))return r._returnResult({data:{provider:e.provider,url:null},error:o});throw o}})()}linkIdentityIdToken(e){var r=this;return g(function*(){return yield r._useSession(function(){var i=g(function*(o){var s;try{const{error:a,data:{session:l}}=o;if(a)throw a;const{options:u,provider:c,token:d,access_token:h,nonce:f}=e,p=yield he(r.fetch,"POST",`${r.url}/token?grant_type=id_token`,{headers:r.headers,jwt:null!==(s=l?.access_token)&&void 0!==s?s:void 0,body:{provider:c,id_token:d,access_token:h,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:ir}),{data:m,error:_}=p;return _?r._returnResult({data:{user:null,session:null},error:_}):m&&m.session&&m.user?(m.session&&(yield r._saveSession(m.session),yield r._notifyAllSubscribers("USER_UPDATED",m.session)),r._returnResult({data:m,error:_})):r._returnResult({data:{user:null,session:null},error:new zo})}catch(a){if(ee(a))return r._returnResult({data:{user:null,session:null},error:a});throw a}});return function(o){return i.apply(this,arguments)}}())})()}unlinkIdentity(e){var r=this;return g(function*(){try{return yield r._useSession(function(){var i=g(function*(o){var s,a;const{data:l,error:u}=o;if(u)throw u;return yield he(r.fetch,"DELETE",`${r.url}/user/identities/${e.identity_id}`,{headers:r.headers,jwt:null!==(a=null===(s=l.session)||void 0===s?void 0:s.access_token)&&void 0!==a?a:void 0})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(ee(i))return r._returnResult({data:null,error:i});throw i}})()}_refreshAccessToken(e){var r=this;return g(function*(){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;r._debug(i,"begin");try{const o=Date.now();return yield function QV(n,t){return new Promise((r,i)=>{g(function*(){for(let o=0;o<1/0;o++)try{const s=yield n(o);if(!t(o,null,s))return void r(s)}catch(s){if(!t(o,s))return void i(s)}})()})}(function(){var s=g(function*(a){return a>0&&(yield function ZV(n){return Ep.apply(this,arguments)}(200*Math.pow(2,a-1))),r._debug(i,"refreshing attempt",a),yield he(r.fetch,"POST",`${r.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:r.headers,xform:ir})});return function(a){return s.apply(this,arguments)}}(),(s,a)=>{const l=200*Math.pow(2,s);return a&&wp(a)&&Date.now()+l-o<Go})}catch(o){if(r._debug(i,"error",o),ee(o))return r._returnResult({data:{session:null,user:null},error:o});throw o}finally{r._debug(i,"end")}})()}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){var i=this;return g(function*(){const o=yield i._getUrlForProvider(`${i.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return i._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",o),Vt()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}})()}_recoverAndRefresh(){var e=this;return g(function*(){var r,i;const o="#_recoverAndRefresh()";e._debug(o,"begin");try{const s=yield Hi(e.storage,e.storageKey);if(s&&e.userStorage){let l=yield Hi(e.userStorage,e.storageKey+"-user");!e.storage.isServer&&Object.is(e.storage,e.userStorage)&&!l&&(l={user:s.user},yield Wo(e.userStorage,e.storageKey+"-user",l)),s.user=null!==(r=l?.user)&&void 0!==r?r:Tp()}else if(s&&!s.user&&!s.user){const l=yield Hi(e.storage,e.storageKey+"-user");l&&l?.user?(s.user=l.user,yield pi(e.storage,e.storageKey+"-user"),yield Wo(e.storage,e.storageKey,s)):s.user=Tp()}if(e._debug(o,"session from storage",s),!e._isValidSession(s))return e._debug(o,"session is not valid"),void(null!==s&&(yield e._removeSession()));const a=1e3*(null!==(i=s.expires_at)&&void 0!==i?i:1/0)-Date.now()<9e4;if(e._debug(o,`session has${a?"":" not"} expired with margin of 90000s`),a){if(e.autoRefreshToken&&s.refresh_token){const{error:l}=yield e._callRefreshToken(s.refresh_token);l&&(console.error(l),wp(l)||(e._debug(o,"refresh failed with a non-retryable error, removing the session",l),yield e._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{const{data:l,error:u}=yield e._getUser(s.access_token);!u&&l?.user?(s.user=l.user,yield e._saveSession(s),yield e._notifyAllSubscribers("SIGNED_IN",s)):e._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),e._debug(o,"error getting user data, skipping SIGNED_IN notification",l)}else yield e._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return e._debug(o,"error",s),void console.error(s)}finally{e._debug(o,"end")}})()}_callRefreshToken(e){var r=this;return g(function*(){var i,o;if(!e)throw new rr;if(r.refreshingDeferred)return r.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;r._debug(s,"begin");try{r.refreshingDeferred=new Vu;const{data:a,error:l}=yield r._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new rr;yield r._saveSession(a.session),yield r._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return r.refreshingDeferred.resolve(u),u}catch(a){if(r._debug(s,"error",a),ee(a)){const l={data:null,error:a};return wp(a)||(yield r._removeSession()),null===(i=r.refreshingDeferred)||void 0===i||i.resolve(l),l}throw null===(o=r.refreshingDeferred)||void 0===o||o.reject(a),a}finally{r.refreshingDeferred=null,r._debug(s,"end")}})()}_notifyAllSubscribers(e,r){var i=this;return g(function*(o,s,a=!0){const l=`#_notifyAllSubscribers(${o})`;i._debug(l,"begin",s,`broadcast = ${a}`);try{i.broadcastChannel&&a&&i.broadcastChannel.postMessage({event:o,session:s});const u=[],c=Array.from(i.stateChangeEmitters.values()).map(function(){var d=g(function*(h){try{yield h.callback(o,s)}catch(f){u.push(f)}});return function(h){return d.apply(this,arguments)}}());if(yield Promise.all(c),u.length>0){for(let d=0;d<u.length;d+=1)console.error(u[d]);throw u[0]}}finally{i._debug(l,"end")}}).apply(this,arguments)}_saveSession(e){var r=this;return g(function*(){r._debug("#_saveSession()",e),r.suppressGetSessionWarning=!0;const i=Object.assign({},e);if(r.userStorage){(!i.user||!0!==i.user.__isUserNotAvailableProxy)&&i.user&&(yield Wo(r.userStorage,r.storageKey+"-user",{user:i.user}));const s=Object.assign({},i);delete s.user;const a=CE(s);yield Wo(r.storage,r.storageKey,a)}else{const s=CE(i);yield Wo(r.storage,r.storageKey,s)}})()}_removeSession(){var e=this;return g(function*(){e._debug("#_removeSession()"),yield pi(e.storage,e.storageKey),yield pi(e.storage,e.storageKey+"-code-verifier"),yield pi(e.storage,e.storageKey+"-user"),e.userStorage&&(yield pi(e.userStorage,e.storageKey+"-user")),yield e._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Vt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){var e=this;return g(function*(){yield e._stopAutoRefresh(),e._debug("#_startAutoRefresh()");const r=setInterval(()=>e._autoRefreshTokenTick(),Go);e.autoRefreshTicker=r,r&&"object"==typeof r&&"function"==typeof r.unref?r.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(r),setTimeout(g(function*(){yield e.initializePromise,yield e._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var e=this;return g(function*(){e._debug("#_stopAutoRefresh()");const r=e.autoRefreshTicker;e.autoRefreshTicker=null,r&&clearInterval(r)})()}startAutoRefresh(){var e=this;return g(function*(){e._removeVisibilityChangedCallback(),yield e._startAutoRefresh()})()}stopAutoRefresh(){var e=this;return g(function*(){e._removeVisibilityChangedCallback(),yield e._stopAutoRefresh()})()}_autoRefreshTokenTick(){var e=this;return g(function*(){e._debug("#_autoRefreshTokenTick()","begin");try{yield e._acquireLock(0,g(function*(){try{const r=Date.now();try{return yield e._useSession(function(){var i=g(function*(o){const{data:{session:s}}=o;if(!s||!s.refresh_token||!s.expires_at)return void e._debug("#_autoRefreshTokenTick()","no session");const a=Math.floor((1e3*s.expires_at-r)/Go);e._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),a<=3&&(yield e._callRefreshToken(s.refresh_token))});return function(o){return i.apply(this,arguments)}}())}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{e._debug("#_autoRefreshTokenTick()","end")}}))}catch(r){if(!(r.isAcquireTimeout||r instanceof TE))throw r;e._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var e=this;return g(function*(){if(e._debug("#_handleVisibilityChange()"),!Vt()||!window?.addEventListener)return e.autoRefreshToken&&e.startAutoRefresh(),!1;try{e.visibilityChangedCallback=g(function*(){return yield e._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",e.visibilityChangedCallback),yield e._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}})()}_onVisibilityChanged(e){var r=this;return g(function*(){const i=`#_onVisibilityChanged(${e})`;r._debug(i,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(r.autoRefreshToken&&r._startAutoRefresh(),e||(yield r.initializePromise,yield r._acquireLock(-1,g(function*(){"visible"===document.visibilityState?yield r._recoverAndRefresh():r._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&r.autoRefreshToken&&r._stopAutoRefresh()})()}_getUrlForProvider(e,r,i){var o=this;return g(function*(){const s=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),"pkce"===o.flowType){const[a,l]=yield Ko(o.storage,o.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(u.toString())}if(i?.queryParams){const a=new URLSearchParams(i.queryParams);s.push(a.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${s.join("&")}`})()}_unenroll(e){var r=this;return g(function*(){try{return yield r._useSession(function(){var i=g(function*(o){var s;const{data:a,error:l}=o;return l?r._returnResult({data:null,error:l}):yield he(r.fetch,"DELETE",`${r.url}/factors/${e.factorId}`,{headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(ee(i))return r._returnResult({data:null,error:i});throw i}})()}_enroll(e){var r=this;return g(function*(){try{return yield r._useSession(function(){var i=g(function*(o){var s,a;const{data:l,error:u}=o;if(u)return r._returnResult({data:null,error:u});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:d,error:h}=yield he(r.fetch,"POST",`${r.url}/factors`,{body:c,headers:r.headers,jwt:null===(s=l?.session)||void 0===s?void 0:s.access_token});return h?r._returnResult({data:null,error:h}):("totp"===e.factorType&&"totp"===d.type&&(null===(a=d?.totp)||void 0===a?void 0:a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),r._returnResult({data:d,error:null}))});return function(o){return i.apply(this,arguments)}}())}catch(i){if(ee(i))return r._returnResult({data:null,error:i});throw i}})()}_verify(e){var r=this;return g(function*(){return r._acquireLock(-1,g(function*(){try{return yield r._useSession(function(){var i=g(function*(o){var s;const{data:a,error:l}=o;if(l)return r._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?Mj(e.webauthn.credential_response):Ij(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=yield he(r.fetch,"POST",`${r.url}/factors/${e.factorId}/verify`,{body:u,headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token});return d?r._returnResult({data:null,error:d}):(yield r._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield r._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),r._returnResult({data:c,error:d}))});return function(o){return i.apply(this,arguments)}}())}catch(i){if(ee(i))return r._returnResult({data:null,error:i});throw i}}))})()}_challenge(e){var r=this;return g(function*(){return r._acquireLock(-1,g(function*(){try{return yield r._useSession(function(){var i=g(function*(o){var s;const{data:a,error:l}=o;if(l)return r._returnResult({data:null,error:l});const u=yield he(r.fetch,"POST",`${r.url}/factors/${e.factorId}/challenge`,{body:e,headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token});if(u.error)return u;const{data:c}=u;if("webauthn"!==c.type)return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Aj(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Tj(c.webauthn.credential_options.publicKey)})})}),error:null}}});return function(o){return i.apply(this,arguments)}}())}catch(i){if(ee(i))return r._returnResult({data:null,error:i});throw i}}))})()}_challengeAndVerify(e){var r=this;return g(function*(){const{data:i,error:o}=yield r._challenge({factorId:e.factorId});return o?r._returnResult({data:null,error:o}):yield r._verify({factorId:e.factorId,challengeId:i.id,code:e.code})})()}_listFactors(){var e=this;return g(function*(){var r;const{data:{user:i},error:o}=yield e.getUser();if(o)return{data:null,error:o};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of null!==(r=i?.factors)&&void 0!==r?r:[])s.all.push(a),"verified"===a.status&&s[a.factor_type].push(a);return{data:s,error:null}})()}_getAuthenticatorAssuranceLevel(){var e=this;return g(function*(){var r,i;const{data:{session:o},error:s}=yield e.getSession();if(s)return e._returnResult({data:null,error:s});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Cp(o.access_token);let l=null;a.aal&&(l=a.aal);let u=l;return(null!==(i=null===(r=o.user.factors)||void 0===r?void 0:r.filter(h=>"verified"===h.status))&&void 0!==i?i:[]).length>0&&(u="aal2"),{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:a.amr||[]},error:null}})()}_getAuthorizationDetails(e){var r=this;return g(function*(){try{return yield r._useSession(function(){var i=g(function*(o){const{data:{session:s},error:a}=o;return a?r._returnResult({data:null,error:a}):s?yield he(r.fetch,"GET",`${r.url}/oauth/authorizations/${e}`,{headers:r.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):r._returnResult({data:null,error:new rr})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(ee(i))return r._returnResult({data:null,error:i});throw i}})()}_approveAuthorization(e,r){var i=this;return g(function*(){try{return yield i._useSession(function(){var o=g(function*(s){const{data:{session:a},error:l}=s;if(l)return i._returnResult({data:null,error:l});if(!a)return i._returnResult({data:null,error:new rr});const u=yield he(i.fetch,"POST",`${i.url}/oauth/authorizations/${e}/consent`,{headers:i.headers,jwt:a.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&Vt()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u});return function(s){return o.apply(this,arguments)}}())}catch(o){if(ee(o))return i._returnResult({data:null,error:o});throw o}})()}_denyAuthorization(e,r){var i=this;return g(function*(){try{return yield i._useSession(function(){var o=g(function*(s){const{data:{session:a},error:l}=s;if(l)return i._returnResult({data:null,error:l});if(!a)return i._returnResult({data:null,error:new rr});const u=yield he(i.fetch,"POST",`${i.url}/oauth/authorizations/${e}/consent`,{headers:i.headers,jwt:a.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return u.data&&u.data.redirect_url&&Vt()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u});return function(s){return o.apply(this,arguments)}}())}catch(o){if(ee(o))return i._returnResult({data:null,error:o});throw o}})()}fetchJwk(e){var r=this;return g(function*(i,o={keys:[]}){let s=o.keys.find(c=>c.kid===i);if(s)return s;const a=Date.now();if(s=r.jwks.keys.find(c=>c.kid===i),s&&r.jwks_cached_at+6e5>a)return s;const{data:l,error:u}=yield he(r.fetch,"GET",`${r.url}/.well-known/jwks.json`,{headers:r.headers});if(u)throw u;return l.keys&&0!==l.keys.length&&(r.jwks=l,r.jwks_cached_at=a,s=l.keys.find(c=>c.kid===i),s)?s:null}).apply(this,arguments)}getClaims(e){var r=this;return g(function*(i,o={}){try{let s=i;if(!s){const{data:_,error:b}=yield r.getSession();if(b||!_.session)return r._returnResult({data:null,error:b});s=_.session.access_token}const{header:a,payload:l,signature:u,raw:{header:c,payload:d}}=Cp(s);o?.allowExpired||function ij(n){if(!n)throw new Error("Missing exp claim");if(n<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(l.exp);const h=a.alg&&!a.alg.startsWith("HS")&&a.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield r.fetchJwk(a.kid,o?.keys?{keys:o.keys}:o?.jwks):null;if(!h){const{error:_}=yield r.getUser(s);if(_)throw _;return{data:{claims:l,header:a,signature:u},error:null}}const f=function oj(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(a.alg),p=yield crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!(yield crypto.subtle.verify(f,p,u,function zV(n){const t=[];return function vE(n,t){for(let e=0;e<n.length;e+=1){let r=n.charCodeAt(e);if(r>55295&&r<=56319){const i=1024*(r-55296)&65535;r=65536+(n.charCodeAt(e+1)-56320&65535|i),e+=1}HV(r,t)}}(n,e=>t.push(e)),new Uint8Array(t)}(`${c}.${d}`))))throw new bp("Invalid JWT signature");return{data:{claims:l,header:a,signature:u},error:null}}catch(s){if(ee(s))return r._returnResult({data:null,error:s});throw s}}).apply(this,arguments)}}return n.nextInstanceID={},n})();class $j extends jj{constructor(t){super(t)}}class Uj{constructor(t,e,r){var i,o,s;this.supabaseUrl=t,this.supabaseKey=e;const a=function PV(n){const t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(function xV(n){return n.endsWith("/")?n:n+"/"}(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c=function OV(n,t){var e,r;const{db:i,auth:o,realtime:s,global:a}=n,{db:l,auth:u,realtime:c,global:d}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},c),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},null!==(e=d?.headers)&&void 0!==e?e:{}),null!==(r=a?.headers)&&void 0!==r?r:{})}),accessToken:(f=g(function*(){return""}),function(){return f.apply(this,arguments)})};var f;return n.accessToken?h.accessToken=n.accessToken:delete h.accessToken,h}(r??{},{db:DV,realtime:AV,auth:Object.assign(Object.assign({},SV),{storageKey:l}),global:EV});this.storageKey=null!==(i=c.auth.storageKey)&&void 0!==i?i:"",this.headers=null!==(o=c.global.headers)&&void 0!==o?o:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(s=c.auth)&&void 0!==s?s:{},this.headers,c.global.fetch),this.fetch=IV(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new X0(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new bV(this.storageUrl.href,this.headers,this.fetch,r?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new ML(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t=this;return g(function*(){var e,r;if(t.accessToken)return yield t.accessToken();const{data:i}=yield t.auth.getSession();return null!==(r=null===(e=i.session)||void 0===e?void 0:e.access_token)&&void 0!==r?r:t.supabaseKey})()}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:l,debug:u,throwOnError:c},d,h){return new $j({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),d),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:l,debug:u,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>"authorization"===p.toLowerCase())})}_initRealtimeClient(t){return new QL(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(t,e,r){"TOKEN_REFRESHED"!==t&&"SIGNED_IN"!==t||this.changedAccessToken===r?"SIGNED_OUT"===t&&(this.realtime.setAuth(),"STORAGE"==e&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=r,this.realtime.setAuth(r))}}(function Hj(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(null==n)return!1;const t=n.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Lp_supabase_url="https://ejtuajhevhunxyevwzmq.supabase.co",Lp_supabase_anonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVqdHVhamhldmh1bnh5ZXZ3em1xIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzMDcyOTMsImV4cCI6MjA3ODg4MzI5M30.tjNvK2_rrikFMELuk-hscLUChBKTA3rbTaDc6uwHHlM";let RE=(()=>{class n{constructor(){this.supabase=((n,t,e)=>new Uj(n,t,void 0))(Lp_supabase_url,Lp_supabase_anonKey)}get client(){return this.supabase}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uu=(()=>{class n{constructor(e,r){var i=this;this.supabaseService=e,this.router=r,this.currentUserSubject=new Wt(null),this.currentUser=this.currentUserSubject.asObservable(),this.currentProfileSubject=new Wt(null),this.currentProfile=this.currentProfileSubject.asObservable(),this.checkSession(),this.supabaseService.client.auth.onAuthStateChange(function(){var o=g(function*(s,a){i.currentUserSubject.next(a?.user??null),a?.user?yield i.loadProfile(a.user.id):i.currentProfileSubject.next(null)});return function(s,a){return o.apply(this,arguments)}}())}checkSession(){var e=this;return g(function*(){const{data:{session:r}}=yield e.supabaseService.client.auth.getSession();e.currentUserSubject.next(r?.user??null),r?.user&&(yield e.loadProfile(r.user.id))})()}loadProfile(e){var r=this;return g(function*(){try{const{data:i,error:o}=yield r.supabaseService.client.from("profiles").select("*").eq("id",e).single();if(o)return console.error("Error loading profile:",o),void r.currentProfileSubject.next(null);r.currentProfileSubject.next(i)}catch(i){console.error("Error loading profile:",i),r.currentProfileSubject.next(null)}})()}get currentUserValue(){return this.currentUserSubject.value}get currentProfileValue(){return this.currentProfileSubject.value}get isLoggedIn(){return null!==this.currentUserSubject.value}signUp(e,r,i){var o=this;return g(function*(){try{const{data:s,error:a}=yield o.supabaseService.client.auth.signUp({email:e,password:r});if(a)return{success:!1,error:a.message};if(!s.user)return{success:!1,error:"No se pudo crear el usuario"};const{error:l}=yield o.supabaseService.client.from("profiles").insert({id:s.user.id,username:i});return l?(console.error("Error creating profile:",l),{success:!1,error:"Error al crear el perfil de usuario"}):{success:!0}}catch(s){return{success:!1,error:s.message}}})()}signIn(e,r){var i=this;return g(function*(){try{const{data:o,error:s}=yield i.supabaseService.client.auth.signInWithPassword({email:e,password:r});return s?{success:!1,error:s.message}:(i.currentUserSubject.next(o.user),i.router.navigate(["/progress"]),{success:!0})}catch(o){return{success:!1,error:o.message}}})()}signOut(){var e=this;return g(function*(){yield e.supabaseService.client.auth.signOut(),e.currentUserSubject.next(null),e.router.navigate(["/login"])})()}resetPassword(e){var r=this;return g(function*(){try{const{error:i}=yield r.supabaseService.client.auth.resetPasswordForEmail(e);return i?{success:!1,error:i.message}:{success:!0}}catch(i){return{success:!1,error:i.message}}})()}}return n.\u0275fac=function(e){return new(e||n)(X(RE),X(Rt))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vp=(()=>{class n{constructor(e,r){var i=this;this.supabaseService=e,this.authService=r,this.topicsSubject=new Wt([]),this.snippetsSubject=new Wt([]),this.examsSubject=new Wt([]),this.authService.currentUser.subscribe(function(){var o=g(function*(s){s?yield i.loadAllData():(i.topicsSubject.next([]),i.snippetsSubject.next([]),i.examsSubject.next([]))});return function(s){return o.apply(this,arguments)}}())}loadAllData(){var e=this;return g(function*(){yield Promise.all([e.loadTopicsFromSupabase(),e.loadSnippetsFromSupabase(),e.loadExamsFromSupabase()])})()}getTopics(){return this.topicsSubject.asObservable()}updateTopicStatus(e,r){var i=this;return g(function*(){if(!i.authService.currentUserValue)return;const{error:o}=yield i.supabaseService.client.from("topics").update({status:r,updated_at:(new Date).toISOString()}).eq("id",e).eq("user_id",i.authService.currentUserValue.id);if(o)return void console.error("Error updating topic:",o);const s=i.topicsSubject.value.map(a=>a.id===e?{...a,status:r}:a);i.topicsSubject.next(s)})()}updateSubTopicStatus(e,r,i){var o=this;return g(function*(){if(!o.authService.currentUserValue)return;const{error:s}=yield o.supabaseService.client.from("topics").update({status:i,updated_at:(new Date).toISOString()}).eq("id",r).eq("user_id",o.authService.currentUserValue.id);if(s)return void console.error("Error updating subtopic:",s);const a=o.topicsSubject.value.map(l=>{if(l.id===e&&l.subTopics){const u=l.subTopics.map(c=>c.id===r?{...c,status:i}:c);return{...l,subTopics:u}}return l});o.topicsSubject.next(a)})()}addTopic(e){var r=this;return g(function*(){if(!r.authService.currentUserValue)return;const{error:i}=yield r.supabaseService.client.from("topics").insert({id:e.id,user_id:r.authService.currentUserValue.id,number:e.number,title:e.title,status:e.status,parent_id:null});if(i)return void console.error("Error adding topic:",i);const o=[...r.topicsSubject.value,e];r.topicsSubject.next(o)})()}loadTopicsFromSupabase(){var e=this;return g(function*(){if(!e.authService.currentUserValue)return;const{data:r,error:i}=yield e.supabaseService.client.from("topics").select("*").eq("user_id",e.authService.currentUserValue.id).order("number",{ascending:!0});if(i)return console.error("Error loading topics:",i),void(yield e.initializeDefaultTopics());if(!r||0===r.length)return void(yield e.initializeDefaultTopics());const o=new Map,s=[];r.forEach(a=>{a.parent_id||o.set(a.id,{id:a.id,number:a.number,title:a.title,status:a.status,subTopics:[]})}),r.forEach(a=>{if(a.parent_id){const l=o.get(a.parent_id);l&&(l.subTopics||(l.subTopics=[]),l.subTopics.push({id:a.id,title:a.title,status:a.status}))}}),o.forEach(a=>{s.push(a)}),e.topicsSubject.next(s)})()}initializeDefaultTopics(){var e=this;return g(function*(){if(!e.authService.currentUserValue)return;const r=e.getInitialTopics(),i=[];r.forEach(s=>{i.push({id:s.id,user_id:e.authService.currentUserValue.id,number:s.number,title:s.title,status:s.status,parent_id:null}),s.subTopics&&s.subTopics.forEach(a=>{i.push({id:a.id,user_id:e.authService.currentUserValue.id,number:null,title:a.title,status:a.status,parent_id:s.id})})});const{error:o}=yield e.supabaseService.client.from("topics").insert(i);o?console.error("Error initializing topics:",o):e.topicsSubject.next(r)})()}getSnippets(){return this.snippetsSubject.asObservable()}addSnippet(e){var r=this;return g(function*(){if(!r.authService.currentUserValue)return;const{error:i}=yield r.supabaseService.client.from("code_snippets").insert({id:e.id,user_id:r.authService.currentUserValue.id,topic_id:e.topicId,title:e.title,code:e.code,description:e.description});if(i)return void console.error("Error adding snippet:",i);const o=[...r.snippetsSubject.value,e];r.snippetsSubject.next(o)})()}updateSnippet(e){var r=this;return g(function*(){if(!r.authService.currentUserValue)return;const{error:i}=yield r.supabaseService.client.from("code_snippets").update({topic_id:e.topicId,title:e.title,code:e.code,description:e.description,updated_at:(new Date).toISOString()}).eq("id",e.id).eq("user_id",r.authService.currentUserValue.id);if(i)return void console.error("Error updating snippet:",i);const o=r.snippetsSubject.value.map(s=>s.id===e.id?e:s);r.snippetsSubject.next(o)})()}deleteSnippet(e){var r=this;return g(function*(){if(!r.authService.currentUserValue)return;const{error:i}=yield r.supabaseService.client.from("code_snippets").delete().eq("id",e).eq("user_id",r.authService.currentUserValue.id);if(i)return void console.error("Error deleting snippet:",i);const o=r.snippetsSubject.value.filter(s=>s.id!==e);r.snippetsSubject.next(o)})()}getSnippetsByTopic(e){return this.snippetsSubject.value.filter(r=>r.topicId===e)}loadSnippetsFromSupabase(){var e=this;return g(function*(){if(!e.authService.currentUserValue)return;const{data:r,error:i}=yield e.supabaseService.client.from("code_snippets").select("*").eq("user_id",e.authService.currentUserValue.id).order("created_at",{ascending:!1});if(i)return void console.error("Error loading snippets:",i);const o=(r||[]).map(s=>({id:s.id,topicId:s.topic_id,title:s.title,code:s.code,description:s.description,createdAt:new Date(s.created_at)}));e.snippetsSubject.next(o)})()}getExams(){return this.examsSubject.asObservable()}addExam(e){var r=this;return g(function*(){if(!r.authService.currentUserValue)return;const{error:i}=yield r.supabaseService.client.from("exams").insert({id:e.id,user_id:r.authService.currentUserValue.id,unit:e.unit,topics:e.topics,exam_date:e.examDate.toISOString(),grade:e.grade});if(i)return void console.error("Error adding exam:",i);const o=[...r.examsSubject.value,e];r.examsSubject.next(o)})()}updateExam(e){var r=this;return g(function*(){if(!r.authService.currentUserValue)return;const{error:i}=yield r.supabaseService.client.from("exams").update({unit:e.unit,topics:e.topics,exam_date:e.examDate.toISOString(),grade:e.grade,updated_at:(new Date).toISOString()}).eq("id",e.id).eq("user_id",r.authService.currentUserValue.id);if(i)return void console.error("Error updating exam:",i);const o=r.examsSubject.value.map(s=>s.id===e.id?e:s);r.examsSubject.next(o)})()}deleteExam(e){var r=this;return g(function*(){if(!r.authService.currentUserValue)return;const{error:i}=yield r.supabaseService.client.from("exams").delete().eq("id",e).eq("user_id",r.authService.currentUserValue.id);if(i)return void console.error("Error deleting exam:",i);const o=r.examsSubject.value.filter(s=>s.id!==e);r.examsSubject.next(o)})()}loadExamsFromSupabase(){var e=this;return g(function*(){if(!e.authService.currentUserValue)return;const{data:r,error:i}=yield e.supabaseService.client.from("exams").select("*").eq("user_id",e.authService.currentUserValue.id).order("exam_date",{ascending:!1});if(i)return void console.error("Error loading exams:",i);const o=(r||[]).map(s=>({id:s.id,unit:s.unit,topics:s.topics,examDate:new Date(s.exam_date),grade:s.grade,createdAt:new Date(s.created_at)}));e.examsSubject.next(o)})()}getInitialTopics(){return[{id:"topic-1",number:1,title:"Variables",status:ue.NOT_STARTED},{id:"topic-2",number:2,title:"Condicionales",status:ue.NOT_STARTED,subTopics:[{id:"topic-2-1",title:"Condicionales simples",status:ue.NOT_STARTED},{id:"topic-2-2",title:"Condicionales dobles",status:ue.NOT_STARTED},{id:"topic-2-3",title:"Condicionales dobles complejo",status:ue.NOT_STARTED},{id:"topic-2-4",title:"Switch simple",status:ue.NOT_STARTED},{id:"topic-2-5",title:"Switch complejo",status:ue.NOT_STARTED}]},{id:"topic-3",number:3,title:"Bucles",status:ue.NOT_STARTED,subTopics:[{id:"topic-3-1",title:"For simple",status:ue.NOT_STARTED},{id:"topic-3-2",title:"For complejo",status:ue.NOT_STARTED},{id:"topic-3-3",title:"While simple",status:ue.NOT_STARTED},{id:"topic-3-4",title:"While complejo",status:ue.NOT_STARTED},{id:"topic-3-5",title:"Do while simple",status:ue.NOT_STARTED},{id:"topic-3-6",title:"Do while complejo",status:ue.NOT_STARTED}]},{id:"topic-4",number:4,title:"Funciones",status:ue.NOT_STARTED,subTopics:[{id:"topic-4-1",title:"Funciones simples",status:ue.NOT_STARTED},{id:"topic-4-2",title:"Funciones sin parametros",status:ue.NOT_STARTED},{id:"topic-4-3",title:"Funciones con parametros",status:ue.NOT_STARTED},{id:"topic-4-4",title:"Funciones complejas",status:ue.NOT_STARTED}]},{id:"topic-5",number:5,title:"Tablas",status:ue.NOT_STARTED},{id:"topic-6",number:6,title:"Cadenas",status:ue.NOT_STARTED},{id:"topic-7",number:7,title:"Clases",status:ue.NOT_STARTED},{id:"topic-8",number:8,title:"Herencia",status:ue.NOT_STARTED},{id:"topic-9",number:9,title:"Interfaces",status:ue.NOT_STARTED},{id:"topic-10",number:10,title:"Ficheros",status:ue.NOT_STARTED}]}}return n.\u0275fac=function(e){return new(e||n)(X(RE),X(Uu))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gj(n,t){if(1&n){const e=pr();F(0,"div",16),Te("click",function(){const o=ht(e).$implicit,s=Pe(2).$implicit;return ft(Pe().cycleSubTopicStatus(s.id,o.id,o.status))}),F(1,"span",10),H(2),R(),F(3,"span",17),H(4),R()()}if(2&n){const e=t.$implicit,r=Pe(3);Z(1),Ce("ngClass",r.getStatusClass(e.status)),Z(1),en(" ",r.getStatusIcon(e.status)," "),Z(2),un(e.title)}}function zj(n,t){if(1&n&&(F(0,"div",14),We(1,Gj,5,3,"div",15),R()),2&n){const e=Pe().$implicit;Z(1),Ce("ngForOf",e.subTopics)}}function qj(n,t){if(1&n){const e=pr();F(0,"div",8)(1,"div",9),Te("click",function(){const o=ht(e).$implicit;return ft(Pe().cycleTopicStatus(o.id,o.status))}),F(2,"span",10),H(3),R(),F(4,"span",11),H(5),R(),F(6,"span",12),H(7),R()(),We(8,zj,2,1,"div",13),R()}if(2&n){const e=t.$implicit,r=Pe();Z(2),Ce("ngClass",r.getStatusClass(e.status)),Z(1),en(" ",r.getStatusIcon(e.status)," "),Z(2),en("",e.number,"."),Z(2),un(e.title),Z(1),Ce("ngIf",e.subTopics&&e.subTopics.length>0)}}let Wj=(()=>{class n{constructor(e){this.dataService=e,this.TopicStatus=ue,this.topics$=this.dataService.getTopics()}ngOnInit(){}getStatusIcon(e){switch(e){case ue.COMPLETED:return"\u2713";case ue.IN_PROGRESS:return"\u25cf";default:return"\u25cb"}}getStatusClass(e){switch(e){case ue.COMPLETED:return"completed";case ue.IN_PROGRESS:return"in-progress";default:return"not-started"}}cycleTopicStatus(e,r){var i=this;return g(function*(){let o;switch(r){case ue.NOT_STARTED:o=ue.IN_PROGRESS;break;case ue.IN_PROGRESS:o=ue.COMPLETED;break;default:o=ue.NOT_STARTED}yield i.dataService.updateTopicStatus(e,o)})()}cycleSubTopicStatus(e,r,i){var o=this;return g(function*(){let s;switch(i){case ue.NOT_STARTED:s=ue.IN_PROGRESS;break;case ue.IN_PROGRESS:s=ue.COMPLETED;break;default:s=ue.NOT_STARTED}yield o.dataService.updateSubTopicStatus(e,r,s)})()}}return n.\u0275fac=function(e){return new(e||n)(N(Vp))},n.\u0275cmp=Wr({type:n,selectors:[["app-progress-tracker"]],decls:21,vars:3,consts:[[1,"progress-tracker"],[1,"instructions"],[1,"legend"],[1,"status-icon","not-started"],[1,"status-icon","in-progress"],[1,"status-icon","completed"],[1,"topics-list"],["class","topic-item",4,"ngFor","ngForOf"],[1,"topic-item"],[1,"topic-header",3,"click"],[1,"status-icon",3,"ngClass"],[1,"topic-number"],[1,"topic-title"],["class","subtopics-list",4,"ngIf"],[1,"subtopics-list"],["class","subtopic-item",3,"click",4,"ngFor","ngForOf"],[1,"subtopic-item",3,"click"],[1,"subtopic-title"]],template:function(e,r){1&e&&(F(0,"div",0)(1,"h2"),H(2,"Temario de Java"),R(),F(3,"p",1),H(4,"Haz clic en los simbolos para cambiar el estado:"),R(),F(5,"ul",2)(6,"li")(7,"span",3),H(8,"\u25cb"),R(),H(9," No iniciado"),R(),F(10,"li")(11,"span",4),H(12,"\u25cf"),R(),H(13," En progreso"),R(),F(14,"li")(15,"span",5),H(16,"\u2713"),R(),H(17," Completado"),R()(),F(18,"div",6),We(19,qj,9,5,"div",7),Zn(20,"async"),R()()),2&e&&(Z(19),Ce("ngForOf",Qn(20,1,r.topics$)))},dependencies:[Jw,Bl,Po,Ws],styles:[".progress-tracker[_ngcontent-%COMP%]{background:white;border-radius:12px;padding:2rem;box-shadow:0 2px 8px #0000001a}h2[_ngcontent-%COMP%]{color:#333;margin:0 0 1rem;font-size:1.75rem}.instructions[_ngcontent-%COMP%]{color:#666;margin-bottom:1rem;font-size:.95rem}.legend[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0 0 2rem;display:flex;gap:1.5rem;flex-wrap:wrap;background:#f8f9fa;padding:1rem;border-radius:8px}.legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.9rem;color:#555}.topics-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.topic-item[_ngcontent-%COMP%]{border:2px solid #e0e0e0;border-radius:10px;padding:1rem;background:white;transition:all .3s ease}.topic-item[_ngcontent-%COMP%]:hover{border-color:#667eea;box-shadow:0 4px 12px #667eea1a}.topic-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;cursor:pointer;padding:.5rem;border-radius:8px;transition:background .2s ease;-webkit-user-select:none;user-select:none}.topic-header[_ngcontent-%COMP%]:hover{background:#f8f9fa}.status-icon[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;min-width:30px;text-align:center;transition:transform .2s ease}.topic-header[_ngcontent-%COMP%]:hover   .status-icon[_ngcontent-%COMP%]{transform:scale(1.2)}.status-icon.not-started[_ngcontent-%COMP%]{color:#ccc}.status-icon.in-progress[_ngcontent-%COMP%]{color:orange}.status-icon.completed[_ngcontent-%COMP%]{color:#4caf50}.topic-number[_ngcontent-%COMP%]{font-weight:600;color:#667eea;font-size:1.1rem}.topic-title[_ngcontent-%COMP%]{font-size:1.1rem;color:#333;font-weight:500}.subtopics-list[_ngcontent-%COMP%]{margin-top:.75rem;padding-left:2.5rem;display:flex;flex-direction:column;gap:.5rem}.subtopic-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.5rem;border-radius:6px;cursor:pointer;transition:all .2s ease;-webkit-user-select:none;user-select:none}.subtopic-item[_ngcontent-%COMP%]:hover{background:#f0f0f0}.subtopic-item[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:1.2rem}.subtopic-title[_ngcontent-%COMP%]{color:#555;font-size:.95rem}@media (max-width: 768px){.progress-tracker[_ngcontent-%COMP%]{padding:1rem}.topics-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.legend[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.topic-header[_ngcontent-%COMP%]{flex-wrap:wrap}.subtopics-list[_ngcontent-%COMP%]{padding-left:1.5rem}h2[_ngcontent-%COMP%]{font-size:1.5rem}}"]}),n})();var Kj=k(83);function Jj(n,t){if(1&n&&(F(0,"option",21),H(1),R()),2&n){const e=t.$implicit;Ce("value",e.id),Z(1),en(" ",e.title," ")}}function Zj(n,t){if(1&n){const e=pr();F(0,"div",7)(1,"h3"),H(2),R(),F(3,"div",8)(4,"label",9),H(5,"Tema:"),R(),F(6,"select",10),Te("ngModelChange",function(i){return ht(e),ft(Pe().newSnippet.topicId=i)}),F(7,"option",11),H(8,"Selecciona un tema"),R(),We(9,Jj,2,2,"option",12),Zn(10,"async"),R()(),F(11,"div",8)(12,"label",13),H(13,"Titulo:"),R(),F(14,"input",14),Te("ngModelChange",function(i){return ht(e),ft(Pe().newSnippet.title=i)}),R()(),F(15,"div",8)(16,"label",15),H(17,"Descripcion (opcional):"),R(),F(18,"textarea",16),Te("ngModelChange",function(i){return ht(e),ft(Pe().newSnippet.description=i)}),R()(),F(19,"div",8)(20,"label",17),H(21,"Codigo:"),R(),F(22,"textarea",18),Te("ngModelChange",function(i){return ht(e),ft(Pe().newSnippet.code=i)}),R()(),F(23,"div",19)(24,"button",2),Te("click",function(){ht(e);const i=Pe();return ft(i.editingSnippet?i.updateSnippet():i.addSnippet())}),H(25),R(),F(26,"button",20),Te("click",function(){return ht(e),ft(Pe().hideAddSnippetForm())}),H(27,"Cancelar"),R()()()}if(2&n){const e=Pe();Z(2),en("",e.editingSnippet?"Editar":"Nuevo"," Fragmento de Codigo"),Z(4),Ce("ngModel",e.newSnippet.topicId),Z(3),Ce("ngForOf",e.getAllTopicsAndSubTopics(Qn(10,7,e.topics$))),Z(5),Ce("ngModel",e.newSnippet.title),Z(4),Ce("ngModel",e.newSnippet.description),Z(4),Ce("ngModel",e.newSnippet.code),Z(3),en(" ",e.editingSnippet?"Actualizar":"Guardar"," ")}}function Qj(n,t){1&n&&(F(0,"div",22)(1,"p"),H(2,'No hay fragmentos de codigo aun. Haz clic en "Agregar Fragmento" para empezar.'),R()())}function Yj(n,t){if(1&n&&(F(0,"p",38),H(1),R()),2&n){const e=Pe().$implicit;Z(1),un(e.description)}}function Xj(n,t){if(1&n){const e=pr();F(0,"div",30)(1,"div",31)(2,"div")(3,"h4"),H(4),R()(),F(5,"div",32)(6,"button",33),Te("click",function(){const o=ht(e).$implicit;return ft(Pe(2).editSnippet(o))}),H(7,"\u270f\ufe0f"),R(),F(8,"button",34),Te("click",function(){const o=ht(e).$implicit;return ft(Pe(2).deleteSnippet(o.id))}),H(9,"\u{1f5d1}\ufe0f"),R()()(),We(10,Yj,2,1,"p",35),F(11,"pre",36)(12,"code",37),H(13),R()()()}if(2&n){const e=t.$implicit;Z(4),un(e.title),Z(6),Ce("ngIf",e.description),Z(3),un(e.code)}}function e$(n,t){if(1&n){const e=pr();F(0,"div",23)(1,"div",24),Te("click",function(){const o=ht(e).$implicit;return ft(Pe().toggleGroup(o))}),F(2,"div",25)(3,"span",26),H(4),R(),F(5,"h3"),H(6),R(),F(7,"span",27),H(8),R()()(),F(9,"div",28),We(10,Xj,14,3,"div",29),R()()}if(2&n){const e=t.$implicit;Z(4),un(e.collapsed?"\u25b6":"\u25bc"),Z(2),un(e.topicTitle),Z(2),en("(",e.snippets.length,")"),Z(1),Nr("collapsed",e.collapsed),Z(1),Ce("ngForOf",e.snippets)}}k(428);let t$=(()=>{class n{constructor(e){this.dataService=e,this.showAddForm=!1,this.editingSnippet=null,this.newSnippet={topicId:"",title:"",code:"",description:""},this.snippets$=this.dataService.getSnippets(),this.topics$=this.dataService.getTopics(),this.groupedSnippets$=bf([this.snippets$,this.topics$]).pipe($(([r,i])=>this.groupSnippetsByTopic(r,i)))}ngOnInit(){}ngAfterViewChecked(){setTimeout(()=>{Kj.highlightAll()},0)}groupSnippetsByTopic(e,r){const i=[],o=new Map;r.forEach(a=>{o.set(a.id,`${a.number}. ${a.title}`),a.subTopics&&a.subTopics.forEach(l=>{o.set(l.id,`${a.number}. ${a.title} - ${l.title}`)})});const s=new Map;return e.forEach(a=>{s.has(a.topicId)||s.set(a.topicId,[]),s.get(a.topicId)?.push(a)}),s.forEach((a,l)=>{const u=o.get(l)||"Sin tema";i.push({topicId:l,topicTitle:u,snippets:a.sort((c,d)=>new Date(d.createdAt).getTime()-new Date(c.createdAt).getTime()),collapsed:!1})}),i.sort((a,l)=>a.topicTitle.localeCompare(l.topicTitle))}toggleGroup(e){e.collapsed=!e.collapsed}showAddSnippetForm(){this.showAddForm=!0,this.editingSnippet=null,this.resetNewSnippet()}hideAddSnippetForm(){this.showAddForm=!1,this.resetNewSnippet()}resetNewSnippet(){this.newSnippet={topicId:"",title:"",code:"",description:""}}addSnippet(){var e=this;return g(function*(){if(e.newSnippet.topicId&&e.newSnippet.title&&e.newSnippet.code){const r={id:Date.now().toString(),topicId:e.newSnippet.topicId,title:e.newSnippet.title,code:e.newSnippet.code,description:e.newSnippet.description,createdAt:new Date};yield e.dataService.addSnippet(r),e.hideAddSnippetForm()}})()}editSnippet(e){this.editingSnippet={...e},this.showAddForm=!0,this.newSnippet={topicId:e.topicId,title:e.title,code:e.code,description:e.description}}updateSnippet(){var e=this;return g(function*(){if(e.editingSnippet&&e.newSnippet.topicId&&e.newSnippet.title&&e.newSnippet.code){const r={...e.editingSnippet,topicId:e.newSnippet.topicId,title:e.newSnippet.title,code:e.newSnippet.code,description:e.newSnippet.description};yield e.dataService.updateSnippet(r),e.hideAddSnippetForm(),e.editingSnippet=null}})()}deleteSnippet(e){var r=this;return g(function*(){confirm("\xbfEstas segura de que quieres eliminar este fragmento de codigo?")&&(yield r.dataService.deleteSnippet(e))})()}getAllTopicsAndSubTopics(e){if(!e)return[];const r=[];return e.forEach(i=>{r.push({id:i.id,title:`${i.number}. ${i.title}`,isSubTopic:!1}),i.subTopics&&i.subTopics.forEach(o=>{r.push({id:o.id,title:`  ${i.number}. ${i.title} - ${o.title}`,isSubTopic:!0})})}),r}}return n.\u0275fac=function(e){return new(e||n)(N(Vp))},n.\u0275cmp=Wr({type:n,selectors:[["app-code-snippets"]],decls:12,vars:7,consts:[[1,"code-snippets"],[1,"header"],[1,"btn-primary",3,"click"],["class","snippet-form",4,"ngIf"],[1,"snippets-list"],["class","empty-state",4,"ngIf"],["class","topic-group",4,"ngFor","ngForOf"],[1,"snippet-form"],[1,"form-group"],["for","topic"],["id","topic","required","",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","title"],["type","text","id","title","placeholder","Ej: Ejemplo de if-else","required","",3,"ngModel","ngModelChange"],["for","description"],["id","description","rows","2","placeholder","Breve descripcion del codigo",3,"ngModel","ngModelChange"],["for","code"],["id","code","rows","10","placeholder","Pega tu codigo Java aqui...","required","",3,"ngModel","ngModelChange"],[1,"form-actions"],[1,"btn-secondary",3,"click"],[3,"value"],[1,"empty-state"],[1,"topic-group"],[1,"topic-group-header",3,"click"],[1,"topic-group-title"],[1,"collapse-icon"],[1,"snippet-count"],[1,"topic-group-content"],["class","snippet-card",4,"ngFor","ngForOf"],[1,"snippet-card"],[1,"snippet-header"],[1,"snippet-actions"],["title","Editar",1,"btn-icon",3,"click"],["title","Eliminar",1,"btn-icon",3,"click"],["class","snippet-description",4,"ngIf"],[1,"code-block"],[1,"language-java"],[1,"snippet-description"]],template:function(e,r){if(1&e&&(F(0,"div",0)(1,"div",1)(2,"h2"),H(3,"Fragmentos de Codigo"),R(),F(4,"button",2),Te("click",function(){return r.showAddSnippetForm()}),H(5,"+ Agregar Fragmento"),R()(),We(6,Zj,28,9,"div",3),F(7,"div",4),We(8,Qj,3,0,"div",5),Zn(9,"async"),We(10,e$,11,6,"div",6),Zn(11,"async"),R()()),2&e){let i;Z(6),Ce("ngIf",r.showAddForm),Z(2),Ce("ngIf",0===(null==(i=Qn(9,3,r.groupedSnippets$))?null:i.length)),Z(2),Ce("ngForOf",Qn(11,5,r.groupedSnippets$))}},dependencies:[Bl,Po,AC,MC,Ro,su,Ql,No,ta,Ws],styles:[".code-snippets[_ngcontent-%COMP%]{background:white;border-radius:12px;padding:2rem;box-shadow:0 2px 8px #0000001a}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;flex-wrap:wrap;gap:1rem}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1.75rem}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #667eea4d}.btn-secondary[_ngcontent-%COMP%]{background:#e0e0e0;color:#333}.btn-secondary[_ngcontent-%COMP%]:hover{background:#d0d0d0}.btn-icon[_ngcontent-%COMP%]{background:none;border:none;font-size:1.2rem;cursor:pointer;padding:.5rem;border-radius:6px;transition:all .2s ease}.btn-icon[_ngcontent-%COMP%]:hover{background:#f0f0f0;transform:scale(1.1)}.snippet-form[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.5rem;border-radius:10px;margin-bottom:2rem;border:2px solid #e0e0e0}.snippet-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:#333;font-size:1.3rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#555;font-weight:500;font-size:.95rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;font-family:inherit;transition:border-color .3s ease;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;font-family:Courier New,monospace}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#999}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem}.snippets-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.topic-group[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #e0e0e0;border-radius:12px;overflow:hidden;transition:all .3s ease}.topic-group[_ngcontent-%COMP%]:hover{border-color:#667eea;box-shadow:0 4px 12px #667eea26}.topic-group-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:1rem 1.5rem;cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .2s ease}.topic-group-header[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5568d3 0%,#653a8b 100%)}.topic-group-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.collapse-icon[_ngcontent-%COMP%]{font-size:1rem;transition:transform .3s ease;display:inline-block;min-width:20px}.topic-group-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;font-weight:600;flex:1}.snippet-count[_ngcontent-%COMP%]{font-size:.9rem;opacity:.9;background:rgba(255,255,255,.2);padding:.25rem .75rem;border-radius:12px}.topic-group-content[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column;gap:1rem;max-height:10000px;overflow:hidden;transition:max-height .3s ease,padding .3s ease}.topic-group-content.collapsed[_ngcontent-%COMP%]{max-height:0;padding:0 1rem}.snippet-card[_ngcontent-%COMP%]{background:white;border:2px solid #d0d0d0;border-radius:10px;padding:1.5rem;transition:all .3s ease}.snippet-card[_ngcontent-%COMP%]:hover{border-color:#667eea;box-shadow:0 2px 8px #667eea1a}.snippet-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem;gap:1rem}.snippet-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1.1rem;font-weight:600}.snippet-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.snippet-description[_ngcontent-%COMP%]{color:#666;margin-bottom:1rem;font-size:.95rem;font-style:italic;padding:.75rem;background:#f8f9fa;border-left:3px solid #667eea;border-radius:4px}.code-block[_ngcontent-%COMP%]{background:#ffffff!important;border:2px solid #667eea;border-left:5px solid #667eea;padding:1.5rem;border-radius:8px;overflow-x:auto;font-family:Consolas,Monaco,Courier New,monospace;font-size:.9rem;line-height:1.6;margin:0;box-shadow:0 2px 4px #667eea1a}.code-block[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-family:inherit;background:transparent!important;color:#333}.code-block[_ngcontent-%COMP%]   .token.comment[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.prolog[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.doctype[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.cdata[_ngcontent-%COMP%]{color:#6a737d;font-style:italic}.code-block[_ngcontent-%COMP%]   .token.punctuation[_ngcontent-%COMP%]{color:#24292e}.code-block[_ngcontent-%COMP%]   .token.property[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.tag[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.boolean[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.number[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.constant[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.symbol[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.deleted[_ngcontent-%COMP%]{color:#005cc5}.code-block[_ngcontent-%COMP%]   .token.selector[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.attr-name[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.string[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.char[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.builtin[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.inserted[_ngcontent-%COMP%]{color:#032f62}.code-block[_ngcontent-%COMP%]   .token.operator[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.entity[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.url[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .language-css[_ngcontent-%COMP%]   .token.string[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .style[_ngcontent-%COMP%]   .token.string[_ngcontent-%COMP%]{color:#d73a49}.code-block[_ngcontent-%COMP%]   .token.atrule[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.attr-value[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.keyword[_ngcontent-%COMP%]{color:#d73a49;font-weight:600}.code-block[_ngcontent-%COMP%]   .token.function[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.class-name[_ngcontent-%COMP%]{color:#6f42c1;font-weight:600}.code-block[_ngcontent-%COMP%]   .token.regex[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.important[_ngcontent-%COMP%], .code-block[_ngcontent-%COMP%]   .token.variable[_ngcontent-%COMP%]{color:#e36209}.code-block[_ngcontent-%COMP%]   .token.annotation[_ngcontent-%COMP%]{color:#6f42c1}.code-block[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.code-block[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f0f0f0;border-radius:4px}.code-block[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c0c0c0;border-radius:4px}.code-block[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a0a0a0}@media (max-width: 768px){.code-snippets[_ngcontent-%COMP%]{padding:1rem}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.topic-group-header[_ngcontent-%COMP%]{padding:.75rem 1rem}.topic-group-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.snippet-header[_ngcontent-%COMP%]{flex-direction:column}.snippet-actions[_ngcontent-%COMP%]{justify-content:flex-start}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{width:100%}.code-block[_ngcontent-%COMP%]{font-size:.85rem;padding:1rem}}"]}),n})();function r$(n,t){if(1&n){const e=pr();F(0,"div",7)(1,"h3"),H(2),R(),F(3,"div",8)(4,"label",9),H(5,"Unidad:"),R(),F(6,"input",10),Te("ngModelChange",function(i){return ht(e),ft(Pe().newExam.unit=i)}),R()(),F(7,"div",8)(8,"label",11),H(9,"Temas que entran:"),R(),F(10,"textarea",12),Te("ngModelChange",function(i){return ht(e),ft(Pe().newExam.topics=i)}),R()(),F(11,"div",8)(12,"label",13),H(13,"Fecha del Examen:"),R(),F(14,"input",14),Te("ngModelChange",function(i){return ht(e),ft(Pe().newExam.examDate=i)}),R()(),F(15,"div",8)(16,"label",15),H(17,"Nota (opcional):"),R(),F(18,"input",16),Te("ngModelChange",function(i){return ht(e),ft(Pe().newExam.grade=i)}),R(),F(19,"small"),H(20,"Puedes dejar esto en blanco si aun no has hecho el examen"),R()(),F(21,"div",17)(22,"button",2),Te("click",function(){ht(e);const i=Pe();return ft(i.editingExam?i.updateExam():i.addExam())}),H(23),R(),F(24,"button",18),Te("click",function(){return ht(e),ft(Pe().hideAddExamForm())}),H(25,"Cancelar"),R()()()}if(2&n){const e=Pe();Z(2),en("",e.editingExam?"Editar":"Nuevo"," Examen"),Z(4),Ce("ngModel",e.newExam.unit),Z(4),Ce("ngModel",e.newExam.topics),Z(4),Ce("ngModel",e.newExam.examDate),Z(4),Ce("ngModel",e.newExam.grade),Z(5),en(" ",e.editingExam?"Actualizar":"Guardar"," ")}}function i$(n,t){1&n&&(F(0,"div",19)(1,"p"),H(2,'No hay examenes aun. Haz clic en "Agregar Examen" para empezar.'),R()())}function o$(n,t){1&n&&(F(0,"span",34),H(1,"HOY"),R())}function s$(n,t){1&n&&(F(0,"span",35),H(1,"PR\xd3XIMO"),R())}function a$(n,t){if(1&n&&(F(0,"span"),H(1),R()),2&n){const e=Pe().$implicit,r=Pe(2);Z(1),Gd("",e.grade," - ",r.getStatusText(r.getGradeStatus(e.grade)),"")}}function l$(n,t){1&n&&(F(0,"span"),H(1,"Pendiente"),R())}function u$(n,t){if(1&n){const e=pr();F(0,"tr")(1,"td",22)(2,"strong"),H(3),R(),We(4,o$,2,0,"span",23),We(5,s$,2,0,"span",24),R(),F(6,"td",25),H(7),R(),F(8,"td",26),H(9),R(),F(10,"td",27)(11,"span",28)(12,"span",29),H(13),R(),We(14,a$,2,2,"span",30),We(15,l$,2,0,"span",30),R()(),F(16,"td",31)(17,"button",32),Te("click",function(){const o=ht(e).$implicit;return ft(Pe(2).editExam(o))}),H(18,"\u270f\ufe0f"),R(),F(19,"button",33),Te("click",function(){const o=ht(e).$implicit;return ft(Pe(2).deleteExam(o.id))}),H(20,"\u{1f5d1}\ufe0f"),R()()()}if(2&n){const e=t.$implicit,r=Pe(2);Nr("exam-today",r.isExamToday(e.examDate))("exam-soon",r.isExamSoon(e.examDate))("exam-past",r.isExamPast(e.examDate)&&!e.grade),Z(3),un(e.unit),Z(1),Ce("ngIf",r.isExamToday(e.examDate)),Z(1),Ce("ngIf",r.isExamSoon(e.examDate)),Z(2),un(e.topics),Z(2),un(r.formatDate(e.examDate)),Z(2),vy(r.getGradeStatus(e.grade)),Z(2),un(r.getStatusIcon(r.getGradeStatus(e.grade))),Z(1),Ce("ngIf",null!=e.grade),Z(1),Ce("ngIf",null==e.grade)}}function c$(n,t){if(1&n&&(F(0,"table",20)(1,"thead")(2,"tr")(3,"th"),H(4,"Unidad"),R(),F(5,"th"),H(6,"Temas"),R(),F(7,"th"),H(8,"Fecha"),R(),F(9,"th"),H(10,"Nota"),R(),F(11,"th"),H(12,"Acciones"),R()()(),F(13,"tbody"),We(14,u$,21,16,"tr",21),Zn(15,"async"),R()()),2&n){const e=Pe();Z(14),Ce("ngForOf",Qn(15,1,e.exams$))}}let d$=(()=>{class n{constructor(e){this.dataService=e,this.showAddForm=!1,this.editingExam=null,this.newExam={unit:"",topics:"",examDate:void 0,grade:void 0},this.exams$=this.dataService.getExams()}ngOnInit(){}showAddExamForm(){this.showAddForm=!0,this.editingExam=null,this.resetNewExam()}hideAddExamForm(){this.showAddForm=!1,this.resetNewExam()}resetNewExam(){this.newExam={unit:"",topics:"",examDate:void 0,grade:void 0}}addExam(){var e=this;return g(function*(){if(e.newExam.unit&&e.newExam.topics&&e.newExam.examDate){const r={id:Date.now().toString(),unit:e.newExam.unit,topics:e.newExam.topics,examDate:new Date(e.newExam.examDate),grade:e.newExam.grade,createdAt:new Date};yield e.dataService.addExam(r),e.hideAddExamForm()}})()}editExam(e){this.editingExam={...e},this.showAddForm=!0,this.newExam={unit:e.unit,topics:e.topics,examDate:e.examDate,grade:e.grade}}updateExam(){var e=this;return g(function*(){if(e.editingExam&&e.newExam.unit&&e.newExam.topics&&e.newExam.examDate){const r={...e.editingExam,unit:e.newExam.unit,topics:e.newExam.topics,examDate:new Date(e.newExam.examDate),grade:e.newExam.grade};yield e.dataService.updateExam(r),e.hideAddExamForm(),e.editingExam=null}})()}deleteExam(e){var r=this;return g(function*(){confirm("\xbfEstas segura de que quieres eliminar este examen?")&&(yield r.dataService.deleteExam(e))})()}getGradeStatus(e){return function n$(n){return null==n?"pending":n>=5?"passed":"failed"}(e)}getStatusText(e){switch(e){case"passed":return"Aprobado";case"failed":return"Suspenso";case"pending":return"Pendiente"}}getStatusIcon(e){switch(e){case"passed":return"\u2713";case"failed":return"\u2717";case"pending":return"\u25cb"}}formatDate(e){return new Date(e).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}isExamPast(e){const r=new Date;r.setHours(0,0,0,0);const i=new Date(e);return i.setHours(0,0,0,0),i<r}isExamToday(e){const r=new Date;r.setHours(0,0,0,0);const i=new Date(e);return i.setHours(0,0,0,0),i.getTime()===r.getTime()}isExamSoon(e){const r=new Date;r.setHours(0,0,0,0);const i=new Date(e);i.setHours(0,0,0,0);const s=(i.getTime()-r.getTime())/864e5;return s>0&&s<=7}}return n.\u0275fac=function(e){return new(e||n)(N(Vp))},n.\u0275cmp=Wr({type:n,selectors:[["app-exams"]],decls:12,vars:7,consts:[[1,"exams"],[1,"header"],[1,"btn-primary",3,"click"],["class","exam-form",4,"ngIf"],[1,"exams-table-container"],["class","empty-state",4,"ngIf"],["class","exams-table",4,"ngIf"],[1,"exam-form"],[1,"form-group"],["for","unit"],["type","text","id","unit","placeholder","Ej: Unidad 1","required","",3,"ngModel","ngModelChange"],["for","topics"],["id","topics","rows","3","placeholder","Ej: Variables, Condicionales simples, Condicionales dobles...","required","",3,"ngModel","ngModelChange"],["for","examDate"],["type","date","id","examDate","required","",3,"ngModel","ngModelChange"],["for","grade"],["type","number","id","grade","min","0","max","10","step","0.1","placeholder","Ej: 7.5",3,"ngModel","ngModelChange"],[1,"form-actions"],[1,"btn-secondary",3,"click"],[1,"empty-state"],[1,"exams-table"],[3,"exam-today","exam-soon","exam-past",4,"ngFor","ngForOf"],["data-label","Unidad",1,"unit-cell"],["class","date-badge today",4,"ngIf"],["class","date-badge soon",4,"ngIf"],["data-label","Temas",1,"topics-cell"],["data-label","Fecha",1,"date-cell"],["data-label","Nota",1,"grade-cell"],[1,"grade-badge"],[1,"status-icon"],[4,"ngIf"],["data-label","Acciones",1,"actions-cell"],["title","Editar",1,"btn-icon-small",3,"click"],["title","Eliminar",1,"btn-icon-small",3,"click"],[1,"date-badge","today"],[1,"date-badge","soon"]],template:function(e,r){if(1&e&&(F(0,"div",0)(1,"div",1)(2,"h2"),H(3,"Examenes de Java"),R(),F(4,"button",2),Te("click",function(){return r.showAddExamForm()}),H(5,"+ Agregar Examen"),R()(),We(6,r$,26,6,"div",3),F(7,"div",4),We(8,i$,3,0,"div",5),Zn(9,"async"),We(10,c$,16,3,"table",6),Zn(11,"async"),R()()),2&e){let i,o;Z(6),Ce("ngIf",r.showAddForm),Z(2),Ce("ngIf",0===(null==(i=Qn(9,3,r.exams$))?null:i.length)),Z(2),Ce("ngIf",(null==(o=Qn(11,5,r.exams$))?null:o.length)>0)}},dependencies:[Bl,Po,Ro,ff,Ql,No,vf,yf,ta,Ws],styles:[".exams[_ngcontent-%COMP%]{background:white;border-radius:12px;padding:2rem;box-shadow:0 2px 8px #0000001a}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;flex-wrap:wrap;gap:1rem}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1.75rem}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #667eea4d}.btn-secondary[_ngcontent-%COMP%]{background:#e0e0e0;color:#333}.btn-secondary[_ngcontent-%COMP%]:hover{background:#d0d0d0}.btn-icon-small[_ngcontent-%COMP%]{background:none;border:none;font-size:1rem;cursor:pointer;padding:.25rem .5rem;border-radius:4px;transition:all .2s ease}.btn-icon-small[_ngcontent-%COMP%]:hover{background:#f0f0f0;transform:scale(1.1)}.exam-form[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.5rem;border-radius:10px;margin-bottom:2rem;border:2px solid #e0e0e0}.exam-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:#333;font-size:1.3rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#555;font-weight:500;font-size:.95rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;font-family:inherit;transition:border-color .3s ease;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.form-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-top:.5rem;color:#777;font-size:.85rem;font-style:italic}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#999}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem}.exams-table-container[_ngcontent-%COMP%]{overflow-x:auto}.exams-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:white;border-radius:8px;overflow:hidden;box-shadow:0 1px 3px #0000001a}.exams-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff}.exams-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem;text-align:left;font-weight:600;font-size:.95rem;text-transform:uppercase;letter-spacing:.5px}.exams-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0;transition:background .2s ease}.exams-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.exams-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.exams-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem;vertical-align:middle}.exams-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.exam-today[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(244,67,54,.1) 0%,white 20%);border-left:4px solid #f44336}.exams-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.exam-soon[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,152,0,.1) 0%,white 20%);border-left:4px solid #ff9800}.exams-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.exam-past[_ngcontent-%COMP%]{opacity:.6}.unit-cell[_ngcontent-%COMP%]{font-size:1rem;min-width:120px}.unit-cell[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#333;margin-bottom:.25rem}.topics-cell[_ngcontent-%COMP%]{max-width:400px;color:#555;font-size:.9rem;line-height:1.4}.date-cell[_ngcontent-%COMP%]{white-space:nowrap;color:#666;font-size:.9rem;min-width:100px}.grade-cell[_ngcontent-%COMP%]{text-align:center;min-width:80px}.actions-cell[_ngcontent-%COMP%]{text-align:right;white-space:nowrap;min-width:80px}.grade-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.4rem .9rem;border-radius:20px;font-weight:600;font-size:.9rem}.grade-badge.passed[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4caf50 0%,#45a049 100%);color:#fff}.grade-badge.failed[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f44336 0%,#e53935 100%);color:#fff}.grade-badge.pending[_ngcontent-%COMP%]{background:#f0f0f0;color:#999;border:1px solid #ddd}.status-icon[_ngcontent-%COMP%]{font-size:1rem}.date-badge[_ngcontent-%COMP%]{display:inline-block;padding:.2rem .6rem;border-radius:10px;font-size:.7rem;font-weight:700;text-transform:uppercase;margin-left:.5rem;vertical-align:middle}.date-badge.today[_ngcontent-%COMP%]{background:#f44336;color:#fff}.date-badge.soon[_ngcontent-%COMP%]{background:#ff9800;color:#fff}@media (max-width: 768px){.exams[_ngcontent-%COMP%]{padding:1rem}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{width:100%}.exams-table-container[_ngcontent-%COMP%]{overflow-x:visible}.exams-table[_ngcontent-%COMP%]{border:none;box-shadow:none}.exams-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.exams-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.exams-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block;background:white;border:2px solid #e0e0e0;border-radius:12px;padding:1rem;box-shadow:0 2px 8px #0000001a;margin-bottom:0}.exams-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.exam-today[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgba(244,67,54,.1) 0%,white 30%);border-left:2px solid #f44336;border-top:4px solid #f44336}.exams-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.exam-soon[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgba(255,152,0,.1) 0%,white 30%);border-left:2px solid #ff9800;border-top:4px solid #ff9800}.exams-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:white;border-color:#667eea}.exams-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.exam-today[_ngcontent-%COMP%]:hover{background:linear-gradient(180deg,rgba(244,67,54,.15) 0%,white 30%);border-top-color:#f44336}.exams-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.exam-soon[_ngcontent-%COMP%]:hover{background:linear-gradient(180deg,rgba(255,152,0,.15) 0%,white 30%);border-top-color:#ff9800}.exams-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;text-align:left!important;padding:.75rem 0;border-bottom:1px solid #f0f0f0;position:relative}.exams-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom:none}.exams-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:600;color:#667eea;display:block;margin-bottom:.5rem;font-size:.85rem;text-transform:uppercase;letter-spacing:.5px}.unit-cell[_ngcontent-%COMP%], .topics-cell[_ngcontent-%COMP%], .date-cell[_ngcontent-%COMP%], .grade-cell[_ngcontent-%COMP%], .actions-cell[_ngcontent-%COMP%]{max-width:100%;min-width:auto}.unit-cell[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:1.1rem;color:#333}.topics-cell[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.5}.date-cell[_ngcontent-%COMP%]{font-size:.95rem}.grade-cell[_ngcontent-%COMP%]{text-align:left!important}.grade-badge[_ngcontent-%COMP%]{display:inline-flex;margin-top:.25rem}.actions-cell[_ngcontent-%COMP%]{text-align:left!important}.actions-cell[_ngcontent-%COMP%]   .btn-icon-small[_ngcontent-%COMP%]{margin-right:.5rem}.date-badge[_ngcontent-%COMP%]{margin-left:.5rem}}"]}),n})();function h$(n,t){if(1&n){const e=pr();F(0,"div",8)(1,"label",18),H(2,"Nombre:"),R(),F(3,"input",19),Te("ngModelChange",function(i){return ht(e),ft(Pe().username=i)}),R(),F(4,"small"),H(5,"Este nombre aparecer\xe1 en tu perfil"),R()()}if(2&n){const e=Pe();Z(3),Ce("ngModel",e.username)}}function f$(n,t){1&n&&(F(0,"small"),H(1,"M\xednimo 6 caracteres"),R())}function p$(n,t){if(1&n&&(F(0,"div",20),H(1),R()),2&n){const e=Pe();Z(1),en(" ",e.errorMessage," ")}}function g$(n,t){if(1&n&&(F(0,"div",21),H(1),R()),2&n){const e=Pe();Z(1),en(" ",e.successMessage," ")}}function m$(n,t){if(1&n&&(F(0,"span"),H(1),R()),2&n){const e=Pe();Z(1),un(e.isSignUp?"Crear Cuenta":"Entrar")}}function _$(n,t){1&n&&(F(0,"span"),H(1,"Cargando..."),R())}function y$(n,t){1&n&&(F(0,"div",22)(1,"p",23),H(2," Usa este sistema para seguir tu progreso en Java."),ti(3,"br"),H(4," Tus datos se sincronizan autom\xe1ticamente en todos tus dispositivos. "),R()())}function v$(n,t){1&n&&(F(0,"div",22)(1,"p",23),H(2," Al crear una cuenta, podr\xe1s:"),ti(3,"br"),H(4," \u2713 Guardar tu progreso en la nube"),ti(5,"br"),H(6," \u2713 Acceder desde cualquier dispositivo"),ti(7,"br"),H(8," \u2713 No perder nunca tus datos "),R()())}let w$=(()=>{class n{constructor(e){this.authService=e,this.email="",this.password="",this.username="",this.isSignUp=!1,this.loading=!1,this.errorMessage="",this.successMessage=""}signIn(){var e=this;return g(function*(){if(!e.email||!e.password)return void(e.errorMessage="Por favor completa todos los campos");e.loading=!0,e.errorMessage="",e.successMessage="";const r=yield e.authService.signIn(e.email,e.password);e.loading=!1,r.success||(e.errorMessage=e.translateError(r.error||"Error al iniciar sesi\xf3n"))})()}signUp(){var e=this;return g(function*(){if(!e.email||!e.password||!e.username)return void(e.errorMessage="Por favor completa todos los campos");if(e.password.length<6)return void(e.errorMessage="La contrase\xf1a debe tener al menos 6 caracteres");if(e.username.length<2)return void(e.errorMessage="El nombre debe tener al menos 2 caracteres");e.loading=!0,e.errorMessage="",e.successMessage="";const r=yield e.authService.signUp(e.email,e.password,e.username);e.loading=!1,r.success?(e.successMessage="Cuenta creada! Revisa tu email para confirmar tu cuenta.",e.email="",e.password="",e.username="",setTimeout(()=>{e.isSignUp=!1,e.successMessage=""},3e3)):e.errorMessage=e.translateError(r.error||"Error al crear cuenta")})()}translateError(e){return e.includes("Invalid login credentials")?"Email o contrase\xf1a incorrectos":e.includes("User already registered")?"Este email ya est\xe1 registrado":e.includes("Email not confirmed")?"Por favor confirma tu email antes de iniciar sesi\xf3n":e.includes("Invalid email")?"Email inv\xe1lido":e}}return n.\u0275fac=function(e){return new(e||n)(N(Uu))},n.\u0275cmp=Wr({type:n,selectors:[["app-login"]],decls:30,vars:15,consts:[[1,"login-container"],[1,"login-card"],[1,"logo"],[1,"subtitle"],[1,"tabs"],[1,"tab",3,"click"],[3,"ngSubmit"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","placeholder","tu@email.com","required","","autocomplete","email",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","","autocomplete","current-password","minlength","6",3,"ngModel","ngModelChange"],[4,"ngIf"],["class","error-message",4,"ngIf"],["class","success-message",4,"ngIf"],["type","submit",1,"btn-submit",3,"disabled"],["class","extra-info",4,"ngIf"],["for","username"],["type","text","id","username","name","username","placeholder","Tu nombre","required","","autocomplete","name",3,"ngModel","ngModelChange"],[1,"error-message"],[1,"success-message"],[1,"extra-info"],[1,"help-text"]],template:function(e,r){1&e&&(F(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),H(4,"MyJavaTrack"),R(),F(5,"p",3),H(6,"Seguimiento de progreso en Java"),R()(),F(7,"div",4)(8,"button",5),Te("click",function(){return r.isSignUp=!1}),H(9," Iniciar Sesi\xf3n "),R(),F(10,"button",5),Te("click",function(){return r.isSignUp=!0}),H(11," Registrarse "),R()(),F(12,"form",6),Te("ngSubmit",function(){return r.isSignUp?r.signUp():r.signIn()}),We(13,h$,6,1,"div",7),F(14,"div",8)(15,"label",9),H(16,"Email:"),R(),F(17,"input",10),Te("ngModelChange",function(o){return r.email=o}),R()(),F(18,"div",8)(19,"label",11),H(20,"Contrase\xf1a:"),R(),F(21,"input",12),Te("ngModelChange",function(o){return r.password=o}),R(),We(22,f$,2,0,"small",13),R(),We(23,p$,2,1,"div",14),We(24,g$,2,1,"div",15),F(25,"button",16),We(26,m$,2,1,"span",13),We(27,_$,2,0,"span",13),R()(),We(28,y$,5,0,"div",17),We(29,v$,9,0,"div",17),R()()),2&e&&(Z(8),Nr("active",!r.isSignUp),Z(2),Nr("active",r.isSignUp),Z(3),Ce("ngIf",r.isSignUp),Z(4),Ce("ngModel",r.email),Z(4),Ce("ngModel",r.password),Z(1),Ce("ngIf",r.isSignUp),Z(1),Ce("ngIf",r.errorMessage),Z(1),Ce("ngIf",r.successMessage),Z(1),Ce("disabled",r.loading),Z(1),Ce("ngIf",!r.loading),Z(1),Ce("ngIf",r.loading),Z(1),Ce("ngIf",!r.isSignUp),Z(1),Ce("ngIf",r.isSignUp))},dependencies:[Po,_C,Ro,Ql,eC,No,wf,ta,ou],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);padding:2rem}.login-card[_ngcontent-%COMP%]{background:white;border-radius:16px;padding:3rem;box-shadow:0 20px 60px #0000004d;max-width:450px;width:100%}.logo[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#667eea;font-size:2rem;font-weight:700}.subtitle[_ngcontent-%COMP%]{margin:0;color:#764ba2;font-size:1.2rem;font-weight:500}.tabs[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:2rem;background:#f5f5f5;padding:.25rem;border-radius:10px}.tab[_ngcontent-%COMP%]{flex:1;padding:.75rem;border:none;background:transparent;color:#666;font-size:1rem;font-weight:500;border-radius:8px;cursor:pointer;transition:all .3s ease}.tab.active[_ngcontent-%COMP%]{background:white;color:#667eea;box-shadow:0 2px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#333;font-weight:500;font-size:.95rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.875rem;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;transition:border-color .3s ease;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.form-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-top:.5rem;color:#999;font-size:.85rem}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:.875rem;border-radius:8px;margin-bottom:1rem;font-size:.95rem;border-left:4px solid #c33}.success-message[_ngcontent-%COMP%]{background:#efe;color:#2a2;padding:.875rem;border-radius:8px;margin-bottom:1rem;font-size:.95rem;border-left:4px solid #2a2}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border:none;border-radius:8px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea66}.btn-submit[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.extra-info[_ngcontent-%COMP%]{margin-top:2rem;padding-top:1.5rem;border-top:1px solid #e0e0e0}.help-text[_ngcontent-%COMP%]{text-align:center;color:#666;font-size:.9rem;line-height:1.6;margin:0}@media (max-width: 768px){.login-container[_ngcontent-%COMP%]{padding:1rem}.login-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.subtitle[_ngcontent-%COMP%]{font-size:1rem}}"]}),n})(),jp=(()=>{class n{constructor(e,r){this.authService=e,this.router=r}canActivate(e,r){return!!this.authService.isLoggedIn||this.router.createUrlTree(["/login"])}}return n.\u0275fac=function(e){return new(e||n)(X(Uu),X(Rt))},n.\u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const b$=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:w$},{path:"progress",component:Wj,canActivate:[jp]},{path:"code-snippets",component:t$,canActivate:[jp]},{path:"exams",component:d$,canActivate:[jp]}];let C$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lr({type:n}),n.\u0275inj=Un({imports:[W0.forRoot(b$),W0]}),n})();function E$(n,t){if(1&n&&(F(0,"span"),H(1),R()),2&n){const e=t.ngIf;Z(1),en(" - ",e.username,"")}}function D$(n,t){if(1&n){const e=pr();F(0,"header")(1,"div",2)(2,"h1"),H(3,"Mi avance en Java"),We(4,E$,2,1,"span",1),Zn(5,"async"),R(),F(6,"button",3),Te("click",function(){return ht(e),ft(Pe().logout())}),H(7," Salir "),R()(),F(8,"nav")(9,"a",4),H(10,"Seguimiento de Progreso"),R(),F(11,"a",5),H(12,"Fragmentos de Codigo"),R(),F(13,"a",6),H(14,"Examenes"),R()()()}if(2&n){const e=Pe();Z(4),Ce("ngIf",Qn(5,1,e.currentProfile$))}}let S$=(()=>{class n{constructor(e){this.authService=e,this.title="java-progress-tracker",this.currentUser$=this.authService.currentUser,this.currentProfile$=this.authService.currentProfile}logout(){var e=this;return g(function*(){yield e.authService.signOut()})()}}return n.\u0275fac=function(e){return new(e||n)(N(Uu))},n.\u0275cmp=Wr({type:n,selectors:[["app-root"]],decls:6,vars:7,consts:[[1,"container"],[4,"ngIf"],[1,"header-content"],["title","Cerrar sesi\xf3n",1,"btn-logout",3,"click"],["routerLink","/progress","routerLinkActive","active"],["routerLink","/code-snippets","routerLinkActive","active"],["routerLink","/exams","routerLinkActive","active"]],template:function(e,r){1&e&&(F(0,"div",0),Zn(1,"async"),We(2,D$,15,3,"header",1),Zn(3,"async"),F(4,"main"),ti(5,"router-outlet"),R()()),2&e&&(Nr("no-header",!Qn(1,3,r.currentUser$)),Z(2),Ce("ngIf",Qn(3,5,r.currentUser$)))},dependencies:[Po,$f,Tu,j0,Ws],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0;min-height:100vh;background-color:#f5f5f5}.container.no-header[_ngcontent-%COMP%]{background-color:transparent;max-width:100%}header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:2rem;box-shadow:0 4px 6px #0000001a}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:2rem;font-weight:600}.btn-logout[_ngcontent-%COMP%]{padding:.5rem 1.25rem;background:rgba(255,255,255,.2);color:#fff;border:2px solid white;border-radius:8px;font-size:.95rem;font-weight:500;cursor:pointer;transition:all .3s ease}.btn-logout[_ngcontent-%COMP%]:hover{background:white;color:#667eea;transform:translateY(-2px)}nav[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;flex-wrap:wrap}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:.75rem 1.5rem;border-radius:8px;background:rgba(255,255,255,.1);transition:all .3s ease;font-weight:500;border:2px solid transparent}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2);transform:translateY(-2px)}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:white;color:#667eea;border-color:#fff;font-weight:600}main[_ngcontent-%COMP%]{padding:2rem}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center}.btn-logout[_ngcontent-%COMP%]{width:100%}nav[_ngcontent-%COMP%]{flex-direction:column}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center}main[_ngcontent-%COMP%]{padding:1rem}}"]}),n})(),A$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=lr({type:n,bootstrap:[S$]}),n.\u0275inj=Un({imports:[G1,C$,nN]}),n})();(function iP(){Dw=!1})(),H1().bootstrapModule(A$).catch(n=>console.error(n))},369:(nt,pe,k)=>{"use strict";var z=k(156).default;Object.defineProperty(pe,"__esModule",{value:!0});const Oe=k(582).__importDefault(k(839));pe.default=class Fe{constructor(D){var A,W;this.shouldThrowOnError=!1,this.method=D.method,this.url=D.url,this.headers=new Headers(D.headers),this.schema=D.schema,this.body=D.body,this.shouldThrowOnError=null!==(A=D.shouldThrowOnError)&&void 0!==A&&A,this.signal=D.signal,this.isMaybeSingle=null!==(W=D.isMaybeSingle)&&void 0!==W&&W,this.fetch=D.fetch?D.fetch:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(D,A){return this.headers=new Headers(this.headers),this.headers.set(D,A),this}then(D,A){var W=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let ge=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var _e=z(function*(De){var Ie,me,Ue,T;let E=null,V=null,G=null,B=De.status,Q=De.statusText;if(De.ok){if("HEAD"!==W.method){const Ge=yield De.text();""===Ge||(V="text/csv"===W.headers.get("Accept")||W.headers.get("Accept")&&(null===(Ie=W.headers.get("Accept"))||void 0===Ie?void 0:Ie.includes("application/vnd.pgrst.plan+text"))?Ge:JSON.parse(Ge))}const Y=null===(me=W.headers.get("Prefer"))||void 0===me?void 0:me.match(/count=(exact|planned|estimated)/),Ne=null===(Ue=De.headers.get("content-range"))||void 0===Ue?void 0:Ue.split("/");Y&&Ne&&Ne.length>1&&(G=parseInt(Ne[1])),W.isMaybeSingle&&"GET"===W.method&&Array.isArray(V)&&(V.length>1?(E={code:"PGRST116",details:`Results contain ${V.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},V=null,G=null,B=406,Q="Not Acceptable"):V=1===V.length?V[0]:null)}else{const Y=yield De.text();try{E=JSON.parse(Y),Array.isArray(E)&&404===De.status&&(V=[],E=null,B=200,Q="OK")}catch{404===De.status&&""===Y?(B=204,Q="No Content"):E={message:Y}}if(E&&W.isMaybeSingle&&(null===(T=E?.details)||void 0===T?void 0:T.includes("0 rows"))&&(E=null,B=200,Q="OK"),E&&W.shouldThrowOnError)throw new Oe.default(E)}return{error:E,data:V,count:G,status:B,statusText:Q}});return function(De){return _e.apply(this,arguments)}}());return this.shouldThrowOnError||(ge=ge.catch(_e=>{var De,Ie,me;return{error:{message:`${null!==(De=_e?.name)&&void 0!==De?De:"FetchError"}: ${_e?.message}`,details:`${null!==(Ie=_e?.stack)&&void 0!==Ie?Ie:""}`,hint:"",code:`${null!==(me=_e?.code)&&void 0!==me?me:""}`},data:null,count:null,status:0,statusText:""}})),ge.then(D,A)}returns(){return this}overrideTypes(){return this}}},851:(nt,pe,k)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});const z=k(582),se=z.__importDefault(k(241)),Oe=z.__importDefault(k(105));class Fe{constructor(D,{headers:A={},schema:W,fetch:te}={}){this.url=D,this.headers=new Headers(A),this.schemaName=W,this.fetch=te}from(D){const A=new URL(`${this.url}/${D}`);return new se.default(A,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(D){return new Fe(this.url,{headers:this.headers,schema:D,fetch:this.fetch})}rpc(D,A={},{head:W=!1,get:te=!1,count:ge}={}){var _e;let De;const Ie=new URL(`${this.url}/rpc/${D}`);let me;W||te?(De=W?"HEAD":"GET",Object.entries(A).filter(([T,E])=>void 0!==E).map(([T,E])=>[T,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([T,E])=>{Ie.searchParams.append(T,E)})):(De="POST",me=A);const Ue=new Headers(this.headers);return ge&&Ue.set("Prefer",`count=${ge}`),new Oe.default({method:De,url:Ie,headers:Ue,schema:this.schemaName,body:me,fetch:null!==(_e=this.fetch)&&void 0!==_e?_e:fetch})}}pe.default=Fe},839:(nt,pe)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});class k extends Error{constructor(se){super(se.message),this.name="PostgrestError",this.details=se.details,this.hint=se.hint,this.code=se.code}}pe.default=k},105:(nt,pe,k)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});const se=k(582).__importDefault(k(594)),Oe=new RegExp("[,()]");pe.default=class Fe extends se.default{eq(D,A){return this.url.searchParams.append(D,`eq.${A}`),this}neq(D,A){return this.url.searchParams.append(D,`neq.${A}`),this}gt(D,A){return this.url.searchParams.append(D,`gt.${A}`),this}gte(D,A){return this.url.searchParams.append(D,`gte.${A}`),this}lt(D,A){return this.url.searchParams.append(D,`lt.${A}`),this}lte(D,A){return this.url.searchParams.append(D,`lte.${A}`),this}like(D,A){return this.url.searchParams.append(D,`like.${A}`),this}likeAllOf(D,A){return this.url.searchParams.append(D,`like(all).{${A.join(",")}}`),this}likeAnyOf(D,A){return this.url.searchParams.append(D,`like(any).{${A.join(",")}}`),this}ilike(D,A){return this.url.searchParams.append(D,`ilike.${A}`),this}ilikeAllOf(D,A){return this.url.searchParams.append(D,`ilike(all).{${A.join(",")}}`),this}ilikeAnyOf(D,A){return this.url.searchParams.append(D,`ilike(any).{${A.join(",")}}`),this}is(D,A){return this.url.searchParams.append(D,`is.${A}`),this}in(D,A){const W=Array.from(new Set(A)).map(te=>"string"==typeof te&&Oe.test(te)?`"${te}"`:`${te}`).join(",");return this.url.searchParams.append(D,`in.(${W})`),this}contains(D,A){return"string"==typeof A?this.url.searchParams.append(D,`cs.${A}`):Array.isArray(A)?this.url.searchParams.append(D,`cs.{${A.join(",")}}`):this.url.searchParams.append(D,`cs.${JSON.stringify(A)}`),this}containedBy(D,A){return"string"==typeof A?this.url.searchParams.append(D,`cd.${A}`):Array.isArray(A)?this.url.searchParams.append(D,`cd.{${A.join(",")}}`):this.url.searchParams.append(D,`cd.${JSON.stringify(A)}`),this}rangeGt(D,A){return this.url.searchParams.append(D,`sr.${A}`),this}rangeGte(D,A){return this.url.searchParams.append(D,`nxl.${A}`),this}rangeLt(D,A){return this.url.searchParams.append(D,`sl.${A}`),this}rangeLte(D,A){return this.url.searchParams.append(D,`nxr.${A}`),this}rangeAdjacent(D,A){return this.url.searchParams.append(D,`adj.${A}`),this}overlaps(D,A){return this.url.searchParams.append(D,"string"==typeof A?`ov.${A}`:`ov.{${A.join(",")}}`),this}textSearch(D,A,{config:W,type:te}={}){let ge="";return"plain"===te?ge="pl":"phrase"===te?ge="ph":"websearch"===te&&(ge="w"),this.url.searchParams.append(D,`${ge}fts${void 0===W?"":`(${W})`}.${A}`),this}match(D){return Object.entries(D).forEach(([A,W])=>{this.url.searchParams.append(A,`eq.${W}`)}),this}not(D,A,W){return this.url.searchParams.append(D,`not.${A}.${W}`),this}or(D,{foreignTable:A,referencedTable:W=A}={}){return this.url.searchParams.append(W?`${W}.or`:"or",`(${D})`),this}filter(D,A,W){return this.url.searchParams.append(D,`${A}.${W}`),this}}},241:(nt,pe,k)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});const se=k(582).__importDefault(k(105));pe.default=class Oe{constructor(M,{headers:D={},schema:A,fetch:W}){this.url=M,this.headers=new Headers(D),this.schema=A,this.fetch=W}select(M,D){const{head:A=!1,count:W}=D??{},te=A?"HEAD":"GET";let ge=!1;const _e=(M??"*").split("").map(De=>/\s/.test(De)&&!ge?"":('"'===De&&(ge=!ge),De)).join("");return this.url.searchParams.set("select",_e),W&&this.headers.append("Prefer",`count=${W}`),new se.default({method:te,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(M,{count:D,defaultToNull:A=!0}={}){var W;if(D&&this.headers.append("Prefer",`count=${D}`),A||this.headers.append("Prefer","missing=default"),Array.isArray(M)){const ge=M.reduce((_e,De)=>_e.concat(Object.keys(De)),[]);if(ge.length>0){const _e=[...new Set(ge)].map(De=>`"${De}"`);this.url.searchParams.set("columns",_e.join(","))}}return new se.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:M,fetch:null!==(W=this.fetch)&&void 0!==W?W:fetch})}upsert(M,{onConflict:D,ignoreDuplicates:A=!1,count:W,defaultToNull:te=!0}={}){var ge;if(this.headers.append("Prefer",`resolution=${A?"ignore":"merge"}-duplicates`),void 0!==D&&this.url.searchParams.set("on_conflict",D),W&&this.headers.append("Prefer",`count=${W}`),te||this.headers.append("Prefer","missing=default"),Array.isArray(M)){const De=M.reduce((Ie,me)=>Ie.concat(Object.keys(me)),[]);if(De.length>0){const Ie=[...new Set(De)].map(me=>`"${me}"`);this.url.searchParams.set("columns",Ie.join(","))}}return new se.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:M,fetch:null!==(ge=this.fetch)&&void 0!==ge?ge:fetch})}update(M,{count:D}={}){var A;return D&&this.headers.append("Prefer",`count=${D}`),new se.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:M,fetch:null!==(A=this.fetch)&&void 0!==A?A:fetch})}delete({count:M}={}){var D;return M&&this.headers.append("Prefer",`count=${M}`),new se.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(D=this.fetch)&&void 0!==D?D:fetch})}}},594:(nt,pe,k)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});const se=k(582).__importDefault(k(369));pe.default=class Oe extends se.default{select(M){let D=!1;const A=(M??"*").split("").map(W=>/\s/.test(W)&&!D?"":('"'===W&&(D=!D),W)).join("");return this.url.searchParams.set("select",A),this.headers.append("Prefer","return=representation"),this}order(M,{ascending:D=!0,nullsFirst:A,foreignTable:W,referencedTable:te=W}={}){const ge=te?`${te}.order`:"order",_e=this.url.searchParams.get(ge);return this.url.searchParams.set(ge,`${_e?`${_e},`:""}${M}.${D?"asc":"desc"}${void 0===A?"":A?".nullsfirst":".nullslast"}`),this}limit(M,{foreignTable:D,referencedTable:A=D}={}){return this.url.searchParams.set(typeof A>"u"?"limit":`${A}.limit`,`${M}`),this}range(M,D,{foreignTable:A,referencedTable:W=A}={}){const ge=typeof W>"u"?"limit":`${W}.limit`;return this.url.searchParams.set(typeof W>"u"?"offset":`${W}.offset`,`${M}`),this.url.searchParams.set(ge,""+(D-M+1)),this}abortSignal(M){return this.signal=M,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.headers.set("Accept","GET"===this.method?"application/json":"application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:M=!1,verbose:D=!1,settings:A=!1,buffers:W=!1,wal:te=!1,format:ge="text"}={}){var _e;const De=[M?"analyze":null,D?"verbose":null,A?"settings":null,W?"buffers":null,te?"wal":null].filter(Boolean).join("|"),Ie=null!==(_e=this.headers.get("Accept"))&&void 0!==_e?_e:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${ge}; for="${Ie}"; options=${De};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(M){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${M}`),this}}},358:(nt,pe,k)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0}),pe.PostgrestError=pe.PostgrestBuilder=pe.PostgrestTransformBuilder=pe.PostgrestFilterBuilder=pe.PostgrestQueryBuilder=pe.PostgrestClient=void 0;const z=k(582),se=z.__importDefault(k(851));pe.PostgrestClient=se.default;const Oe=z.__importDefault(k(241));pe.PostgrestQueryBuilder=Oe.default;const Fe=z.__importDefault(k(105));pe.PostgrestFilterBuilder=Fe.default;const M=z.__importDefault(k(594));pe.PostgrestTransformBuilder=M.default;const D=z.__importDefault(k(369));pe.PostgrestBuilder=D.default;const A=z.__importDefault(k(839));pe.PostgrestError=A.default,pe.default={PostgrestClient:se.default,PostgrestQueryBuilder:Oe.default,PostgrestFilterBuilder:Fe.default,PostgrestTransformBuilder:M.default,PostgrestBuilder:D.default,PostgrestError:A.default}},428:()=>{var nt,pe,k,z;nt=Prism,pe=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,k=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,z={pattern:RegExp(/(^|[^\w.])/.source+k+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}},nt.languages.java=nt.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[z,{pattern:RegExp(/(^|[^\w.])/.source+k+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:z.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+k+/[A-Z]\w*\b/.source),lookbehind:!0,inside:z.inside}],keyword:pe,function:[nt.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),nt.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),nt.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":z,keyword:pe,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+k+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:z.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+k+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:z.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return pe.source})),lookbehind:!0,inside:{punctuation:/\./}}})},83:nt=>{var k=function(z){var se=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,Oe=0,Fe={},M={manual:z.Prism&&z.Prism.manual,disableWorkerMessageHandler:z.Prism&&z.Prism.disableWorkerMessageHandler,util:{encode:function T(E){return E instanceof D?new D(E.type,T(E.content),E.alias):Array.isArray(E)?E.map(T):E.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(T){return Object.prototype.toString.call(T).slice(8,-1)},objId:function(T){return T.__id||Object.defineProperty(T,"__id",{value:++Oe}),T.__id},clone:function T(E,V){var G,B;switch(V=V||{},M.util.type(E)){case"Object":if(B=M.util.objId(E),V[B])return V[B];for(var Q in V[B]=G={},E)E.hasOwnProperty(Q)&&(G[Q]=T(E[Q],V));return G;case"Array":return B=M.util.objId(E),V[B]?V[B]:(V[B]=G=[],E.forEach(function(Se,Y){G[Y]=T(Se,V)}),G);default:return E}},getLanguage:function(T){for(;T;){var E=se.exec(T.className);if(E)return E[1].toLowerCase();T=T.parentElement}return"none"},setLanguage:function(T,E){T.className=T.className.replace(RegExp(se,"gi"),""),T.classList.add("language-"+E)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&"SCRIPT"===document.currentScript.tagName)return document.currentScript;try{throw new Error}catch(G){var T=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(G.stack)||[])[1];if(T){var E=document.getElementsByTagName("script");for(var V in E)if(E[V].src==T)return E[V]}return null}},isActive:function(T,E,V){for(var G="no-"+E;T;){var B=T.classList;if(B.contains(E))return!0;if(B.contains(G))return!1;T=T.parentElement}return!!V}},languages:{plain:Fe,plaintext:Fe,text:Fe,txt:Fe,extend:function(T,E){var V=M.util.clone(M.languages[T]);for(var G in E)V[G]=E[G];return V},insertBefore:function(T,E,V,G){var B=(G=G||M.languages)[T],Q={};for(var Se in B)if(B.hasOwnProperty(Se)){if(Se==E)for(var Y in V)V.hasOwnProperty(Y)&&(Q[Y]=V[Y]);V.hasOwnProperty(Se)||(Q[Se]=B[Se])}var Ne=G[T];return G[T]=Q,M.languages.DFS(M.languages,function(Ge,An){An===Ne&&Ge!=T&&(this[Ge]=Q)}),Q},DFS:function T(E,V,G,B){B=B||{};var Q=M.util.objId;for(var Se in E)if(E.hasOwnProperty(Se)){V.call(E,Se,E[Se],G||Se);var Y=E[Se],Ne=M.util.type(Y);"Object"!==Ne||B[Q(Y)]?"Array"===Ne&&!B[Q(Y)]&&(B[Q(Y)]=!0,T(Y,V,Se,B)):(B[Q(Y)]=!0,T(Y,V,null,B))}}},plugins:{},highlightAll:function(T,E){M.highlightAllUnder(document,T,E)},highlightAllUnder:function(T,E,V){var G={callback:V,container:T,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};M.hooks.run("before-highlightall",G),G.elements=Array.prototype.slice.apply(G.container.querySelectorAll(G.selector)),M.hooks.run("before-all-elements-highlight",G);for(var Q,B=0;Q=G.elements[B++];)M.highlightElement(Q,!0===E,G.callback)},highlightElement:function(T,E,V){var G=M.util.getLanguage(T),B=M.languages[G];M.util.setLanguage(T,G);var Q=T.parentElement;Q&&"pre"===Q.nodeName.toLowerCase()&&M.util.setLanguage(Q,G);var Y={element:T,language:G,grammar:B,code:T.textContent};function Ne(An){Y.highlightedCode=An,M.hooks.run("before-insert",Y),Y.element.innerHTML=Y.highlightedCode,M.hooks.run("after-highlight",Y),M.hooks.run("complete",Y),V&&V.call(Y.element)}if(M.hooks.run("before-sanity-check",Y),(Q=Y.element.parentElement)&&"pre"===Q.nodeName.toLowerCase()&&!Q.hasAttribute("tabindex")&&Q.setAttribute("tabindex","0"),!Y.code)return M.hooks.run("complete",Y),void(V&&V.call(Y.element));if(M.hooks.run("before-highlight",Y),Y.grammar)if(E&&z.Worker){var Ge=new Worker(M.filename);Ge.onmessage=function(An){Ne(An.data)},Ge.postMessage(JSON.stringify({language:Y.language,code:Y.code,immediateClose:!0}))}else Ne(M.highlight(Y.code,Y.grammar,Y.language));else Ne(M.util.encode(Y.code))},highlight:function(T,E,V){var G={code:T,grammar:E,language:V};if(M.hooks.run("before-tokenize",G),!G.grammar)throw new Error('The language "'+G.language+'" has no grammar.');return G.tokens=M.tokenize(G.code,G.grammar),M.hooks.run("after-tokenize",G),D.stringify(M.util.encode(G.tokens),G.language)},tokenize:function(T,E){var V=E.rest;if(V){for(var G in V)E[G]=V[G];delete E.rest}var B=new te;return ge(B,B.head,T),W(T,B,E,B.head,0),function De(T){for(var E=[],V=T.head.next;V!==T.tail;)E.push(V.value),V=V.next;return E}(B)},hooks:{all:{},add:function(T,E){var V=M.hooks.all;V[T]=V[T]||[],V[T].push(E)},run:function(T,E){var V=M.hooks.all[T];if(V&&V.length)for(var B,G=0;B=V[G++];)B(E)}},Token:D};function D(T,E,V,G){this.type=T,this.content=E,this.alias=V,this.length=0|(G||"").length}function A(T,E,V,G){T.lastIndex=E;var B=T.exec(V);if(B&&G&&B[1]){var Q=B[1].length;B.index+=Q,B[0]=B[0].slice(Q)}return B}function W(T,E,V,G,B,Q){for(var Se in V)if(V.hasOwnProperty(Se)&&V[Se]){var Y=V[Se];Y=Array.isArray(Y)?Y:[Y];for(var Ne=0;Ne<Y.length;++Ne){if(Q&&Q.cause==Se+","+Ne)return;var Ge=Y[Ne],An=Ge.inside,or=!!Ge.lookbehind,mi=!!Ge.greedy,Gr=Ge.alias;if(mi&&!Ge.pattern.global){var Tn=Ge.pattern.toString().match(/[imsuy]*$/)[0];Ge.pattern=RegExp(Ge.pattern.source,Tn+"g")}for(var _i=Ge.pattern||Ge,ct=G.next,Le=B;ct!==E.tail&&!(Q&&Le>=Q.reach);Le+=ct.value.length,ct=ct.next){var jn=ct.value;if(E.length>T.length)return;if(!(jn instanceof D)){var jt,Cr=1;if(mi){if(!(jt=A(_i,Le,T,or))||jt.index>=T.length)break;var S=jt.index,Yo=jt.index+jt[0].length,y=Le;for(y+=ct.value.length;S>=y;)y+=(ct=ct.next).value.length;if(Le=y-=ct.value.length,ct.value instanceof D)continue;for(var C=ct;C!==E.tail&&(y<Yo||"string"==typeof C.value);C=C.next)Cr++,y+=C.value.length;Cr--,jn=T.slice(Le,y),jt.index-=Le}else if(!(jt=A(_i,0,jn,or)))continue;var w=jt[0],x=jn.slice(0,S=jt.index),j=jn.slice(S+w.length),$=Le+jn.length;Q&&$>Q.reach&&(Q.reach=$);var L=ct.prev;if(x&&(L=ge(E,L,x),Le+=x.length),_e(E,L,Cr),ct=ge(E,L,new D(Se,An?M.tokenize(w,An):w,Gr,w)),j&&ge(E,ct,j),Cr>1){var ae={cause:Se+","+Ne,reach:$};W(T,E,V,ct.prev,Le,ae),Q&&ae.reach>Q.reach&&(Q.reach=ae.reach)}}}}}}function te(){var T={value:null,prev:null,next:null},E={value:null,prev:T,next:null};T.next=E,this.head=T,this.tail=E,this.length=0}function ge(T,E,V){var G=E.next,B={value:V,prev:E,next:G};return E.next=B,G.prev=B,T.length++,B}function _e(T,E,V){for(var G=E.next,B=0;B<V&&G!==T.tail;B++)G=G.next;E.next=G,G.prev=E,T.length-=B}if(z.Prism=M,D.stringify=function T(E,V){if("string"==typeof E)return E;if(Array.isArray(E)){var G="";return E.forEach(function(Ne){G+=T(Ne,V)}),G}var B={type:E.type,content:T(E.content,V),tag:"span",classes:["token",E.type],attributes:{},language:V},Q=E.alias;Q&&(Array.isArray(Q)?Array.prototype.push.apply(B.classes,Q):B.classes.push(Q)),M.hooks.run("wrap",B);var Se="";for(var Y in B.attributes)Se+=" "+Y+'="'+(B.attributes[Y]||"").replace(/"/g,"&quot;")+'"';return"<"+B.tag+' class="'+B.classes.join(" ")+'"'+Se+">"+B.content+"</"+B.tag+">"},!z.document)return z.addEventListener&&(M.disableWorkerMessageHandler||z.addEventListener("message",function(T){var E=JSON.parse(T.data),V=E.language,B=E.immediateClose;z.postMessage(M.highlight(E.code,M.languages[V],V)),B&&z.close()},!1)),M;var Ie=M.util.currentScript();function me(){M.manual||M.highlightAll()}if(Ie&&(M.filename=Ie.src,Ie.hasAttribute("data-manual")&&(M.manual=!0)),!M.manual){var Ue=document.readyState;"loading"===Ue||"interactive"===Ue&&Ie&&Ie.defer?document.addEventListener("DOMContentLoaded",me):window.requestAnimationFrame?window.requestAnimationFrame(me):window.setTimeout(me,16)}return M}(typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{});nt.exports&&(nt.exports=k),typeof global<"u"&&(global.Prism=k),k.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},k.languages.markup.tag.inside["attr-value"].inside.entity=k.languages.markup.entity,k.languages.markup.doctype.inside["internal-subset"].inside=k.languages.markup,k.hooks.add("wrap",function(z){"entity"===z.type&&(z.attributes.title=z.content.replace(/&amp;/,"&"))}),Object.defineProperty(k.languages.markup.tag,"addInlined",{value:function(se,Oe){var Fe={};Fe["language-"+Oe]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:k.languages[Oe]},Fe.cdata=/^<!\[CDATA\[|\]\]>$/i;var M={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Fe}};M["language-"+Oe]={pattern:/[\s\S]+/,inside:k.languages[Oe]};var D={};D[se]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return se}),"i"),lookbehind:!0,greedy:!0,inside:M},k.languages.insertBefore("markup","cdata",D)}}),Object.defineProperty(k.languages.markup.tag,"addAttribute",{value:function(z,se){k.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+z+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[se,"language-"+se],inside:k.languages[se]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),k.languages.html=k.languages.markup,k.languages.mathml=k.languages.markup,k.languages.svg=k.languages.markup,k.languages.xml=k.languages.extend("markup",{}),k.languages.ssml=k.languages.xml,k.languages.atom=k.languages.xml,k.languages.rss=k.languages.xml,function(z){var se=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;z.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+se.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+se.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+se.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+se.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:se,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},z.languages.css.atrule.inside.rest=z.languages.css;var Oe=z.languages.markup;Oe&&(Oe.tag.addInlined("style","css"),Oe.tag.addAttribute("style","css"))}(k),k.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},k.languages.javascript=k.languages.extend("clike",{"class-name":[k.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),k.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,k.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:k.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:k.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:k.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:k.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:k.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),k.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:k.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),k.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),k.languages.markup&&(k.languages.markup.tag.addInlined("script","javascript"),k.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),k.languages.js=k.languages.javascript,function(){if(!(typeof k>"u"||typeof document>"u")){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var Fe={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},M="data-src-status",D="loading",A="loaded",te="pre[data-src]:not(["+M+'="'+A+'"]):not(['+M+'="'+D+'"])';k.hooks.add("before-highlightall",function(Ie){Ie.selector+=", "+te}),k.hooks.add("before-sanity-check",function(Ie){var me=Ie.element;if(me.matches(te)){Ie.code="",me.setAttribute(M,D);var Ue=me.appendChild(document.createElement("CODE"));Ue.textContent="Loading\u2026";var T=me.getAttribute("data-src"),E=Ie.language;if("none"===E){var V=(/\.(\w+)$/.exec(T)||[,"none"])[1];E=Fe[V]||V}k.util.setLanguage(Ue,E),k.util.setLanguage(me,E);var G=k.plugins.autoloader;G&&G.loadLanguages(E),function ge(Ie,me,Ue){var T=new XMLHttpRequest;T.open("GET",Ie,!0),T.onreadystatechange=function(){4==T.readyState&&(T.status<400&&T.responseText?me(T.responseText):Ue(T.status>=400?function(Ie,me){return"\u2716 Error "+Ie+" while fetching file: "+me}(T.status,T.statusText):"\u2716 Error: File does not exist or is empty"))},T.send(null)}(T,function(B){me.setAttribute(M,A);var Q=function _e(Ie){var me=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(Ie||"");if(me){var Ue=Number(me[1]),E=me[3];return me[2]?E?[Ue,Number(E)]:[Ue,void 0]:[Ue,Ue]}}(me.getAttribute("data-range"));if(Q){var Se=B.split(/\r\n?|\n/g),Y=Q[0],Ne=Q[1]??Se.length;Y<0&&(Y+=Se.length),Y=Math.max(0,Math.min(Y-1,Se.length)),Ne<0&&(Ne+=Se.length),Ne=Math.max(0,Math.min(Ne,Se.length)),B=Se.slice(Y,Ne).join("\n"),me.hasAttribute("data-start")||me.setAttribute("data-start",String(Y+1))}Ue.textContent=B,k.highlightElement(Ue)},function(B){me.setAttribute(M,"failed"),Ue.textContent=B})}}),k.plugins.fileHighlight={highlight:function(me){for(var E,Ue=(me||document).querySelectorAll(te),T=0;E=Ue[T++];)k.highlightElement(E)}};var De=!1;k.fileHighlight=function(){De||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),De=!0),k.plugins.fileHighlight.highlight.apply(this,arguments)}}}()},156:nt=>{function pe(z,se,Oe,Fe,M,D,A){try{var W=z[D](A),te=W.value}catch(ge){return void Oe(ge)}W.done?se(te):Promise.resolve(te).then(Fe,M)}nt.exports=function k(z){return function(){var se=this,Oe=arguments;return new Promise(function(Fe,M){var D=z.apply(se,Oe);function A(te){pe(D,Fe,M,A,W,"next",te)}function W(te){pe(D,Fe,M,A,W,"throw",te)}A(void 0)})}},nt.exports.__esModule=!0,nt.exports.default=nt.exports},582:(nt,pe,k)=>{"use strict";k.r(pe),k.d(pe,{__addDisposableResource:()=>Le,__assign:()=>Oe,__asyncDelegator:()=>Y,__asyncGenerator:()=>Se,__asyncValues:()=>Ne,__await:()=>Q,__awaiter:()=>De,__classPrivateFieldGet:()=>Tn,__classPrivateFieldIn:()=>ct,__classPrivateFieldSet:()=>_i,__createBinding:()=>me,__decorate:()=>M,__disposeResources:()=>Cr,__esDecorate:()=>A,__exportStar:()=>Ue,__extends:()=>se,__generator:()=>Ie,__importDefault:()=>Gr,__importStar:()=>mi,__makeTemplateObject:()=>Ge,__metadata:()=>_e,__param:()=>D,__propKey:()=>te,__read:()=>E,__rest:()=>Fe,__rewriteRelativeImportExtension:()=>jt,__runInitializers:()=>W,__setFunctionName:()=>ge,__spread:()=>V,__spreadArray:()=>B,__spreadArrays:()=>G,__values:()=>T,default:()=>Yo});var z=function(y,C){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,w){S.__proto__=w}||function(S,w){for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&(S[x]=w[x])})(y,C)};function se(y,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function S(){this.constructor=y}z(y,C),y.prototype=null===C?Object.create(C):(S.prototype=C.prototype,new S)}var Oe=function(){return Oe=Object.assign||function(C){for(var S,w=1,x=arguments.length;w<x;w++)for(var j in S=arguments[w])Object.prototype.hasOwnProperty.call(S,j)&&(C[j]=S[j]);return C},Oe.apply(this,arguments)};function Fe(y,C){var S={};for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&C.indexOf(w)<0&&(S[w]=y[w]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var x=0;for(w=Object.getOwnPropertySymbols(y);x<w.length;x++)C.indexOf(w[x])<0&&Object.prototype.propertyIsEnumerable.call(y,w[x])&&(S[w[x]]=y[w[x]])}return S}function M(y,C,S,w){var $,x=arguments.length,j=x<3?C:null===w?w=Object.getOwnPropertyDescriptor(C,S):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(y,C,S,w);else for(var L=y.length-1;L>=0;L--)($=y[L])&&(j=(x<3?$(j):x>3?$(C,S,j):$(C,S))||j);return x>3&&j&&Object.defineProperty(C,S,j),j}function D(y,C){return function(S,w){C(S,w,y)}}function A(y,C,S,w,x,j){function $(sr){if(void 0!==sr&&"function"!=typeof sr)throw new TypeError("Function expected");return sr}for(var Tt,L=w.kind,vt="getter"===L?"get":"setter"===L?"set":"value",ae=!C&&y?w.static?y:y.prototype:null,rt=C||(ae?Object.getOwnPropertyDescriptor(ae,w.name):{}),zr=!1,Qe=S.length-1;Qe>=0;Qe--){var $t={};for(var on in w)$t[on]="access"===on?{}:w[on];for(var on in w.access)$t.access[on]=w.access[on];$t.addInitializer=function(sr){if(zr)throw new TypeError("Cannot add initializers after decoration has completed");j.push($(sr||null))};var Mn=(0,S[Qe])("accessor"===L?{get:rt.get,set:rt.set}:rt[vt],$t);if("accessor"===L){if(void 0===Mn)continue;if(null===Mn||"object"!=typeof Mn)throw new TypeError("Object expected");(Tt=$(Mn.get))&&(rt.get=Tt),(Tt=$(Mn.set))&&(rt.set=Tt),(Tt=$(Mn.init))&&x.unshift(Tt)}else(Tt=$(Mn))&&("field"===L?x.unshift(Tt):rt[vt]=Tt)}ae&&Object.defineProperty(ae,w.name,rt),zr=!0}function W(y,C,S){for(var w=arguments.length>2,x=0;x<C.length;x++)S=w?C[x].call(y,S):C[x].call(y);return w?S:void 0}function te(y){return"symbol"==typeof y?y:"".concat(y)}function ge(y,C,S){return"symbol"==typeof C&&(C=C.description?"[".concat(C.description,"]"):""),Object.defineProperty(y,"name",{configurable:!0,value:S?"".concat(S," ",C):C})}function _e(y,C){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(y,C)}function De(y,C,S,w){return new(S||(S=Promise))(function(j,$){function L(rt){try{ae(w.next(rt))}catch(Tt){$(Tt)}}function vt(rt){try{ae(w.throw(rt))}catch(Tt){$(Tt)}}function ae(rt){rt.done?j(rt.value):function x(j){return j instanceof S?j:new S(function($){$(j)})}(rt.value).then(L,vt)}ae((w=w.apply(y,C||[])).next())})}function Ie(y,C){var w,x,j,S={label:0,sent:function(){if(1&j[0])throw j[1];return j[1]},trys:[],ops:[]},$=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return $.next=L(0),$.throw=L(1),$.return=L(2),"function"==typeof Symbol&&($[Symbol.iterator]=function(){return this}),$;function L(ae){return function(rt){return function vt(ae){if(w)throw new TypeError("Generator is already executing.");for(;$&&($=0,ae[0]&&(S=0)),S;)try{if(w=1,x&&(j=2&ae[0]?x.return:ae[0]?x.throw||((j=x.return)&&j.call(x),0):x.next)&&!(j=j.call(x,ae[1])).done)return j;switch(x=0,j&&(ae=[2&ae[0],j.value]),ae[0]){case 0:case 1:j=ae;break;case 4:return S.label++,{value:ae[1],done:!1};case 5:S.label++,x=ae[1],ae=[0];continue;case 7:ae=S.ops.pop(),S.trys.pop();continue;default:if(!(j=(j=S.trys).length>0&&j[j.length-1])&&(6===ae[0]||2===ae[0])){S=0;continue}if(3===ae[0]&&(!j||ae[1]>j[0]&&ae[1]<j[3])){S.label=ae[1];break}if(6===ae[0]&&S.label<j[1]){S.label=j[1],j=ae;break}if(j&&S.label<j[2]){S.label=j[2],S.ops.push(ae);break}j[2]&&S.ops.pop(),S.trys.pop();continue}ae=C.call(y,S)}catch(rt){ae=[6,rt],x=0}finally{w=j=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([ae,rt])}}}var me=Object.create?function(y,C,S,w){void 0===w&&(w=S);var x=Object.getOwnPropertyDescriptor(C,S);(!x||("get"in x?!C.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return C[S]}}),Object.defineProperty(y,w,x)}:function(y,C,S,w){void 0===w&&(w=S),y[w]=C[S]};function Ue(y,C){for(var S in y)"default"!==S&&!Object.prototype.hasOwnProperty.call(C,S)&&me(C,y,S)}function T(y){var C="function"==typeof Symbol&&Symbol.iterator,S=C&&y[C],w=0;if(S)return S.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&w>=y.length&&(y=void 0),{value:y&&y[w++],done:!y}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")}function E(y,C){var S="function"==typeof Symbol&&y[Symbol.iterator];if(!S)return y;var x,$,w=S.call(y),j=[];try{for(;(void 0===C||C-- >0)&&!(x=w.next()).done;)j.push(x.value)}catch(L){$={error:L}}finally{try{x&&!x.done&&(S=w.return)&&S.call(w)}finally{if($)throw $.error}}return j}function V(){for(var y=[],C=0;C<arguments.length;C++)y=y.concat(E(arguments[C]));return y}function G(){for(var y=0,C=0,S=arguments.length;C<S;C++)y+=arguments[C].length;var w=Array(y),x=0;for(C=0;C<S;C++)for(var j=arguments[C],$=0,L=j.length;$<L;$++,x++)w[x]=j[$];return w}function B(y,C,S){if(S||2===arguments.length)for(var j,w=0,x=C.length;w<x;w++)(j||!(w in C))&&(j||(j=Array.prototype.slice.call(C,0,w)),j[w]=C[w]);return y.concat(j||Array.prototype.slice.call(C))}function Q(y){return this instanceof Q?(this.v=y,this):new Q(y)}function Se(y,C,S){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var x,w=S.apply(y,C||[]),j=[];return x=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),L("next"),L("throw"),L("return",function $(Qe){return function($t){return Promise.resolve($t).then(Qe,Tt)}}),x[Symbol.asyncIterator]=function(){return this},x;function L(Qe,$t){w[Qe]&&(x[Qe]=function(on){return new Promise(function(Mn,sr){j.push([Qe,on,Mn,sr])>1||vt(Qe,on)})},$t&&(x[Qe]=$t(x[Qe])))}function vt(Qe,$t){try{!function ae(Qe){Qe.value instanceof Q?Promise.resolve(Qe.value.v).then(rt,Tt):zr(j[0][2],Qe)}(w[Qe]($t))}catch(on){zr(j[0][3],on)}}function rt(Qe){vt("next",Qe)}function Tt(Qe){vt("throw",Qe)}function zr(Qe,$t){Qe($t),j.shift(),j.length&&vt(j[0][0],j[0][1])}}function Y(y){var C,S;return C={},w("next"),w("throw",function(x){throw x}),w("return"),C[Symbol.iterator]=function(){return this},C;function w(x,j){C[x]=y[x]?function($){return(S=!S)?{value:Q(y[x]($)),done:!1}:j?j($):$}:j}}function Ne(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S,C=y[Symbol.asyncIterator];return C?C.call(y):(y=T(y),S={},w("next"),w("throw"),w("return"),S[Symbol.asyncIterator]=function(){return this},S);function w(j){S[j]=y[j]&&function($){return new Promise(function(L,vt){!function x(j,$,L,vt){Promise.resolve(vt).then(function(ae){j({value:ae,done:L})},$)}(L,vt,($=y[j]($)).done,$.value)})}}}function Ge(y,C){return Object.defineProperty?Object.defineProperty(y,"raw",{value:C}):y.raw=C,y}var An=Object.create?function(y,C){Object.defineProperty(y,"default",{enumerable:!0,value:C})}:function(y,C){y.default=C},or=function(y){return(or=Object.getOwnPropertyNames||function(C){var S=[];for(var w in C)Object.prototype.hasOwnProperty.call(C,w)&&(S[S.length]=w);return S})(y)};function mi(y){if(y&&y.__esModule)return y;var C={};if(null!=y)for(var S=or(y),w=0;w<S.length;w++)"default"!==S[w]&&me(C,y,S[w]);return An(C,y),C}function Gr(y){return y&&y.__esModule?y:{default:y}}function Tn(y,C,S,w){if("a"===S&&!w)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof C?y!==C||!w:!C.has(y))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===S?w:"a"===S?w.call(y):w?w.value:C.get(y)}function _i(y,C,S,w,x){if("m"===w)throw new TypeError("Private method is not writable");if("a"===w&&!x)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof C?y!==C||!x:!C.has(y))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===w?x.call(y,S):x?x.value=S:C.set(y,S),S}function ct(y,C){if(null===C||"object"!=typeof C&&"function"!=typeof C)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof y?C===y:y.has(C)}function Le(y,C,S){if(null!=C){if("object"!=typeof C&&"function"!=typeof C)throw new TypeError("Object expected.");var w,x;if(S){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");w=C[Symbol.asyncDispose]}if(void 0===w){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");w=C[Symbol.dispose],S&&(x=w)}if("function"!=typeof w)throw new TypeError("Object not disposable.");x&&(w=function(){try{x.call(this)}catch(j){return Promise.reject(j)}}),y.stack.push({value:C,dispose:w,async:S})}else S&&y.stack.push({async:!0});return C}var jn="function"==typeof SuppressedError?SuppressedError:function(y,C,S){var w=new Error(S);return w.name="SuppressedError",w.error=y,w.suppressed=C,w};function Cr(y){function C(j){y.error=y.hasError?new jn(j,y.error,"An error was suppressed during disposal."):j,y.hasError=!0}var S,w=0;return function x(){for(;S=y.stack.pop();)try{if(!S.async&&1===w)return w=0,y.stack.push(S),Promise.resolve().then(x);if(S.dispose){var j=S.dispose.call(S.value);if(S.async)return w|=2,Promise.resolve(j).then(x,function($){return C($),x()})}else w|=1}catch($){C($)}if(1===w)return y.hasError?Promise.reject(y.error):Promise.resolve();if(y.hasError)throw y.error}()}function jt(y,C){return"string"==typeof y&&/^\.\.?\//.test(y)?y.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(S,w,x,j,$){return w?C?".jsx":".js":!x||j&&$?x+j+"."+$.toLowerCase()+"js":S}):y}const Yo={__extends:se,__assign:Oe,__rest:Fe,__decorate:M,__param:D,__esDecorate:A,__runInitializers:W,__propKey:te,__setFunctionName:ge,__metadata:_e,__awaiter:De,__generator:Ie,__createBinding:me,__exportStar:Ue,__values:T,__read:E,__spread:V,__spreadArrays:G,__spreadArray:B,__await:Q,__asyncGenerator:Se,__asyncDelegator:Y,__asyncValues:Ne,__makeTemplateObject:Ge,__importStar:mi,__importDefault:Gr,__classPrivateFieldGet:Tn,__classPrivateFieldSet:_i,__classPrivateFieldIn:ct,__addDisposableResource:Le,__disposeResources:Cr,__rewriteRelativeImportExtension:jt}}},nt=>{nt(nt.s=765)}]);